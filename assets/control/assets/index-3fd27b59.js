function z5(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerpolicy&&(s.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?s.credentials="include":i.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Cl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function lI(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var L={},G5={get exports(){return L},set exports(t){L=t}},Sh={},k={},H5={get exports(){return k},set exports(t){k=t}},Ae={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nc=Symbol.for("react.element"),K5=Symbol.for("react.portal"),q5=Symbol.for("react.fragment"),Y5=Symbol.for("react.strict_mode"),Q5=Symbol.for("react.profiler"),J5=Symbol.for("react.provider"),X5=Symbol.for("react.context"),Z5=Symbol.for("react.forward_ref"),e3=Symbol.for("react.suspense"),t3=Symbol.for("react.memo"),n3=Symbol.for("react.lazy"),x1=Symbol.iterator;function r3(t){return t===null||typeof t!="object"?null:(t=x1&&t[x1]||t["@@iterator"],typeof t=="function"?t:null)}var uI={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},cI=Object.assign,fI={};function Wa(t,e,n){this.props=t,this.context=e,this.refs=fI,this.updater=n||uI}Wa.prototype.isReactComponent={};Wa.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Wa.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function dI(){}dI.prototype=Wa.prototype;function z0(t,e,n){this.props=t,this.context=e,this.refs=fI,this.updater=n||uI}var G0=z0.prototype=new dI;G0.constructor=z0;cI(G0,Wa.prototype);G0.isPureReactComponent=!0;var O1=Array.isArray,hI=Object.prototype.hasOwnProperty,H0={current:null},pI={key:!0,ref:!0,__self:!0,__source:!0};function gI(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)hI.call(e,r)&&!pI.hasOwnProperty(r)&&(i[r]=e[r]);var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){for(var c=Array(l),f=0;f<l;f++)c[f]=arguments[f+2];i.children=c}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:nc,type:t,key:s,ref:o,props:i,_owner:H0.current}}function i3(t,e){return{$$typeof:nc,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function K0(t){return typeof t=="object"&&t!==null&&t.$$typeof===nc}function s3(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var N1=/\/+/g;function Lg(t,e){return typeof t=="object"&&t!==null&&t.key!=null?s3(""+t.key):e.toString(36)}function zf(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case nc:case K5:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Lg(o,0):r,O1(i)?(n="",t!=null&&(n=t.replace(N1,"$&/")+"/"),zf(i,e,n,"",function(f){return f})):i!=null&&(K0(i)&&(i=i3(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(N1,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",O1(t))for(var l=0;l<t.length;l++){s=t[l];var c=r+Lg(s,l);o+=zf(s,e,n,c,i)}else if(c=r3(t),typeof c=="function")for(t=c.call(t),l=0;!(s=t.next()).done;)s=s.value,c=r+Lg(s,l++),o+=zf(s,e,n,c,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function pf(t,e,n){if(t==null)return t;var r=[],i=0;return zf(t,r,"","",function(s){return e.call(n,s,i++)}),r}function o3(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var rn={current:null},Gf={transition:null},a3={ReactCurrentDispatcher:rn,ReactCurrentBatchConfig:Gf,ReactCurrentOwner:H0};Ae.Children={map:pf,forEach:function(t,e,n){pf(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return pf(t,function(){e++}),e},toArray:function(t){return pf(t,function(e){return e})||[]},only:function(t){if(!K0(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ae.Component=Wa;Ae.Fragment=q5;Ae.Profiler=Q5;Ae.PureComponent=z0;Ae.StrictMode=Y5;Ae.Suspense=e3;Ae.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=a3;Ae.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=cI({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=H0.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)hI.call(e,c)&&!pI.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var f=0;f<c;f++)l[f]=arguments[f+2];r.children=l}return{$$typeof:nc,type:t.type,key:i,ref:s,props:r,_owner:o}};Ae.createContext=function(t){return t={$$typeof:X5,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:J5,_context:t},t.Consumer=t};Ae.createElement=gI;Ae.createFactory=function(t){var e=gI.bind(null,t);return e.type=t,e};Ae.createRef=function(){return{current:null}};Ae.forwardRef=function(t){return{$$typeof:Z5,render:t}};Ae.isValidElement=K0;Ae.lazy=function(t){return{$$typeof:n3,_payload:{_status:-1,_result:t},_init:o3}};Ae.memo=function(t,e){return{$$typeof:t3,type:t,compare:e===void 0?null:e}};Ae.startTransition=function(t){var e=Gf.transition;Gf.transition={};try{t()}finally{Gf.transition=e}};Ae.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Ae.useCallback=function(t,e){return rn.current.useCallback(t,e)};Ae.useContext=function(t){return rn.current.useContext(t)};Ae.useDebugValue=function(){};Ae.useDeferredValue=function(t){return rn.current.useDeferredValue(t)};Ae.useEffect=function(t,e){return rn.current.useEffect(t,e)};Ae.useId=function(){return rn.current.useId()};Ae.useImperativeHandle=function(t,e,n){return rn.current.useImperativeHandle(t,e,n)};Ae.useInsertionEffect=function(t,e){return rn.current.useInsertionEffect(t,e)};Ae.useLayoutEffect=function(t,e){return rn.current.useLayoutEffect(t,e)};Ae.useMemo=function(t,e){return rn.current.useMemo(t,e)};Ae.useReducer=function(t,e,n){return rn.current.useReducer(t,e,n)};Ae.useRef=function(t){return rn.current.useRef(t)};Ae.useState=function(t){return rn.current.useState(t)};Ae.useSyncExternalStore=function(t,e,n){return rn.current.useSyncExternalStore(t,e,n)};Ae.useTransition=function(){return rn.current.useTransition()};Ae.version="18.2.0";(function(t){t.exports=Ae})(H5);const Vt=lI(k),Km=z5({__proto__:null,default:Vt},[k]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l3=k,u3=Symbol.for("react.element"),c3=Symbol.for("react.fragment"),f3=Object.prototype.hasOwnProperty,d3=l3.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,h3={key:!0,ref:!0,__self:!0,__source:!0};function mI(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)f3.call(e,r)&&!h3.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:u3,type:t,key:s,ref:o,props:i,_owner:d3.current}}Sh.Fragment=c3;Sh.jsx=mI;Sh.jsxs=mI;(function(t){t.exports=Sh})(G5);var qm={},Ym={},p3={get exports(){return Ym},set exports(t){Ym=t}},Fn={},Qm={},g3={get exports(){return Qm},set exports(t){Qm=t}},vI={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(z,ee){var se=z.length;z.push(ee);e:for(;0<se;){var oe=se-1>>>1,De=z[oe];if(0<i(De,ee))z[oe]=ee,z[se]=De,se=oe;else break e}}function n(z){return z.length===0?null:z[0]}function r(z){if(z.length===0)return null;var ee=z[0],se=z.pop();if(se!==ee){z[0]=se;e:for(var oe=0,De=z.length,Ot=De>>>1;oe<Ot;){var mt=2*(oe+1)-1,Cn=z[mt],bt=mt+1,tr=z[bt];if(0>i(Cn,se))bt<De&&0>i(tr,Cn)?(z[oe]=tr,z[bt]=se,oe=bt):(z[oe]=Cn,z[mt]=se,oe=mt);else if(bt<De&&0>i(tr,se))z[oe]=tr,z[bt]=se,oe=bt;else break e}}return ee}function i(z,ee){var se=z.sortIndex-ee.sortIndex;return se!==0?se:z.id-ee.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],f=[],h=1,p=null,g=3,v=!1,I=!1,T=!1,R=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(z){for(var ee=n(f);ee!==null;){if(ee.callback===null)r(f);else if(ee.startTime<=z)r(f),ee.sortIndex=ee.expirationTime,e(c,ee);else break;ee=n(f)}}function O(z){if(T=!1,b(z),!I)if(n(c)!==null)I=!0,ke(B);else{var ee=n(f);ee!==null&&ce(O,ee.startTime-z)}}function B(z,ee){I=!1,T&&(T=!1,w(J),J=-1),v=!0;var se=g;try{for(b(ee),p=n(c);p!==null&&(!(p.expirationTime>ee)||z&&!Y());){var oe=p.callback;if(typeof oe=="function"){p.callback=null,g=p.priorityLevel;var De=oe(p.expirationTime<=ee);ee=t.unstable_now(),typeof De=="function"?p.callback=De:p===n(c)&&r(c),b(ee)}else r(c);p=n(c)}if(p!==null)var Ot=!0;else{var mt=n(f);mt!==null&&ce(O,mt.startTime-ee),Ot=!1}return Ot}finally{p=null,g=se,v=!1}}var q=!1,V=null,J=-1,D=5,F=-1;function Y(){return!(t.unstable_now()-F<D)}function X(){if(V!==null){var z=t.unstable_now();F=z;var ee=!0;try{ee=V(!0,z)}finally{ee?le():(q=!1,V=null)}}else q=!1}var le;if(typeof E=="function")le=function(){E(X)};else if(typeof MessageChannel<"u"){var Z=new MessageChannel,fe=Z.port2;Z.port1.onmessage=X,le=function(){fe.postMessage(null)}}else le=function(){R(X,0)};function ke(z){V=z,q||(q=!0,le())}function ce(z,ee){J=R(function(){z(t.unstable_now())},ee)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(z){z.callback=null},t.unstable_continueExecution=function(){I||v||(I=!0,ke(B))},t.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<z?Math.floor(1e3/z):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(z){switch(g){case 1:case 2:case 3:var ee=3;break;default:ee=g}var se=g;g=ee;try{return z()}finally{g=se}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(z,ee){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var se=g;g=z;try{return ee()}finally{g=se}},t.unstable_scheduleCallback=function(z,ee,se){var oe=t.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?oe+se:oe):se=oe,z){case 1:var De=-1;break;case 2:De=250;break;case 5:De=1073741823;break;case 4:De=1e4;break;default:De=5e3}return De=se+De,z={id:h++,callback:ee,priorityLevel:z,startTime:se,expirationTime:De,sortIndex:-1},se>oe?(z.sortIndex=se,e(f,z),n(c)===null&&z===n(f)&&(T?(w(J),J=-1):T=!0,ce(O,se-oe))):(z.sortIndex=De,e(c,z),I||v||(I=!0,ke(B))),z},t.unstable_shouldYield=Y,t.unstable_wrapCallback=function(z){var ee=g;return function(){var se=g;g=ee;try{return z.apply(this,arguments)}finally{g=se}}}})(vI);(function(t){t.exports=vI})(g3);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _I=k,Dn=Qm;function K(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var yI=new Set,vu={};function go(t,e){ba(t,e),ba(t+"Capture",e)}function ba(t,e){for(vu[t]=e,t=0;t<e.length;t++)yI.add(e[t])}var di=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Jm=Object.prototype.hasOwnProperty,m3=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,P1={},D1={};function v3(t){return Jm.call(D1,t)?!0:Jm.call(P1,t)?!1:m3.test(t)?D1[t]=!0:(P1[t]=!0,!1)}function _3(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function y3(t,e,n,r){if(e===null||typeof e>"u"||_3(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function sn(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Mt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Mt[t]=new sn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Mt[e]=new sn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Mt[t]=new sn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Mt[t]=new sn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Mt[t]=new sn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Mt[t]=new sn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Mt[t]=new sn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Mt[t]=new sn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Mt[t]=new sn(t,5,!1,t.toLowerCase(),null,!1,!1)});var q0=/[\-:]([a-z])/g;function Y0(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(q0,Y0);Mt[e]=new sn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(q0,Y0);Mt[e]=new sn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(q0,Y0);Mt[e]=new sn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Mt[t]=new sn(t,1,!1,t.toLowerCase(),null,!1,!1)});Mt.xlinkHref=new sn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Mt[t]=new sn(t,1,!1,t.toLowerCase(),null,!0,!0)});function Q0(t,e,n,r){var i=Mt.hasOwnProperty(e)?Mt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(y3(e,n,i,r)&&(n=null),r||i===null?v3(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var yi=_I.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,gf=Symbol.for("react.element"),Ho=Symbol.for("react.portal"),Ko=Symbol.for("react.fragment"),J0=Symbol.for("react.strict_mode"),Xm=Symbol.for("react.profiler"),wI=Symbol.for("react.provider"),EI=Symbol.for("react.context"),X0=Symbol.for("react.forward_ref"),Zm=Symbol.for("react.suspense"),ev=Symbol.for("react.suspense_list"),Z0=Symbol.for("react.memo"),Fi=Symbol.for("react.lazy"),SI=Symbol.for("react.offscreen"),L1=Symbol.iterator;function bl(t){return t===null||typeof t!="object"?null:(t=L1&&t[L1]||t["@@iterator"],typeof t=="function"?t:null)}var ot=Object.assign,Fg;function zl(t){if(Fg===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Fg=e&&e[1]||""}return`
`+Fg+t}var Mg=!1;function Ug(t,e){if(!t||Mg)return"";Mg=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(f){var r=f}Reflect.construct(t,[],e)}else{try{e.call()}catch(f){r=f}t.call(e.prototype)}else{try{throw Error()}catch(f){r=f}t()}}catch(f){if(f&&r&&typeof f.stack=="string"){for(var i=f.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,l=s.length-1;1<=o&&0<=l&&i[o]!==s[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==s[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==s[l]){var c=`
`+i[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=l);break}}}finally{Mg=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?zl(t):""}function w3(t){switch(t.tag){case 5:return zl(t.type);case 16:return zl("Lazy");case 13:return zl("Suspense");case 19:return zl("SuspenseList");case 0:case 2:case 15:return t=Ug(t.type,!1),t;case 11:return t=Ug(t.type.render,!1),t;case 1:return t=Ug(t.type,!0),t;default:return""}}function tv(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ko:return"Fragment";case Ho:return"Portal";case Xm:return"Profiler";case J0:return"StrictMode";case Zm:return"Suspense";case ev:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case EI:return(t.displayName||"Context")+".Consumer";case wI:return(t._context.displayName||"Context")+".Provider";case X0:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Z0:return e=t.displayName||null,e!==null?e:tv(t.type)||"Memo";case Fi:e=t._payload,t=t._init;try{return tv(t(e))}catch{}}return null}function E3(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return tv(e);case 8:return e===J0?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ps(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function CI(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function S3(t){var e=CI(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function mf(t){t._valueTracker||(t._valueTracker=S3(t))}function bI(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=CI(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function pd(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function nv(t,e){var n=e.checked;return ot({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function F1(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ps(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function II(t,e){e=e.checked,e!=null&&Q0(t,"checked",e,!1)}function rv(t,e){II(t,e);var n=ps(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?iv(t,e.type,n):e.hasOwnProperty("defaultValue")&&iv(t,e.type,ps(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function M1(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function iv(t,e,n){(e!=="number"||pd(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Gl=Array.isArray;function fa(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ps(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function sv(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(K(91));return ot({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function U1(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(K(92));if(Gl(n)){if(1<n.length)throw Error(K(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ps(n)}}function TI(t,e){var n=ps(e.value),r=ps(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function B1(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function RI(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ov(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?RI(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var vf,AI=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(vf=vf||document.createElement("div"),vf.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=vf.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function _u(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var eu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},C3=["Webkit","ms","Moz","O"];Object.keys(eu).forEach(function(t){C3.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),eu[e]=eu[t]})});function kI(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||eu.hasOwnProperty(t)&&eu[t]?(""+e).trim():e+"px"}function xI(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=kI(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var b3=ot({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function av(t,e){if(e){if(b3[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(K(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(K(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(K(61))}if(e.style!=null&&typeof e.style!="object")throw Error(K(62))}}function lv(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var uv=null;function e_(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var cv=null,da=null,ha=null;function $1(t){if(t=sc(t)){if(typeof cv!="function")throw Error(K(280));var e=t.stateNode;e&&(e=Rh(e),cv(t.stateNode,t.type,e))}}function OI(t){da?ha?ha.push(t):ha=[t]:da=t}function NI(){if(da){var t=da,e=ha;if(ha=da=null,$1(t),e)for(t=0;t<e.length;t++)$1(e[t])}}function PI(t,e){return t(e)}function DI(){}var Bg=!1;function LI(t,e,n){if(Bg)return t(e,n);Bg=!0;try{return PI(t,e,n)}finally{Bg=!1,(da!==null||ha!==null)&&(DI(),NI())}}function yu(t,e){var n=t.stateNode;if(n===null)return null;var r=Rh(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(K(231,e,typeof n));return n}var fv=!1;if(di)try{var Il={};Object.defineProperty(Il,"passive",{get:function(){fv=!0}}),window.addEventListener("test",Il,Il),window.removeEventListener("test",Il,Il)}catch{fv=!1}function I3(t,e,n,r,i,s,o,l,c){var f=Array.prototype.slice.call(arguments,3);try{e.apply(n,f)}catch(h){this.onError(h)}}var tu=!1,gd=null,md=!1,dv=null,T3={onError:function(t){tu=!0,gd=t}};function R3(t,e,n,r,i,s,o,l,c){tu=!1,gd=null,I3.apply(T3,arguments)}function A3(t,e,n,r,i,s,o,l,c){if(R3.apply(this,arguments),tu){if(tu){var f=gd;tu=!1,gd=null}else throw Error(K(198));md||(md=!0,dv=f)}}function mo(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function FI(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function j1(t){if(mo(t)!==t)throw Error(K(188))}function k3(t){var e=t.alternate;if(!e){if(e=mo(t),e===null)throw Error(K(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return j1(i),t;if(s===r)return j1(i),e;s=s.sibling}throw Error(K(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o)throw Error(K(189))}}if(n.alternate!==r)throw Error(K(190))}if(n.tag!==3)throw Error(K(188));return n.stateNode.current===n?t:e}function MI(t){return t=k3(t),t!==null?UI(t):null}function UI(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=UI(t);if(e!==null)return e;t=t.sibling}return null}var BI=Dn.unstable_scheduleCallback,V1=Dn.unstable_cancelCallback,x3=Dn.unstable_shouldYield,O3=Dn.unstable_requestPaint,dt=Dn.unstable_now,N3=Dn.unstable_getCurrentPriorityLevel,t_=Dn.unstable_ImmediatePriority,$I=Dn.unstable_UserBlockingPriority,vd=Dn.unstable_NormalPriority,P3=Dn.unstable_LowPriority,jI=Dn.unstable_IdlePriority,Ch=null,Fr=null;function D3(t){if(Fr&&typeof Fr.onCommitFiberRoot=="function")try{Fr.onCommitFiberRoot(Ch,t,void 0,(t.current.flags&128)===128)}catch{}}var wr=Math.clz32?Math.clz32:M3,L3=Math.log,F3=Math.LN2;function M3(t){return t>>>=0,t===0?32:31-(L3(t)/F3|0)|0}var _f=64,yf=4194304;function Hl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function _d(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~i;l!==0?r=Hl(l):(s&=o,s!==0&&(r=Hl(s)))}else o=n&~i,o!==0?r=Hl(o):s!==0&&(r=Hl(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-wr(e),i=1<<n,r|=t[n],e&=~i;return r}function U3(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function B3(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-wr(s),l=1<<o,c=i[o];c===-1?(!(l&n)||l&r)&&(i[o]=U3(l,e)):c<=e&&(t.expiredLanes|=l),s&=~l}}function hv(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function VI(){var t=_f;return _f<<=1,!(_f&4194240)&&(_f=64),t}function $g(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function rc(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-wr(e),t[e]=n}function $3(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-wr(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function n_(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-wr(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var $e=0;function WI(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var zI,r_,GI,HI,KI,pv=!1,wf=[],Xi=null,Zi=null,es=null,wu=new Map,Eu=new Map,Bi=[],j3="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function W1(t,e){switch(t){case"focusin":case"focusout":Xi=null;break;case"dragenter":case"dragleave":Zi=null;break;case"mouseover":case"mouseout":es=null;break;case"pointerover":case"pointerout":wu.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Eu.delete(e.pointerId)}}function Tl(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=sc(e),e!==null&&r_(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function V3(t,e,n,r,i){switch(e){case"focusin":return Xi=Tl(Xi,t,e,n,r,i),!0;case"dragenter":return Zi=Tl(Zi,t,e,n,r,i),!0;case"mouseover":return es=Tl(es,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return wu.set(s,Tl(wu.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Eu.set(s,Tl(Eu.get(s)||null,t,e,n,r,i)),!0}return!1}function qI(t){var e=Gs(t.target);if(e!==null){var n=mo(e);if(n!==null){if(e=n.tag,e===13){if(e=FI(n),e!==null){t.blockedOn=e,KI(t.priority,function(){GI(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Hf(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=gv(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);uv=r,n.target.dispatchEvent(r),uv=null}else return e=sc(n),e!==null&&r_(e),t.blockedOn=n,!1;e.shift()}return!0}function z1(t,e,n){Hf(t)&&n.delete(e)}function W3(){pv=!1,Xi!==null&&Hf(Xi)&&(Xi=null),Zi!==null&&Hf(Zi)&&(Zi=null),es!==null&&Hf(es)&&(es=null),wu.forEach(z1),Eu.forEach(z1)}function Rl(t,e){t.blockedOn===e&&(t.blockedOn=null,pv||(pv=!0,Dn.unstable_scheduleCallback(Dn.unstable_NormalPriority,W3)))}function Su(t){function e(i){return Rl(i,t)}if(0<wf.length){Rl(wf[0],t);for(var n=1;n<wf.length;n++){var r=wf[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Xi!==null&&Rl(Xi,t),Zi!==null&&Rl(Zi,t),es!==null&&Rl(es,t),wu.forEach(e),Eu.forEach(e),n=0;n<Bi.length;n++)r=Bi[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Bi.length&&(n=Bi[0],n.blockedOn===null);)qI(n),n.blockedOn===null&&Bi.shift()}var pa=yi.ReactCurrentBatchConfig,yd=!0;function z3(t,e,n,r){var i=$e,s=pa.transition;pa.transition=null;try{$e=1,i_(t,e,n,r)}finally{$e=i,pa.transition=s}}function G3(t,e,n,r){var i=$e,s=pa.transition;pa.transition=null;try{$e=4,i_(t,e,n,r)}finally{$e=i,pa.transition=s}}function i_(t,e,n,r){if(yd){var i=gv(t,e,n,r);if(i===null)Qg(t,e,r,wd,n),W1(t,r);else if(V3(i,t,e,n,r))r.stopPropagation();else if(W1(t,r),e&4&&-1<j3.indexOf(t)){for(;i!==null;){var s=sc(i);if(s!==null&&zI(s),s=gv(t,e,n,r),s===null&&Qg(t,e,r,wd,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Qg(t,e,r,null,n)}}var wd=null;function gv(t,e,n,r){if(wd=null,t=e_(r),t=Gs(t),t!==null)if(e=mo(t),e===null)t=null;else if(n=e.tag,n===13){if(t=FI(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return wd=t,null}function YI(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(N3()){case t_:return 1;case $I:return 4;case vd:case P3:return 16;case jI:return 536870912;default:return 16}default:return 16}}var Hi=null,s_=null,Kf=null;function QI(){if(Kf)return Kf;var t,e=s_,n=e.length,r,i="value"in Hi?Hi.value:Hi.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Kf=i.slice(t,1<r?1-r:void 0)}function qf(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ef(){return!0}function G1(){return!1}function Mn(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Ef:G1,this.isPropagationStopped=G1,this}return ot(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ef)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ef)},persist:function(){},isPersistent:Ef}),e}var za={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},o_=Mn(za),ic=ot({},za,{view:0,detail:0}),H3=Mn(ic),jg,Vg,Al,bh=ot({},ic,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:a_,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Al&&(Al&&t.type==="mousemove"?(jg=t.screenX-Al.screenX,Vg=t.screenY-Al.screenY):Vg=jg=0,Al=t),jg)},movementY:function(t){return"movementY"in t?t.movementY:Vg}}),H1=Mn(bh),K3=ot({},bh,{dataTransfer:0}),q3=Mn(K3),Y3=ot({},ic,{relatedTarget:0}),Wg=Mn(Y3),Q3=ot({},za,{animationName:0,elapsedTime:0,pseudoElement:0}),J3=Mn(Q3),X3=ot({},za,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Z3=Mn(X3),eM=ot({},za,{data:0}),K1=Mn(eM),tM={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},nM={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},rM={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function iM(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=rM[t])?!!e[t]:!1}function a_(){return iM}var sM=ot({},ic,{key:function(t){if(t.key){var e=tM[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=qf(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?nM[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:a_,charCode:function(t){return t.type==="keypress"?qf(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?qf(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),oM=Mn(sM),aM=ot({},bh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),q1=Mn(aM),lM=ot({},ic,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:a_}),uM=Mn(lM),cM=ot({},za,{propertyName:0,elapsedTime:0,pseudoElement:0}),fM=Mn(cM),dM=ot({},bh,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),hM=Mn(dM),pM=[9,13,27,32],l_=di&&"CompositionEvent"in window,nu=null;di&&"documentMode"in document&&(nu=document.documentMode);var gM=di&&"TextEvent"in window&&!nu,JI=di&&(!l_||nu&&8<nu&&11>=nu),Y1=String.fromCharCode(32),Q1=!1;function XI(t,e){switch(t){case"keyup":return pM.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ZI(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var qo=!1;function mM(t,e){switch(t){case"compositionend":return ZI(e);case"keypress":return e.which!==32?null:(Q1=!0,Y1);case"textInput":return t=e.data,t===Y1&&Q1?null:t;default:return null}}function vM(t,e){if(qo)return t==="compositionend"||!l_&&XI(t,e)?(t=QI(),Kf=s_=Hi=null,qo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return JI&&e.locale!=="ko"?null:e.data;default:return null}}var _M={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function J1(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!_M[t.type]:e==="textarea"}function eT(t,e,n,r){OI(r),e=Ed(e,"onChange"),0<e.length&&(n=new o_("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var ru=null,Cu=null;function yM(t){fT(t,0)}function Ih(t){var e=Jo(t);if(bI(e))return t}function wM(t,e){if(t==="change")return e}var tT=!1;if(di){var zg;if(di){var Gg="oninput"in document;if(!Gg){var X1=document.createElement("div");X1.setAttribute("oninput","return;"),Gg=typeof X1.oninput=="function"}zg=Gg}else zg=!1;tT=zg&&(!document.documentMode||9<document.documentMode)}function Z1(){ru&&(ru.detachEvent("onpropertychange",nT),Cu=ru=null)}function nT(t){if(t.propertyName==="value"&&Ih(Cu)){var e=[];eT(e,Cu,t,e_(t)),LI(yM,e)}}function EM(t,e,n){t==="focusin"?(Z1(),ru=e,Cu=n,ru.attachEvent("onpropertychange",nT)):t==="focusout"&&Z1()}function SM(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ih(Cu)}function CM(t,e){if(t==="click")return Ih(e)}function bM(t,e){if(t==="input"||t==="change")return Ih(e)}function IM(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var br=typeof Object.is=="function"?Object.is:IM;function bu(t,e){if(br(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Jm.call(e,i)||!br(t[i],e[i]))return!1}return!0}function eS(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function tS(t,e){var n=eS(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=eS(n)}}function rT(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?rT(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function iT(){for(var t=window,e=pd();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=pd(t.document)}return e}function u_(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function TM(t){var e=iT(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&rT(n.ownerDocument.documentElement,n)){if(r!==null&&u_(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=tS(n,s);var o=tS(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var RM=di&&"documentMode"in document&&11>=document.documentMode,Yo=null,mv=null,iu=null,vv=!1;function nS(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;vv||Yo==null||Yo!==pd(r)||(r=Yo,"selectionStart"in r&&u_(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),iu&&bu(iu,r)||(iu=r,r=Ed(mv,"onSelect"),0<r.length&&(e=new o_("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Yo)))}function Sf(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Qo={animationend:Sf("Animation","AnimationEnd"),animationiteration:Sf("Animation","AnimationIteration"),animationstart:Sf("Animation","AnimationStart"),transitionend:Sf("Transition","TransitionEnd")},Hg={},sT={};di&&(sT=document.createElement("div").style,"AnimationEvent"in window||(delete Qo.animationend.animation,delete Qo.animationiteration.animation,delete Qo.animationstart.animation),"TransitionEvent"in window||delete Qo.transitionend.transition);function Th(t){if(Hg[t])return Hg[t];if(!Qo[t])return t;var e=Qo[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in sT)return Hg[t]=e[n];return t}var oT=Th("animationend"),aT=Th("animationiteration"),lT=Th("animationstart"),uT=Th("transitionend"),cT=new Map,rS="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Cs(t,e){cT.set(t,e),go(e,[t])}for(var Kg=0;Kg<rS.length;Kg++){var qg=rS[Kg],AM=qg.toLowerCase(),kM=qg[0].toUpperCase()+qg.slice(1);Cs(AM,"on"+kM)}Cs(oT,"onAnimationEnd");Cs(aT,"onAnimationIteration");Cs(lT,"onAnimationStart");Cs("dblclick","onDoubleClick");Cs("focusin","onFocus");Cs("focusout","onBlur");Cs(uT,"onTransitionEnd");ba("onMouseEnter",["mouseout","mouseover"]);ba("onMouseLeave",["mouseout","mouseover"]);ba("onPointerEnter",["pointerout","pointerover"]);ba("onPointerLeave",["pointerout","pointerover"]);go("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));go("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));go("onBeforeInput",["compositionend","keypress","textInput","paste"]);go("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));go("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));go("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Kl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),xM=new Set("cancel close invalid load scroll toggle".split(" ").concat(Kl));function iS(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,A3(r,e,void 0,t),t.currentTarget=null}function fT(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var l=r[o],c=l.instance,f=l.currentTarget;if(l=l.listener,c!==s&&i.isPropagationStopped())break e;iS(i,l,f),s=c}else for(o=0;o<r.length;o++){if(l=r[o],c=l.instance,f=l.currentTarget,l=l.listener,c!==s&&i.isPropagationStopped())break e;iS(i,l,f),s=c}}}if(md)throw t=dv,md=!1,dv=null,t}function Ye(t,e){var n=e[Sv];n===void 0&&(n=e[Sv]=new Set);var r=t+"__bubble";n.has(r)||(dT(e,t,2,!1),n.add(r))}function Yg(t,e,n){var r=0;e&&(r|=4),dT(n,t,r,e)}var Cf="_reactListening"+Math.random().toString(36).slice(2);function Iu(t){if(!t[Cf]){t[Cf]=!0,yI.forEach(function(n){n!=="selectionchange"&&(xM.has(n)||Yg(n,!1,t),Yg(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Cf]||(e[Cf]=!0,Yg("selectionchange",!1,e))}}function dT(t,e,n,r){switch(YI(e)){case 1:var i=z3;break;case 4:i=G3;break;default:i=i_}n=i.bind(null,e,n,t),i=void 0,!fv||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Qg(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;o=o.return}for(;l!==null;){if(o=Gs(l),o===null)return;if(c=o.tag,c===5||c===6){r=s=o;continue e}l=l.parentNode}}r=r.return}LI(function(){var f=s,h=e_(n),p=[];e:{var g=cT.get(t);if(g!==void 0){var v=o_,I=t;switch(t){case"keypress":if(qf(n)===0)break e;case"keydown":case"keyup":v=oM;break;case"focusin":I="focus",v=Wg;break;case"focusout":I="blur",v=Wg;break;case"beforeblur":case"afterblur":v=Wg;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=H1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=q3;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=uM;break;case oT:case aT:case lT:v=J3;break;case uT:v=fM;break;case"scroll":v=H3;break;case"wheel":v=hM;break;case"copy":case"cut":case"paste":v=Z3;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=q1}var T=(e&4)!==0,R=!T&&t==="scroll",w=T?g!==null?g+"Capture":null:g;T=[];for(var E=f,b;E!==null;){b=E;var O=b.stateNode;if(b.tag===5&&O!==null&&(b=O,w!==null&&(O=yu(E,w),O!=null&&T.push(Tu(E,O,b)))),R)break;E=E.return}0<T.length&&(g=new v(g,I,null,n,h),p.push({event:g,listeners:T}))}}if(!(e&7)){e:{if(g=t==="mouseover"||t==="pointerover",v=t==="mouseout"||t==="pointerout",g&&n!==uv&&(I=n.relatedTarget||n.fromElement)&&(Gs(I)||I[hi]))break e;if((v||g)&&(g=h.window===h?h:(g=h.ownerDocument)?g.defaultView||g.parentWindow:window,v?(I=n.relatedTarget||n.toElement,v=f,I=I?Gs(I):null,I!==null&&(R=mo(I),I!==R||I.tag!==5&&I.tag!==6)&&(I=null)):(v=null,I=f),v!==I)){if(T=H1,O="onMouseLeave",w="onMouseEnter",E="mouse",(t==="pointerout"||t==="pointerover")&&(T=q1,O="onPointerLeave",w="onPointerEnter",E="pointer"),R=v==null?g:Jo(v),b=I==null?g:Jo(I),g=new T(O,E+"leave",v,n,h),g.target=R,g.relatedTarget=b,O=null,Gs(h)===f&&(T=new T(w,E+"enter",I,n,h),T.target=b,T.relatedTarget=R,O=T),R=O,v&&I)t:{for(T=v,w=I,E=0,b=T;b;b=Fo(b))E++;for(b=0,O=w;O;O=Fo(O))b++;for(;0<E-b;)T=Fo(T),E--;for(;0<b-E;)w=Fo(w),b--;for(;E--;){if(T===w||w!==null&&T===w.alternate)break t;T=Fo(T),w=Fo(w)}T=null}else T=null;v!==null&&sS(p,g,v,T,!1),I!==null&&R!==null&&sS(p,R,I,T,!0)}}e:{if(g=f?Jo(f):window,v=g.nodeName&&g.nodeName.toLowerCase(),v==="select"||v==="input"&&g.type==="file")var B=wM;else if(J1(g))if(tT)B=bM;else{B=SM;var q=EM}else(v=g.nodeName)&&v.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(B=CM);if(B&&(B=B(t,f))){eT(p,B,n,h);break e}q&&q(t,g,f),t==="focusout"&&(q=g._wrapperState)&&q.controlled&&g.type==="number"&&iv(g,"number",g.value)}switch(q=f?Jo(f):window,t){case"focusin":(J1(q)||q.contentEditable==="true")&&(Yo=q,mv=f,iu=null);break;case"focusout":iu=mv=Yo=null;break;case"mousedown":vv=!0;break;case"contextmenu":case"mouseup":case"dragend":vv=!1,nS(p,n,h);break;case"selectionchange":if(RM)break;case"keydown":case"keyup":nS(p,n,h)}var V;if(l_)e:{switch(t){case"compositionstart":var J="onCompositionStart";break e;case"compositionend":J="onCompositionEnd";break e;case"compositionupdate":J="onCompositionUpdate";break e}J=void 0}else qo?XI(t,n)&&(J="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(J="onCompositionStart");J&&(JI&&n.locale!=="ko"&&(qo||J!=="onCompositionStart"?J==="onCompositionEnd"&&qo&&(V=QI()):(Hi=h,s_="value"in Hi?Hi.value:Hi.textContent,qo=!0)),q=Ed(f,J),0<q.length&&(J=new K1(J,t,null,n,h),p.push({event:J,listeners:q}),V?J.data=V:(V=ZI(n),V!==null&&(J.data=V)))),(V=gM?mM(t,n):vM(t,n))&&(f=Ed(f,"onBeforeInput"),0<f.length&&(h=new K1("onBeforeInput","beforeinput",null,n,h),p.push({event:h,listeners:f}),h.data=V))}fT(p,e)})}function Tu(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Ed(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=yu(t,n),s!=null&&r.unshift(Tu(t,s,i)),s=yu(t,e),s!=null&&r.push(Tu(t,s,i))),t=t.return}return r}function Fo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function sS(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var l=n,c=l.alternate,f=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&f!==null&&(l=f,i?(c=yu(n,s),c!=null&&o.unshift(Tu(n,c,l))):i||(c=yu(n,s),c!=null&&o.push(Tu(n,c,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var OM=/\r\n?/g,NM=/\u0000|\uFFFD/g;function oS(t){return(typeof t=="string"?t:""+t).replace(OM,`
`).replace(NM,"")}function bf(t,e,n){if(e=oS(e),oS(t)!==e&&n)throw Error(K(425))}function Sd(){}var _v=null,yv=null;function wv(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Ev=typeof setTimeout=="function"?setTimeout:void 0,PM=typeof clearTimeout=="function"?clearTimeout:void 0,aS=typeof Promise=="function"?Promise:void 0,DM=typeof queueMicrotask=="function"?queueMicrotask:typeof aS<"u"?function(t){return aS.resolve(null).then(t).catch(LM)}:Ev;function LM(t){setTimeout(function(){throw t})}function Jg(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Su(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Su(e)}function ts(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function lS(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Ga=Math.random().toString(36).slice(2),Dr="__reactFiber$"+Ga,Ru="__reactProps$"+Ga,hi="__reactContainer$"+Ga,Sv="__reactEvents$"+Ga,FM="__reactListeners$"+Ga,MM="__reactHandles$"+Ga;function Gs(t){var e=t[Dr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[hi]||n[Dr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=lS(t);t!==null;){if(n=t[Dr])return n;t=lS(t)}return e}t=n,n=t.parentNode}return null}function sc(t){return t=t[Dr]||t[hi],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Jo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(K(33))}function Rh(t){return t[Ru]||null}var Cv=[],Xo=-1;function bs(t){return{current:t}}function Xe(t){0>Xo||(t.current=Cv[Xo],Cv[Xo]=null,Xo--)}function Ke(t,e){Xo++,Cv[Xo]=t.current,t.current=e}var gs={},Gt=bs(gs),_n=bs(!1),no=gs;function Ia(t,e){var n=t.type.contextTypes;if(!n)return gs;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function yn(t){return t=t.childContextTypes,t!=null}function Cd(){Xe(_n),Xe(Gt)}function uS(t,e,n){if(Gt.current!==gs)throw Error(K(168));Ke(Gt,e),Ke(_n,n)}function hT(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(K(108,E3(t)||"Unknown",i));return ot({},n,r)}function bd(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||gs,no=Gt.current,Ke(Gt,t),Ke(_n,_n.current),!0}function cS(t,e,n){var r=t.stateNode;if(!r)throw Error(K(169));n?(t=hT(t,e,no),r.__reactInternalMemoizedMergedChildContext=t,Xe(_n),Xe(Gt),Ke(Gt,t)):Xe(_n),Ke(_n,n)}var ri=null,Ah=!1,Xg=!1;function pT(t){ri===null?ri=[t]:ri.push(t)}function UM(t){Ah=!0,pT(t)}function Is(){if(!Xg&&ri!==null){Xg=!0;var t=0,e=$e;try{var n=ri;for($e=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}ri=null,Ah=!1}catch(i){throw ri!==null&&(ri=ri.slice(t+1)),BI(t_,Is),i}finally{$e=e,Xg=!1}}return null}var Zo=[],ea=0,Id=null,Td=0,Kn=[],qn=0,ro=null,si=1,oi="";function Bs(t,e){Zo[ea++]=Td,Zo[ea++]=Id,Id=t,Td=e}function gT(t,e,n){Kn[qn++]=si,Kn[qn++]=oi,Kn[qn++]=ro,ro=t;var r=si;t=oi;var i=32-wr(r)-1;r&=~(1<<i),n+=1;var s=32-wr(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,si=1<<32-wr(e)+i|n<<i|r,oi=s+t}else si=1<<s|n<<i|r,oi=t}function c_(t){t.return!==null&&(Bs(t,1),gT(t,1,0))}function f_(t){for(;t===Id;)Id=Zo[--ea],Zo[ea]=null,Td=Zo[--ea],Zo[ea]=null;for(;t===ro;)ro=Kn[--qn],Kn[qn]=null,oi=Kn[--qn],Kn[qn]=null,si=Kn[--qn],Kn[qn]=null}var Nn=null,On=null,tt=!1,gr=null;function mT(t,e){var n=Qn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function fS(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Nn=t,On=ts(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Nn=t,On=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ro!==null?{id:si,overflow:oi}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Qn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Nn=t,On=null,!0):!1;default:return!1}}function bv(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Iv(t){if(tt){var e=On;if(e){var n=e;if(!fS(t,e)){if(bv(t))throw Error(K(418));e=ts(n.nextSibling);var r=Nn;e&&fS(t,e)?mT(r,n):(t.flags=t.flags&-4097|2,tt=!1,Nn=t)}}else{if(bv(t))throw Error(K(418));t.flags=t.flags&-4097|2,tt=!1,Nn=t}}}function dS(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Nn=t}function If(t){if(t!==Nn)return!1;if(!tt)return dS(t),tt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!wv(t.type,t.memoizedProps)),e&&(e=On)){if(bv(t))throw vT(),Error(K(418));for(;e;)mT(t,e),e=ts(e.nextSibling)}if(dS(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(K(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){On=ts(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}On=null}}else On=Nn?ts(t.stateNode.nextSibling):null;return!0}function vT(){for(var t=On;t;)t=ts(t.nextSibling)}function Ta(){On=Nn=null,tt=!1}function d_(t){gr===null?gr=[t]:gr.push(t)}var BM=yi.ReactCurrentBatchConfig;function dr(t,e){if(t&&t.defaultProps){e=ot({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var Rd=bs(null),Ad=null,ta=null,h_=null;function p_(){h_=ta=Ad=null}function g_(t){var e=Rd.current;Xe(Rd),t._currentValue=e}function Tv(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function ga(t,e){Ad=t,h_=ta=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(mn=!0),t.firstContext=null)}function Xn(t){var e=t._currentValue;if(h_!==t)if(t={context:t,memoizedValue:e,next:null},ta===null){if(Ad===null)throw Error(K(308));ta=t,Ad.dependencies={lanes:0,firstContext:t}}else ta=ta.next=t;return e}var Hs=null;function m_(t){Hs===null?Hs=[t]:Hs.push(t)}function _T(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,m_(e)):(n.next=i.next,i.next=n),e.interleaved=n,pi(t,r)}function pi(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Mi=!1;function v_(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function yT(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ci(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ns(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Pe&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,pi(t,n)}return i=r.interleaved,i===null?(e.next=e,m_(r)):(e.next=i.next,i.next=e),r.interleaved=e,pi(t,n)}function Yf(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,n_(t,n)}}function hS(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function kd(t,e,n,r){var i=t.updateQueue;Mi=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var c=l,f=c.next;c.next=null,o===null?s=f:o.next=f,o=c;var h=t.alternate;h!==null&&(h=h.updateQueue,l=h.lastBaseUpdate,l!==o&&(l===null?h.firstBaseUpdate=f:l.next=f,h.lastBaseUpdate=c))}if(s!==null){var p=i.baseState;o=0,h=f=c=null,l=s;do{var g=l.lane,v=l.eventTime;if((r&g)===g){h!==null&&(h=h.next={eventTime:v,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var I=t,T=l;switch(g=e,v=n,T.tag){case 1:if(I=T.payload,typeof I=="function"){p=I.call(v,p,g);break e}p=I;break e;case 3:I.flags=I.flags&-65537|128;case 0:if(I=T.payload,g=typeof I=="function"?I.call(v,p,g):I,g==null)break e;p=ot({},p,g);break e;case 2:Mi=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,g=i.effects,g===null?i.effects=[l]:g.push(l))}else v={eventTime:v,lane:g,tag:l.tag,payload:l.payload,callback:l.callback,next:null},h===null?(f=h=v,c=p):h=h.next=v,o|=g;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;g=l,l=g.next,g.next=null,i.lastBaseUpdate=g,i.shared.pending=null}}while(1);if(h===null&&(c=p),i.baseState=c,i.firstBaseUpdate=f,i.lastBaseUpdate=h,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);so|=o,t.lanes=o,t.memoizedState=p}}function pS(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(K(191,i));i.call(r)}}}var wT=new _I.Component().refs;function Rv(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:ot({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var kh={isMounted:function(t){return(t=t._reactInternals)?mo(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=nn(),i=is(t),s=ci(r,i);s.payload=e,n!=null&&(s.callback=n),e=ns(t,s,i),e!==null&&(Er(e,t,i,r),Yf(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=nn(),i=is(t),s=ci(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=ns(t,s,i),e!==null&&(Er(e,t,i,r),Yf(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=nn(),r=is(t),i=ci(n,r);i.tag=2,e!=null&&(i.callback=e),e=ns(t,i,r),e!==null&&(Er(e,t,r,n),Yf(e,t,r))}};function gS(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!bu(n,r)||!bu(i,s):!0}function ET(t,e,n){var r=!1,i=gs,s=e.contextType;return typeof s=="object"&&s!==null?s=Xn(s):(i=yn(e)?no:Gt.current,r=e.contextTypes,s=(r=r!=null)?Ia(t,i):gs),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=kh,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function mS(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&kh.enqueueReplaceState(e,e.state,null)}function Av(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=wT,v_(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Xn(s):(s=yn(e)?no:Gt.current,i.context=Ia(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Rv(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&kh.enqueueReplaceState(i,i.state,null),kd(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function kl(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(K(309));var r=n.stateNode}if(!r)throw Error(K(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var l=i.refs;l===wT&&(l=i.refs={}),o===null?delete l[s]:l[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(K(284));if(!n._owner)throw Error(K(290,t))}return t}function Tf(t,e){throw t=Object.prototype.toString.call(e),Error(K(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function vS(t){var e=t._init;return e(t._payload)}function ST(t){function e(w,E){if(t){var b=w.deletions;b===null?(w.deletions=[E],w.flags|=16):b.push(E)}}function n(w,E){if(!t)return null;for(;E!==null;)e(w,E),E=E.sibling;return null}function r(w,E){for(w=new Map;E!==null;)E.key!==null?w.set(E.key,E):w.set(E.index,E),E=E.sibling;return w}function i(w,E){return w=ss(w,E),w.index=0,w.sibling=null,w}function s(w,E,b){return w.index=b,t?(b=w.alternate,b!==null?(b=b.index,b<E?(w.flags|=2,E):b):(w.flags|=2,E)):(w.flags|=1048576,E)}function o(w){return t&&w.alternate===null&&(w.flags|=2),w}function l(w,E,b,O){return E===null||E.tag!==6?(E=sm(b,w.mode,O),E.return=w,E):(E=i(E,b),E.return=w,E)}function c(w,E,b,O){var B=b.type;return B===Ko?h(w,E,b.props.children,O,b.key):E!==null&&(E.elementType===B||typeof B=="object"&&B!==null&&B.$$typeof===Fi&&vS(B)===E.type)?(O=i(E,b.props),O.ref=kl(w,E,b),O.return=w,O):(O=td(b.type,b.key,b.props,null,w.mode,O),O.ref=kl(w,E,b),O.return=w,O)}function f(w,E,b,O){return E===null||E.tag!==4||E.stateNode.containerInfo!==b.containerInfo||E.stateNode.implementation!==b.implementation?(E=om(b,w.mode,O),E.return=w,E):(E=i(E,b.children||[]),E.return=w,E)}function h(w,E,b,O,B){return E===null||E.tag!==7?(E=Zs(b,w.mode,O,B),E.return=w,E):(E=i(E,b),E.return=w,E)}function p(w,E,b){if(typeof E=="string"&&E!==""||typeof E=="number")return E=sm(""+E,w.mode,b),E.return=w,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case gf:return b=td(E.type,E.key,E.props,null,w.mode,b),b.ref=kl(w,null,E),b.return=w,b;case Ho:return E=om(E,w.mode,b),E.return=w,E;case Fi:var O=E._init;return p(w,O(E._payload),b)}if(Gl(E)||bl(E))return E=Zs(E,w.mode,b,null),E.return=w,E;Tf(w,E)}return null}function g(w,E,b,O){var B=E!==null?E.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return B!==null?null:l(w,E,""+b,O);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case gf:return b.key===B?c(w,E,b,O):null;case Ho:return b.key===B?f(w,E,b,O):null;case Fi:return B=b._init,g(w,E,B(b._payload),O)}if(Gl(b)||bl(b))return B!==null?null:h(w,E,b,O,null);Tf(w,b)}return null}function v(w,E,b,O,B){if(typeof O=="string"&&O!==""||typeof O=="number")return w=w.get(b)||null,l(E,w,""+O,B);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case gf:return w=w.get(O.key===null?b:O.key)||null,c(E,w,O,B);case Ho:return w=w.get(O.key===null?b:O.key)||null,f(E,w,O,B);case Fi:var q=O._init;return v(w,E,b,q(O._payload),B)}if(Gl(O)||bl(O))return w=w.get(b)||null,h(E,w,O,B,null);Tf(E,O)}return null}function I(w,E,b,O){for(var B=null,q=null,V=E,J=E=0,D=null;V!==null&&J<b.length;J++){V.index>J?(D=V,V=null):D=V.sibling;var F=g(w,V,b[J],O);if(F===null){V===null&&(V=D);break}t&&V&&F.alternate===null&&e(w,V),E=s(F,E,J),q===null?B=F:q.sibling=F,q=F,V=D}if(J===b.length)return n(w,V),tt&&Bs(w,J),B;if(V===null){for(;J<b.length;J++)V=p(w,b[J],O),V!==null&&(E=s(V,E,J),q===null?B=V:q.sibling=V,q=V);return tt&&Bs(w,J),B}for(V=r(w,V);J<b.length;J++)D=v(V,w,J,b[J],O),D!==null&&(t&&D.alternate!==null&&V.delete(D.key===null?J:D.key),E=s(D,E,J),q===null?B=D:q.sibling=D,q=D);return t&&V.forEach(function(Y){return e(w,Y)}),tt&&Bs(w,J),B}function T(w,E,b,O){var B=bl(b);if(typeof B!="function")throw Error(K(150));if(b=B.call(b),b==null)throw Error(K(151));for(var q=B=null,V=E,J=E=0,D=null,F=b.next();V!==null&&!F.done;J++,F=b.next()){V.index>J?(D=V,V=null):D=V.sibling;var Y=g(w,V,F.value,O);if(Y===null){V===null&&(V=D);break}t&&V&&Y.alternate===null&&e(w,V),E=s(Y,E,J),q===null?B=Y:q.sibling=Y,q=Y,V=D}if(F.done)return n(w,V),tt&&Bs(w,J),B;if(V===null){for(;!F.done;J++,F=b.next())F=p(w,F.value,O),F!==null&&(E=s(F,E,J),q===null?B=F:q.sibling=F,q=F);return tt&&Bs(w,J),B}for(V=r(w,V);!F.done;J++,F=b.next())F=v(V,w,J,F.value,O),F!==null&&(t&&F.alternate!==null&&V.delete(F.key===null?J:F.key),E=s(F,E,J),q===null?B=F:q.sibling=F,q=F);return t&&V.forEach(function(X){return e(w,X)}),tt&&Bs(w,J),B}function R(w,E,b,O){if(typeof b=="object"&&b!==null&&b.type===Ko&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case gf:e:{for(var B=b.key,q=E;q!==null;){if(q.key===B){if(B=b.type,B===Ko){if(q.tag===7){n(w,q.sibling),E=i(q,b.props.children),E.return=w,w=E;break e}}else if(q.elementType===B||typeof B=="object"&&B!==null&&B.$$typeof===Fi&&vS(B)===q.type){n(w,q.sibling),E=i(q,b.props),E.ref=kl(w,q,b),E.return=w,w=E;break e}n(w,q);break}else e(w,q);q=q.sibling}b.type===Ko?(E=Zs(b.props.children,w.mode,O,b.key),E.return=w,w=E):(O=td(b.type,b.key,b.props,null,w.mode,O),O.ref=kl(w,E,b),O.return=w,w=O)}return o(w);case Ho:e:{for(q=b.key;E!==null;){if(E.key===q)if(E.tag===4&&E.stateNode.containerInfo===b.containerInfo&&E.stateNode.implementation===b.implementation){n(w,E.sibling),E=i(E,b.children||[]),E.return=w,w=E;break e}else{n(w,E);break}else e(w,E);E=E.sibling}E=om(b,w.mode,O),E.return=w,w=E}return o(w);case Fi:return q=b._init,R(w,E,q(b._payload),O)}if(Gl(b))return I(w,E,b,O);if(bl(b))return T(w,E,b,O);Tf(w,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,E!==null&&E.tag===6?(n(w,E.sibling),E=i(E,b),E.return=w,w=E):(n(w,E),E=sm(b,w.mode,O),E.return=w,w=E),o(w)):n(w,E)}return R}var Ra=ST(!0),CT=ST(!1),oc={},Mr=bs(oc),Au=bs(oc),ku=bs(oc);function Ks(t){if(t===oc)throw Error(K(174));return t}function __(t,e){switch(Ke(ku,e),Ke(Au,t),Ke(Mr,oc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:ov(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=ov(e,t)}Xe(Mr),Ke(Mr,e)}function Aa(){Xe(Mr),Xe(Au),Xe(ku)}function bT(t){Ks(ku.current);var e=Ks(Mr.current),n=ov(e,t.type);e!==n&&(Ke(Au,t),Ke(Mr,n))}function y_(t){Au.current===t&&(Xe(Mr),Xe(Au))}var rt=bs(0);function xd(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Zg=[];function w_(){for(var t=0;t<Zg.length;t++)Zg[t]._workInProgressVersionPrimary=null;Zg.length=0}var Qf=yi.ReactCurrentDispatcher,em=yi.ReactCurrentBatchConfig,io=0,st=null,yt=null,At=null,Od=!1,su=!1,xu=0,$M=0;function $t(){throw Error(K(321))}function E_(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!br(t[n],e[n]))return!1;return!0}function S_(t,e,n,r,i,s){if(io=s,st=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Qf.current=t===null||t.memoizedState===null?zM:GM,t=n(r,i),su){s=0;do{if(su=!1,xu=0,25<=s)throw Error(K(301));s+=1,At=yt=null,e.updateQueue=null,Qf.current=HM,t=n(r,i)}while(su)}if(Qf.current=Nd,e=yt!==null&&yt.next!==null,io=0,At=yt=st=null,Od=!1,e)throw Error(K(300));return t}function C_(){var t=xu!==0;return xu=0,t}function Nr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return At===null?st.memoizedState=At=t:At=At.next=t,At}function Zn(){if(yt===null){var t=st.alternate;t=t!==null?t.memoizedState:null}else t=yt.next;var e=At===null?st.memoizedState:At.next;if(e!==null)At=e,yt=t;else{if(t===null)throw Error(K(310));yt=t,t={memoizedState:yt.memoizedState,baseState:yt.baseState,baseQueue:yt.baseQueue,queue:yt.queue,next:null},At===null?st.memoizedState=At=t:At=At.next=t}return At}function Ou(t,e){return typeof e=="function"?e(t):e}function tm(t){var e=Zn(),n=e.queue;if(n===null)throw Error(K(311));n.lastRenderedReducer=t;var r=yt,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var l=o=null,c=null,f=s;do{var h=f.lane;if((io&h)===h)c!==null&&(c=c.next={lane:0,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null}),r=f.hasEagerState?f.eagerState:t(r,f.action);else{var p={lane:h,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null};c===null?(l=c=p,o=r):c=c.next=p,st.lanes|=h,so|=h}f=f.next}while(f!==null&&f!==s);c===null?o=r:c.next=l,br(r,e.memoizedState)||(mn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,st.lanes|=s,so|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function nm(t){var e=Zn(),n=e.queue;if(n===null)throw Error(K(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);br(s,e.memoizedState)||(mn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function IT(){}function TT(t,e){var n=st,r=Zn(),i=e(),s=!br(r.memoizedState,i);if(s&&(r.memoizedState=i,mn=!0),r=r.queue,b_(kT.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||At!==null&&At.memoizedState.tag&1){if(n.flags|=2048,Nu(9,AT.bind(null,n,r,i,e),void 0,null),xt===null)throw Error(K(349));io&30||RT(n,e,i)}return i}function RT(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=st.updateQueue,e===null?(e={lastEffect:null,stores:null},st.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function AT(t,e,n,r){e.value=n,e.getSnapshot=r,xT(e)&&OT(t)}function kT(t,e,n){return n(function(){xT(e)&&OT(t)})}function xT(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!br(t,n)}catch{return!0}}function OT(t){var e=pi(t,1);e!==null&&Er(e,t,1,-1)}function _S(t){var e=Nr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ou,lastRenderedState:t},e.queue=t,t=t.dispatch=WM.bind(null,st,t),[e.memoizedState,t]}function Nu(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=st.updateQueue,e===null?(e={lastEffect:null,stores:null},st.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function NT(){return Zn().memoizedState}function Jf(t,e,n,r){var i=Nr();st.flags|=t,i.memoizedState=Nu(1|e,n,void 0,r===void 0?null:r)}function xh(t,e,n,r){var i=Zn();r=r===void 0?null:r;var s=void 0;if(yt!==null){var o=yt.memoizedState;if(s=o.destroy,r!==null&&E_(r,o.deps)){i.memoizedState=Nu(e,n,s,r);return}}st.flags|=t,i.memoizedState=Nu(1|e,n,s,r)}function yS(t,e){return Jf(8390656,8,t,e)}function b_(t,e){return xh(2048,8,t,e)}function PT(t,e){return xh(4,2,t,e)}function DT(t,e){return xh(4,4,t,e)}function LT(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function FT(t,e,n){return n=n!=null?n.concat([t]):null,xh(4,4,LT.bind(null,e,t),n)}function I_(){}function MT(t,e){var n=Zn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&E_(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function UT(t,e){var n=Zn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&E_(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function BT(t,e,n){return io&21?(br(n,e)||(n=VI(),st.lanes|=n,so|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,mn=!0),t.memoizedState=n)}function jM(t,e){var n=$e;$e=n!==0&&4>n?n:4,t(!0);var r=em.transition;em.transition={};try{t(!1),e()}finally{$e=n,em.transition=r}}function $T(){return Zn().memoizedState}function VM(t,e,n){var r=is(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},jT(t))VT(e,n);else if(n=_T(t,e,n,r),n!==null){var i=nn();Er(n,t,r,i),WT(n,e,r)}}function WM(t,e,n){var r=is(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(jT(t))VT(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,l=s(o,n);if(i.hasEagerState=!0,i.eagerState=l,br(l,o)){var c=e.interleaved;c===null?(i.next=i,m_(e)):(i.next=c.next,c.next=i),e.interleaved=i;return}}catch{}finally{}n=_T(t,e,i,r),n!==null&&(i=nn(),Er(n,t,r,i),WT(n,e,r))}}function jT(t){var e=t.alternate;return t===st||e!==null&&e===st}function VT(t,e){su=Od=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function WT(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,n_(t,n)}}var Nd={readContext:Xn,useCallback:$t,useContext:$t,useEffect:$t,useImperativeHandle:$t,useInsertionEffect:$t,useLayoutEffect:$t,useMemo:$t,useReducer:$t,useRef:$t,useState:$t,useDebugValue:$t,useDeferredValue:$t,useTransition:$t,useMutableSource:$t,useSyncExternalStore:$t,useId:$t,unstable_isNewReconciler:!1},zM={readContext:Xn,useCallback:function(t,e){return Nr().memoizedState=[t,e===void 0?null:e],t},useContext:Xn,useEffect:yS,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Jf(4194308,4,LT.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Jf(4194308,4,t,e)},useInsertionEffect:function(t,e){return Jf(4,2,t,e)},useMemo:function(t,e){var n=Nr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Nr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=VM.bind(null,st,t),[r.memoizedState,t]},useRef:function(t){var e=Nr();return t={current:t},e.memoizedState=t},useState:_S,useDebugValue:I_,useDeferredValue:function(t){return Nr().memoizedState=t},useTransition:function(){var t=_S(!1),e=t[0];return t=jM.bind(null,t[1]),Nr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=st,i=Nr();if(tt){if(n===void 0)throw Error(K(407));n=n()}else{if(n=e(),xt===null)throw Error(K(349));io&30||RT(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,yS(kT.bind(null,r,s,t),[t]),r.flags|=2048,Nu(9,AT.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Nr(),e=xt.identifierPrefix;if(tt){var n=oi,r=si;n=(r&~(1<<32-wr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=xu++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=$M++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},GM={readContext:Xn,useCallback:MT,useContext:Xn,useEffect:b_,useImperativeHandle:FT,useInsertionEffect:PT,useLayoutEffect:DT,useMemo:UT,useReducer:tm,useRef:NT,useState:function(){return tm(Ou)},useDebugValue:I_,useDeferredValue:function(t){var e=Zn();return BT(e,yt.memoizedState,t)},useTransition:function(){var t=tm(Ou)[0],e=Zn().memoizedState;return[t,e]},useMutableSource:IT,useSyncExternalStore:TT,useId:$T,unstable_isNewReconciler:!1},HM={readContext:Xn,useCallback:MT,useContext:Xn,useEffect:b_,useImperativeHandle:FT,useInsertionEffect:PT,useLayoutEffect:DT,useMemo:UT,useReducer:nm,useRef:NT,useState:function(){return nm(Ou)},useDebugValue:I_,useDeferredValue:function(t){var e=Zn();return yt===null?e.memoizedState=t:BT(e,yt.memoizedState,t)},useTransition:function(){var t=nm(Ou)[0],e=Zn().memoizedState;return[t,e]},useMutableSource:IT,useSyncExternalStore:TT,useId:$T,unstable_isNewReconciler:!1};function ka(t,e){try{var n="",r=e;do n+=w3(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function rm(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function kv(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var KM=typeof WeakMap=="function"?WeakMap:Map;function zT(t,e,n){n=ci(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Dd||(Dd=!0,Bv=r),kv(t,e)},n}function GT(t,e,n){n=ci(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){kv(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){kv(t,e),typeof r!="function"&&(rs===null?rs=new Set([this]):rs.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function wS(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new KM;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=a4.bind(null,t,e,n),e.then(t,t))}function ES(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function SS(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=ci(-1,1),e.tag=2,ns(n,e,1))),n.lanes|=1),t)}var qM=yi.ReactCurrentOwner,mn=!1;function Zt(t,e,n,r){e.child=t===null?CT(e,null,n,r):Ra(e,t.child,n,r)}function CS(t,e,n,r,i){n=n.render;var s=e.ref;return ga(e,i),r=S_(t,e,n,r,s,i),n=C_(),t!==null&&!mn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,gi(t,e,i)):(tt&&n&&c_(e),e.flags|=1,Zt(t,e,r,i),e.child)}function bS(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!P_(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,HT(t,e,s,r,i)):(t=td(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:bu,n(o,r)&&t.ref===e.ref)return gi(t,e,i)}return e.flags|=1,t=ss(s,r),t.ref=e.ref,t.return=e,e.child=t}function HT(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(bu(s,r)&&t.ref===e.ref)if(mn=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(mn=!0);else return e.lanes=t.lanes,gi(t,e,i)}return xv(t,e,n,r,i)}function KT(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ke(ra,xn),xn|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ke(ra,xn),xn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Ke(ra,xn),xn|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Ke(ra,xn),xn|=r;return Zt(t,e,i,n),e.child}function qT(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function xv(t,e,n,r,i){var s=yn(n)?no:Gt.current;return s=Ia(e,s),ga(e,i),n=S_(t,e,n,r,s,i),r=C_(),t!==null&&!mn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,gi(t,e,i)):(tt&&r&&c_(e),e.flags|=1,Zt(t,e,n,i),e.child)}function IS(t,e,n,r,i){if(yn(n)){var s=!0;bd(e)}else s=!1;if(ga(e,i),e.stateNode===null)Xf(t,e),ET(e,n,r),Av(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var c=o.context,f=n.contextType;typeof f=="object"&&f!==null?f=Xn(f):(f=yn(n)?no:Gt.current,f=Ia(e,f));var h=n.getDerivedStateFromProps,p=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";p||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||c!==f)&&mS(e,o,r,f),Mi=!1;var g=e.memoizedState;o.state=g,kd(e,r,o,i),c=e.memoizedState,l!==r||g!==c||_n.current||Mi?(typeof h=="function"&&(Rv(e,n,h,r),c=e.memoizedState),(l=Mi||gS(e,n,l,r,g,c,f))?(p||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),o.props=r,o.state=c,o.context=f,r=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,yT(t,e),l=e.memoizedProps,f=e.type===e.elementType?l:dr(e.type,l),o.props=f,p=e.pendingProps,g=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=Xn(c):(c=yn(n)?no:Gt.current,c=Ia(e,c));var v=n.getDerivedStateFromProps;(h=typeof v=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==p||g!==c)&&mS(e,o,r,c),Mi=!1,g=e.memoizedState,o.state=g,kd(e,r,o,i);var I=e.memoizedState;l!==p||g!==I||_n.current||Mi?(typeof v=="function"&&(Rv(e,n,v,r),I=e.memoizedState),(f=Mi||gS(e,n,f,r,g,I,c)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,I,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,I,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=I),o.props=r,o.state=I,o.context=c,r=f):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),r=!1)}return Ov(t,e,n,r,s,i)}function Ov(t,e,n,r,i,s){qT(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&cS(e,n,!1),gi(t,e,s);r=e.stateNode,qM.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Ra(e,t.child,null,s),e.child=Ra(e,null,l,s)):Zt(t,e,l,s),e.memoizedState=r.state,i&&cS(e,n,!0),e.child}function YT(t){var e=t.stateNode;e.pendingContext?uS(t,e.pendingContext,e.pendingContext!==e.context):e.context&&uS(t,e.context,!1),__(t,e.containerInfo)}function TS(t,e,n,r,i){return Ta(),d_(i),e.flags|=256,Zt(t,e,n,r),e.child}var Nv={dehydrated:null,treeContext:null,retryLane:0};function Pv(t){return{baseLanes:t,cachePool:null,transitions:null}}function QT(t,e,n){var r=e.pendingProps,i=rt.current,s=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(i&2)!==0),l?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Ke(rt,i&1),t===null)return Iv(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Ph(o,r,0,null),t=Zs(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Pv(n),e.memoizedState=Nv,t):T_(e,o));if(i=t.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return YM(t,e,o,r,l,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,l=i.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=ss(i,c),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?s=ss(l,s):(s=Zs(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Pv(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Nv,r}return s=t.child,t=s.sibling,r=ss(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function T_(t,e){return e=Ph({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Rf(t,e,n,r){return r!==null&&d_(r),Ra(e,t.child,null,n),t=T_(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function YM(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=rm(Error(K(422))),Rf(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Ph({mode:"visible",children:r.children},i,0,null),s=Zs(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Ra(e,t.child,null,o),e.child.memoizedState=Pv(o),e.memoizedState=Nv,s);if(!(e.mode&1))return Rf(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,s=Error(K(419)),r=rm(s,r,void 0),Rf(t,e,o,r)}if(l=(o&t.childLanes)!==0,mn||l){if(r=xt,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,pi(t,i),Er(r,t,i,-1))}return N_(),r=rm(Error(K(421))),Rf(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=l4.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,On=ts(i.nextSibling),Nn=e,tt=!0,gr=null,t!==null&&(Kn[qn++]=si,Kn[qn++]=oi,Kn[qn++]=ro,si=t.id,oi=t.overflow,ro=e),e=T_(e,r.children),e.flags|=4096,e)}function RS(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Tv(t.return,e,n)}function im(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function JT(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Zt(t,e,r.children,n),r=rt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&RS(t,n,e);else if(t.tag===19)RS(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ke(rt,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&xd(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),im(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&xd(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}im(e,!0,n,null,s);break;case"together":im(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Xf(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function gi(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),so|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(K(153));if(e.child!==null){for(t=e.child,n=ss(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ss(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function QM(t,e,n){switch(e.tag){case 3:YT(e),Ta();break;case 5:bT(e);break;case 1:yn(e.type)&&bd(e);break;case 4:__(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Ke(Rd,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ke(rt,rt.current&1),e.flags|=128,null):n&e.child.childLanes?QT(t,e,n):(Ke(rt,rt.current&1),t=gi(t,e,n),t!==null?t.sibling:null);Ke(rt,rt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return JT(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ke(rt,rt.current),r)break;return null;case 22:case 23:return e.lanes=0,KT(t,e,n)}return gi(t,e,n)}var XT,Dv,ZT,eR;XT=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Dv=function(){};ZT=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Ks(Mr.current);var s=null;switch(n){case"input":i=nv(t,i),r=nv(t,r),s=[];break;case"select":i=ot({},i,{value:void 0}),r=ot({},r,{value:void 0}),s=[];break;case"textarea":i=sv(t,i),r=sv(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Sd)}av(n,r);var o;n=null;for(f in i)if(!r.hasOwnProperty(f)&&i.hasOwnProperty(f)&&i[f]!=null)if(f==="style"){var l=i[f];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else f!=="dangerouslySetInnerHTML"&&f!=="children"&&f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(vu.hasOwnProperty(f)?s||(s=[]):(s=s||[]).push(f,null));for(f in r){var c=r[f];if(l=i?.[f],r.hasOwnProperty(f)&&c!==l&&(c!=null||l!=null))if(f==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(s||(s=[]),s.push(f,n)),n=c;else f==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(s=s||[]).push(f,c)):f==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(f,""+c):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&(vu.hasOwnProperty(f)?(c!=null&&f==="onScroll"&&Ye("scroll",t),s||l===c||(s=[])):(s=s||[]).push(f,c))}n&&(s=s||[]).push("style",n);var f=s;(e.updateQueue=f)&&(e.flags|=4)}};eR=function(t,e,n,r){n!==r&&(e.flags|=4)};function xl(t,e){if(!tt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function jt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function JM(t,e,n){var r=e.pendingProps;switch(f_(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return jt(e),null;case 1:return yn(e.type)&&Cd(),jt(e),null;case 3:return r=e.stateNode,Aa(),Xe(_n),Xe(Gt),w_(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(If(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,gr!==null&&(Vv(gr),gr=null))),Dv(t,e),jt(e),null;case 5:y_(e);var i=Ks(ku.current);if(n=e.type,t!==null&&e.stateNode!=null)ZT(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(K(166));return jt(e),null}if(t=Ks(Mr.current),If(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Dr]=e,r[Ru]=s,t=(e.mode&1)!==0,n){case"dialog":Ye("cancel",r),Ye("close",r);break;case"iframe":case"object":case"embed":Ye("load",r);break;case"video":case"audio":for(i=0;i<Kl.length;i++)Ye(Kl[i],r);break;case"source":Ye("error",r);break;case"img":case"image":case"link":Ye("error",r),Ye("load",r);break;case"details":Ye("toggle",r);break;case"input":F1(r,s),Ye("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ye("invalid",r);break;case"textarea":U1(r,s),Ye("invalid",r)}av(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="children"?typeof l=="string"?r.textContent!==l&&(s.suppressHydrationWarning!==!0&&bf(r.textContent,l,t),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&bf(r.textContent,l,t),i=["children",""+l]):vu.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Ye("scroll",r)}switch(n){case"input":mf(r),M1(r,s,!0);break;case"textarea":mf(r),B1(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Sd)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=RI(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Dr]=e,t[Ru]=r,XT(t,e,!1,!1),e.stateNode=t;e:{switch(o=lv(n,r),n){case"dialog":Ye("cancel",t),Ye("close",t),i=r;break;case"iframe":case"object":case"embed":Ye("load",t),i=r;break;case"video":case"audio":for(i=0;i<Kl.length;i++)Ye(Kl[i],t);i=r;break;case"source":Ye("error",t),i=r;break;case"img":case"image":case"link":Ye("error",t),Ye("load",t),i=r;break;case"details":Ye("toggle",t),i=r;break;case"input":F1(t,r),i=nv(t,r),Ye("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=ot({},r,{value:void 0}),Ye("invalid",t);break;case"textarea":U1(t,r),i=sv(t,r),Ye("invalid",t);break;default:i=r}av(n,i),l=i;for(s in l)if(l.hasOwnProperty(s)){var c=l[s];s==="style"?xI(t,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&AI(t,c)):s==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&_u(t,c):typeof c=="number"&&_u(t,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(vu.hasOwnProperty(s)?c!=null&&s==="onScroll"&&Ye("scroll",t):c!=null&&Q0(t,s,c,o))}switch(n){case"input":mf(t),M1(t,r,!1);break;case"textarea":mf(t),B1(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ps(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?fa(t,!!r.multiple,s,!1):r.defaultValue!=null&&fa(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Sd)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return jt(e),null;case 6:if(t&&e.stateNode!=null)eR(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(K(166));if(n=Ks(ku.current),Ks(Mr.current),If(e)){if(r=e.stateNode,n=e.memoizedProps,r[Dr]=e,(s=r.nodeValue!==n)&&(t=Nn,t!==null))switch(t.tag){case 3:bf(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&bf(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Dr]=e,e.stateNode=r}return jt(e),null;case 13:if(Xe(rt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(tt&&On!==null&&e.mode&1&&!(e.flags&128))vT(),Ta(),e.flags|=98560,s=!1;else if(s=If(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(K(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(K(317));s[Dr]=e}else Ta(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;jt(e),s=!1}else gr!==null&&(Vv(gr),gr=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||rt.current&1?St===0&&(St=3):N_())),e.updateQueue!==null&&(e.flags|=4),jt(e),null);case 4:return Aa(),Dv(t,e),t===null&&Iu(e.stateNode.containerInfo),jt(e),null;case 10:return g_(e.type._context),jt(e),null;case 17:return yn(e.type)&&Cd(),jt(e),null;case 19:if(Xe(rt),s=e.memoizedState,s===null)return jt(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)xl(s,!1);else{if(St!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=xd(t),o!==null){for(e.flags|=128,xl(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ke(rt,rt.current&1|2),e.child}t=t.sibling}s.tail!==null&&dt()>xa&&(e.flags|=128,r=!0,xl(s,!1),e.lanes=4194304)}else{if(!r)if(t=xd(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),xl(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!tt)return jt(e),null}else 2*dt()-s.renderingStartTime>xa&&n!==1073741824&&(e.flags|=128,r=!0,xl(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=dt(),e.sibling=null,n=rt.current,Ke(rt,r?n&1|2:n&1),e):(jt(e),null);case 22:case 23:return O_(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?xn&1073741824&&(jt(e),e.subtreeFlags&6&&(e.flags|=8192)):jt(e),null;case 24:return null;case 25:return null}throw Error(K(156,e.tag))}function XM(t,e){switch(f_(e),e.tag){case 1:return yn(e.type)&&Cd(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Aa(),Xe(_n),Xe(Gt),w_(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return y_(e),null;case 13:if(Xe(rt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(K(340));Ta()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Xe(rt),null;case 4:return Aa(),null;case 10:return g_(e.type._context),null;case 22:case 23:return O_(),null;case 24:return null;default:return null}}var Af=!1,Wt=!1,ZM=typeof WeakSet=="function"?WeakSet:Set,ie=null;function na(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){lt(t,e,r)}else n.current=null}function Lv(t,e,n){try{n()}catch(r){lt(t,e,r)}}var AS=!1;function e4(t,e){if(_v=yd,t=iT(),u_(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,l=-1,c=-1,f=0,h=0,p=t,g=null;t:for(;;){for(var v;p!==n||i!==0&&p.nodeType!==3||(l=o+i),p!==s||r!==0&&p.nodeType!==3||(c=o+r),p.nodeType===3&&(o+=p.nodeValue.length),(v=p.firstChild)!==null;)g=p,p=v;for(;;){if(p===t)break t;if(g===n&&++f===i&&(l=o),g===s&&++h===r&&(c=o),(v=p.nextSibling)!==null)break;p=g,g=p.parentNode}p=v}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(yv={focusedElem:t,selectionRange:n},yd=!1,ie=e;ie!==null;)if(e=ie,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ie=t;else for(;ie!==null;){e=ie;try{var I=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(I!==null){var T=I.memoizedProps,R=I.memoizedState,w=e.stateNode,E=w.getSnapshotBeforeUpdate(e.elementType===e.type?T:dr(e.type,T),R);w.__reactInternalSnapshotBeforeUpdate=E}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(K(163))}}catch(O){lt(e,e.return,O)}if(t=e.sibling,t!==null){t.return=e.return,ie=t;break}ie=e.return}return I=AS,AS=!1,I}function ou(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Lv(e,n,s)}i=i.next}while(i!==r)}}function Oh(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Fv(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function tR(t){var e=t.alternate;e!==null&&(t.alternate=null,tR(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Dr],delete e[Ru],delete e[Sv],delete e[FM],delete e[MM])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function nR(t){return t.tag===5||t.tag===3||t.tag===4}function kS(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||nR(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Mv(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Sd));else if(r!==4&&(t=t.child,t!==null))for(Mv(t,e,n),t=t.sibling;t!==null;)Mv(t,e,n),t=t.sibling}function Uv(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Uv(t,e,n),t=t.sibling;t!==null;)Uv(t,e,n),t=t.sibling}var Dt=null,hr=!1;function Ni(t,e,n){for(n=n.child;n!==null;)rR(t,e,n),n=n.sibling}function rR(t,e,n){if(Fr&&typeof Fr.onCommitFiberUnmount=="function")try{Fr.onCommitFiberUnmount(Ch,n)}catch{}switch(n.tag){case 5:Wt||na(n,e);case 6:var r=Dt,i=hr;Dt=null,Ni(t,e,n),Dt=r,hr=i,Dt!==null&&(hr?(t=Dt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Dt.removeChild(n.stateNode));break;case 18:Dt!==null&&(hr?(t=Dt,n=n.stateNode,t.nodeType===8?Jg(t.parentNode,n):t.nodeType===1&&Jg(t,n),Su(t)):Jg(Dt,n.stateNode));break;case 4:r=Dt,i=hr,Dt=n.stateNode.containerInfo,hr=!0,Ni(t,e,n),Dt=r,hr=i;break;case 0:case 11:case 14:case 15:if(!Wt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Lv(n,e,o),i=i.next}while(i!==r)}Ni(t,e,n);break;case 1:if(!Wt&&(na(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){lt(n,e,l)}Ni(t,e,n);break;case 21:Ni(t,e,n);break;case 22:n.mode&1?(Wt=(r=Wt)||n.memoizedState!==null,Ni(t,e,n),Wt=r):Ni(t,e,n);break;default:Ni(t,e,n)}}function xS(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new ZM),e.forEach(function(r){var i=u4.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function lr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:Dt=l.stateNode,hr=!1;break e;case 3:Dt=l.stateNode.containerInfo,hr=!0;break e;case 4:Dt=l.stateNode.containerInfo,hr=!0;break e}l=l.return}if(Dt===null)throw Error(K(160));rR(s,o,i),Dt=null,hr=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(f){lt(i,e,f)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)iR(e,t),e=e.sibling}function iR(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(lr(e,t),kr(t),r&4){try{ou(3,t,t.return),Oh(3,t)}catch(T){lt(t,t.return,T)}try{ou(5,t,t.return)}catch(T){lt(t,t.return,T)}}break;case 1:lr(e,t),kr(t),r&512&&n!==null&&na(n,n.return);break;case 5:if(lr(e,t),kr(t),r&512&&n!==null&&na(n,n.return),t.flags&32){var i=t.stateNode;try{_u(i,"")}catch(T){lt(t,t.return,T)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&II(i,s),lv(l,o);var f=lv(l,s);for(o=0;o<c.length;o+=2){var h=c[o],p=c[o+1];h==="style"?xI(i,p):h==="dangerouslySetInnerHTML"?AI(i,p):h==="children"?_u(i,p):Q0(i,h,p,f)}switch(l){case"input":rv(i,s);break;case"textarea":TI(i,s);break;case"select":var g=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var v=s.value;v!=null?fa(i,!!s.multiple,v,!1):g!==!!s.multiple&&(s.defaultValue!=null?fa(i,!!s.multiple,s.defaultValue,!0):fa(i,!!s.multiple,s.multiple?[]:"",!1))}i[Ru]=s}catch(T){lt(t,t.return,T)}}break;case 6:if(lr(e,t),kr(t),r&4){if(t.stateNode===null)throw Error(K(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(T){lt(t,t.return,T)}}break;case 3:if(lr(e,t),kr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Su(e.containerInfo)}catch(T){lt(t,t.return,T)}break;case 4:lr(e,t),kr(t);break;case 13:lr(e,t),kr(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(k_=dt())),r&4&&xS(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(Wt=(f=Wt)||h,lr(e,t),Wt=f):lr(e,t),kr(t),r&8192){if(f=t.memoizedState!==null,(t.stateNode.isHidden=f)&&!h&&t.mode&1)for(ie=t,h=t.child;h!==null;){for(p=ie=h;ie!==null;){switch(g=ie,v=g.child,g.tag){case 0:case 11:case 14:case 15:ou(4,g,g.return);break;case 1:na(g,g.return);var I=g.stateNode;if(typeof I.componentWillUnmount=="function"){r=g,n=g.return;try{e=r,I.props=e.memoizedProps,I.state=e.memoizedState,I.componentWillUnmount()}catch(T){lt(r,n,T)}}break;case 5:na(g,g.return);break;case 22:if(g.memoizedState!==null){NS(p);continue}}v!==null?(v.return=g,ie=v):NS(p)}h=h.sibling}e:for(h=null,p=t;;){if(p.tag===5){if(h===null){h=p;try{i=p.stateNode,f?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=p.stateNode,c=p.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=kI("display",o))}catch(T){lt(t,t.return,T)}}}else if(p.tag===6){if(h===null)try{p.stateNode.nodeValue=f?"":p.memoizedProps}catch(T){lt(t,t.return,T)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===t)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;h===p&&(h=null),p=p.return}h===p&&(h=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:lr(e,t),kr(t),r&4&&xS(t);break;case 21:break;default:lr(e,t),kr(t)}}function kr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(nR(n)){var r=n;break e}n=n.return}throw Error(K(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(_u(i,""),r.flags&=-33);var s=kS(t);Uv(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,l=kS(t);Mv(t,l,o);break;default:throw Error(K(161))}}catch(c){lt(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function t4(t,e,n){ie=t,sR(t)}function sR(t,e,n){for(var r=(t.mode&1)!==0;ie!==null;){var i=ie,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Af;if(!o){var l=i.alternate,c=l!==null&&l.memoizedState!==null||Wt;l=Af;var f=Wt;if(Af=o,(Wt=c)&&!f)for(ie=i;ie!==null;)o=ie,c=o.child,o.tag===22&&o.memoizedState!==null?PS(i):c!==null?(c.return=o,ie=c):PS(i);for(;s!==null;)ie=s,sR(s),s=s.sibling;ie=i,Af=l,Wt=f}OS(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,ie=s):OS(t)}}function OS(t){for(;ie!==null;){var e=ie;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Wt||Oh(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Wt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:dr(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&pS(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}pS(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var f=e.alternate;if(f!==null){var h=f.memoizedState;if(h!==null){var p=h.dehydrated;p!==null&&Su(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(K(163))}Wt||e.flags&512&&Fv(e)}catch(g){lt(e,e.return,g)}}if(e===t){ie=null;break}if(n=e.sibling,n!==null){n.return=e.return,ie=n;break}ie=e.return}}function NS(t){for(;ie!==null;){var e=ie;if(e===t){ie=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ie=n;break}ie=e.return}}function PS(t){for(;ie!==null;){var e=ie;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Oh(4,e)}catch(c){lt(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(c){lt(e,i,c)}}var s=e.return;try{Fv(e)}catch(c){lt(e,s,c)}break;case 5:var o=e.return;try{Fv(e)}catch(c){lt(e,o,c)}}}catch(c){lt(e,e.return,c)}if(e===t){ie=null;break}var l=e.sibling;if(l!==null){l.return=e.return,ie=l;break}ie=e.return}}var n4=Math.ceil,Pd=yi.ReactCurrentDispatcher,R_=yi.ReactCurrentOwner,Jn=yi.ReactCurrentBatchConfig,Pe=0,xt=null,gt=null,Ft=0,xn=0,ra=bs(0),St=0,Pu=null,so=0,Nh=0,A_=0,au=null,gn=null,k_=0,xa=1/0,ni=null,Dd=!1,Bv=null,rs=null,kf=!1,Ki=null,Ld=0,lu=0,$v=null,Zf=-1,ed=0;function nn(){return Pe&6?dt():Zf!==-1?Zf:Zf=dt()}function is(t){return t.mode&1?Pe&2&&Ft!==0?Ft&-Ft:BM.transition!==null?(ed===0&&(ed=VI()),ed):(t=$e,t!==0||(t=window.event,t=t===void 0?16:YI(t.type)),t):1}function Er(t,e,n,r){if(50<lu)throw lu=0,$v=null,Error(K(185));rc(t,n,r),(!(Pe&2)||t!==xt)&&(t===xt&&(!(Pe&2)&&(Nh|=n),St===4&&$i(t,Ft)),wn(t,r),n===1&&Pe===0&&!(e.mode&1)&&(xa=dt()+500,Ah&&Is()))}function wn(t,e){var n=t.callbackNode;B3(t,e);var r=_d(t,t===xt?Ft:0);if(r===0)n!==null&&V1(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&V1(n),e===1)t.tag===0?UM(DS.bind(null,t)):pT(DS.bind(null,t)),DM(function(){!(Pe&6)&&Is()}),n=null;else{switch(WI(r)){case 1:n=t_;break;case 4:n=$I;break;case 16:n=vd;break;case 536870912:n=jI;break;default:n=vd}n=hR(n,oR.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function oR(t,e){if(Zf=-1,ed=0,Pe&6)throw Error(K(327));var n=t.callbackNode;if(ma()&&t.callbackNode!==n)return null;var r=_d(t,t===xt?Ft:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Fd(t,r);else{e=r;var i=Pe;Pe|=2;var s=lR();(xt!==t||Ft!==e)&&(ni=null,xa=dt()+500,Xs(t,e));do try{s4();break}catch(l){aR(t,l)}while(1);p_(),Pd.current=s,Pe=i,gt!==null?e=0:(xt=null,Ft=0,e=St)}if(e!==0){if(e===2&&(i=hv(t),i!==0&&(r=i,e=jv(t,i))),e===1)throw n=Pu,Xs(t,0),$i(t,r),wn(t,dt()),n;if(e===6)$i(t,r);else{if(i=t.current.alternate,!(r&30)&&!r4(i)&&(e=Fd(t,r),e===2&&(s=hv(t),s!==0&&(r=s,e=jv(t,s))),e===1))throw n=Pu,Xs(t,0),$i(t,r),wn(t,dt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(K(345));case 2:$s(t,gn,ni);break;case 3:if($i(t,r),(r&130023424)===r&&(e=k_+500-dt(),10<e)){if(_d(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){nn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Ev($s.bind(null,t,gn,ni),e);break}$s(t,gn,ni);break;case 4:if($i(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-wr(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=dt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*n4(r/1960))-r,10<r){t.timeoutHandle=Ev($s.bind(null,t,gn,ni),r);break}$s(t,gn,ni);break;case 5:$s(t,gn,ni);break;default:throw Error(K(329))}}}return wn(t,dt()),t.callbackNode===n?oR.bind(null,t):null}function jv(t,e){var n=au;return t.current.memoizedState.isDehydrated&&(Xs(t,e).flags|=256),t=Fd(t,e),t!==2&&(e=gn,gn=n,e!==null&&Vv(e)),t}function Vv(t){gn===null?gn=t:gn.push.apply(gn,t)}function r4(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!br(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function $i(t,e){for(e&=~A_,e&=~Nh,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-wr(e),r=1<<n;t[n]=-1,e&=~r}}function DS(t){if(Pe&6)throw Error(K(327));ma();var e=_d(t,0);if(!(e&1))return wn(t,dt()),null;var n=Fd(t,e);if(t.tag!==0&&n===2){var r=hv(t);r!==0&&(e=r,n=jv(t,r))}if(n===1)throw n=Pu,Xs(t,0),$i(t,e),wn(t,dt()),n;if(n===6)throw Error(K(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,$s(t,gn,ni),wn(t,dt()),null}function x_(t,e){var n=Pe;Pe|=1;try{return t(e)}finally{Pe=n,Pe===0&&(xa=dt()+500,Ah&&Is())}}function oo(t){Ki!==null&&Ki.tag===0&&!(Pe&6)&&ma();var e=Pe;Pe|=1;var n=Jn.transition,r=$e;try{if(Jn.transition=null,$e=1,t)return t()}finally{$e=r,Jn.transition=n,Pe=e,!(Pe&6)&&Is()}}function O_(){xn=ra.current,Xe(ra)}function Xs(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,PM(n)),gt!==null)for(n=gt.return;n!==null;){var r=n;switch(f_(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Cd();break;case 3:Aa(),Xe(_n),Xe(Gt),w_();break;case 5:y_(r);break;case 4:Aa();break;case 13:Xe(rt);break;case 19:Xe(rt);break;case 10:g_(r.type._context);break;case 22:case 23:O_()}n=n.return}if(xt=t,gt=t=ss(t.current,null),Ft=xn=e,St=0,Pu=null,A_=Nh=so=0,gn=au=null,Hs!==null){for(e=0;e<Hs.length;e++)if(n=Hs[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Hs=null}return t}function aR(t,e){do{var n=gt;try{if(p_(),Qf.current=Nd,Od){for(var r=st.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Od=!1}if(io=0,At=yt=st=null,su=!1,xu=0,R_.current=null,n===null||n.return===null){St=1,Pu=e,gt=null;break}e:{var s=t,o=n.return,l=n,c=e;if(e=Ft,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var f=c,h=l,p=h.tag;if(!(h.mode&1)&&(p===0||p===11||p===15)){var g=h.alternate;g?(h.updateQueue=g.updateQueue,h.memoizedState=g.memoizedState,h.lanes=g.lanes):(h.updateQueue=null,h.memoizedState=null)}var v=ES(o);if(v!==null){v.flags&=-257,SS(v,o,l,s,e),v.mode&1&&wS(s,f,e),e=v,c=f;var I=e.updateQueue;if(I===null){var T=new Set;T.add(c),e.updateQueue=T}else I.add(c);break e}else{if(!(e&1)){wS(s,f,e),N_();break e}c=Error(K(426))}}else if(tt&&l.mode&1){var R=ES(o);if(R!==null){!(R.flags&65536)&&(R.flags|=256),SS(R,o,l,s,e),d_(ka(c,l));break e}}s=c=ka(c,l),St!==4&&(St=2),au===null?au=[s]:au.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var w=zT(s,c,e);hS(s,w);break e;case 1:l=c;var E=s.type,b=s.stateNode;if(!(s.flags&128)&&(typeof E.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(rs===null||!rs.has(b)))){s.flags|=65536,e&=-e,s.lanes|=e;var O=GT(s,l,e);hS(s,O);break e}}s=s.return}while(s!==null)}cR(n)}catch(B){e=B,gt===n&&n!==null&&(gt=n=n.return);continue}break}while(1)}function lR(){var t=Pd.current;return Pd.current=Nd,t===null?Nd:t}function N_(){(St===0||St===3||St===2)&&(St=4),xt===null||!(so&268435455)&&!(Nh&268435455)||$i(xt,Ft)}function Fd(t,e){var n=Pe;Pe|=2;var r=lR();(xt!==t||Ft!==e)&&(ni=null,Xs(t,e));do try{i4();break}catch(i){aR(t,i)}while(1);if(p_(),Pe=n,Pd.current=r,gt!==null)throw Error(K(261));return xt=null,Ft=0,St}function i4(){for(;gt!==null;)uR(gt)}function s4(){for(;gt!==null&&!x3();)uR(gt)}function uR(t){var e=dR(t.alternate,t,xn);t.memoizedProps=t.pendingProps,e===null?cR(t):gt=e,R_.current=null}function cR(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=XM(n,e),n!==null){n.flags&=32767,gt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{St=6,gt=null;return}}else if(n=JM(n,e,xn),n!==null){gt=n;return}if(e=e.sibling,e!==null){gt=e;return}gt=e=t}while(e!==null);St===0&&(St=5)}function $s(t,e,n){var r=$e,i=Jn.transition;try{Jn.transition=null,$e=1,o4(t,e,n,r)}finally{Jn.transition=i,$e=r}return null}function o4(t,e,n,r){do ma();while(Ki!==null);if(Pe&6)throw Error(K(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(K(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if($3(t,s),t===xt&&(gt=xt=null,Ft=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||kf||(kf=!0,hR(vd,function(){return ma(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Jn.transition,Jn.transition=null;var o=$e;$e=1;var l=Pe;Pe|=4,R_.current=null,e4(t,n),iR(n,t),TM(yv),yd=!!_v,yv=_v=null,t.current=n,t4(n),O3(),Pe=l,$e=o,Jn.transition=s}else t.current=n;if(kf&&(kf=!1,Ki=t,Ld=i),s=t.pendingLanes,s===0&&(rs=null),D3(n.stateNode),wn(t,dt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Dd)throw Dd=!1,t=Bv,Bv=null,t;return Ld&1&&t.tag!==0&&ma(),s=t.pendingLanes,s&1?t===$v?lu++:(lu=0,$v=t):lu=0,Is(),null}function ma(){if(Ki!==null){var t=WI(Ld),e=Jn.transition,n=$e;try{if(Jn.transition=null,$e=16>t?16:t,Ki===null)var r=!1;else{if(t=Ki,Ki=null,Ld=0,Pe&6)throw Error(K(331));var i=Pe;for(Pe|=4,ie=t.current;ie!==null;){var s=ie,o=s.child;if(ie.flags&16){var l=s.deletions;if(l!==null){for(var c=0;c<l.length;c++){var f=l[c];for(ie=f;ie!==null;){var h=ie;switch(h.tag){case 0:case 11:case 15:ou(8,h,s)}var p=h.child;if(p!==null)p.return=h,ie=p;else for(;ie!==null;){h=ie;var g=h.sibling,v=h.return;if(tR(h),h===f){ie=null;break}if(g!==null){g.return=v,ie=g;break}ie=v}}}var I=s.alternate;if(I!==null){var T=I.child;if(T!==null){I.child=null;do{var R=T.sibling;T.sibling=null,T=R}while(T!==null)}}ie=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,ie=o;else e:for(;ie!==null;){if(s=ie,s.flags&2048)switch(s.tag){case 0:case 11:case 15:ou(9,s,s.return)}var w=s.sibling;if(w!==null){w.return=s.return,ie=w;break e}ie=s.return}}var E=t.current;for(ie=E;ie!==null;){o=ie;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,ie=b;else e:for(o=E;ie!==null;){if(l=ie,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Oh(9,l)}}catch(B){lt(l,l.return,B)}if(l===o){ie=null;break e}var O=l.sibling;if(O!==null){O.return=l.return,ie=O;break e}ie=l.return}}if(Pe=i,Is(),Fr&&typeof Fr.onPostCommitFiberRoot=="function")try{Fr.onPostCommitFiberRoot(Ch,t)}catch{}r=!0}return r}finally{$e=n,Jn.transition=e}}return!1}function LS(t,e,n){e=ka(n,e),e=zT(t,e,1),t=ns(t,e,1),e=nn(),t!==null&&(rc(t,1,e),wn(t,e))}function lt(t,e,n){if(t.tag===3)LS(t,t,n);else for(;e!==null;){if(e.tag===3){LS(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(rs===null||!rs.has(r))){t=ka(n,t),t=GT(e,t,1),e=ns(e,t,1),t=nn(),e!==null&&(rc(e,1,t),wn(e,t));break}}e=e.return}}function a4(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=nn(),t.pingedLanes|=t.suspendedLanes&n,xt===t&&(Ft&n)===n&&(St===4||St===3&&(Ft&130023424)===Ft&&500>dt()-k_?Xs(t,0):A_|=n),wn(t,e)}function fR(t,e){e===0&&(t.mode&1?(e=yf,yf<<=1,!(yf&130023424)&&(yf=4194304)):e=1);var n=nn();t=pi(t,e),t!==null&&(rc(t,e,n),wn(t,n))}function l4(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),fR(t,n)}function u4(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(K(314))}r!==null&&r.delete(e),fR(t,n)}var dR;dR=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||_n.current)mn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return mn=!1,QM(t,e,n);mn=!!(t.flags&131072)}else mn=!1,tt&&e.flags&1048576&&gT(e,Td,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Xf(t,e),t=e.pendingProps;var i=Ia(e,Gt.current);ga(e,n),i=S_(null,e,r,t,i,n);var s=C_();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,yn(r)?(s=!0,bd(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,v_(e),i.updater=kh,e.stateNode=i,i._reactInternals=e,Av(e,r,t,n),e=Ov(null,e,r,!0,s,n)):(e.tag=0,tt&&s&&c_(e),Zt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Xf(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=f4(r),t=dr(r,t),i){case 0:e=xv(null,e,r,t,n);break e;case 1:e=IS(null,e,r,t,n);break e;case 11:e=CS(null,e,r,t,n);break e;case 14:e=bS(null,e,r,dr(r.type,t),n);break e}throw Error(K(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:dr(r,i),xv(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:dr(r,i),IS(t,e,r,i,n);case 3:e:{if(YT(e),t===null)throw Error(K(387));r=e.pendingProps,s=e.memoizedState,i=s.element,yT(t,e),kd(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=ka(Error(K(423)),e),e=TS(t,e,r,n,i);break e}else if(r!==i){i=ka(Error(K(424)),e),e=TS(t,e,r,n,i);break e}else for(On=ts(e.stateNode.containerInfo.firstChild),Nn=e,tt=!0,gr=null,n=CT(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ta(),r===i){e=gi(t,e,n);break e}Zt(t,e,r,n)}e=e.child}return e;case 5:return bT(e),t===null&&Iv(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,wv(r,i)?o=null:s!==null&&wv(r,s)&&(e.flags|=32),qT(t,e),Zt(t,e,o,n),e.child;case 6:return t===null&&Iv(e),null;case 13:return QT(t,e,n);case 4:return __(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Ra(e,null,r,n):Zt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:dr(r,i),CS(t,e,r,i,n);case 7:return Zt(t,e,e.pendingProps,n),e.child;case 8:return Zt(t,e,e.pendingProps.children,n),e.child;case 12:return Zt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Ke(Rd,r._currentValue),r._currentValue=o,s!==null)if(br(s.value,o)){if(s.children===i.children&&!_n.current){e=gi(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var l=s.dependencies;if(l!==null){o=s.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(s.tag===1){c=ci(-1,n&-n),c.tag=2;var f=s.updateQueue;if(f!==null){f=f.shared;var h=f.pending;h===null?c.next=c:(c.next=h.next,h.next=c),f.pending=c}}s.lanes|=n,c=s.alternate,c!==null&&(c.lanes|=n),Tv(s.return,n,e),l.lanes|=n;break}c=c.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(K(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Tv(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Zt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,ga(e,n),i=Xn(i),r=r(i),e.flags|=1,Zt(t,e,r,n),e.child;case 14:return r=e.type,i=dr(r,e.pendingProps),i=dr(r.type,i),bS(t,e,r,i,n);case 15:return HT(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:dr(r,i),Xf(t,e),e.tag=1,yn(r)?(t=!0,bd(e)):t=!1,ga(e,n),ET(e,r,i),Av(e,r,i,n),Ov(null,e,r,!0,t,n);case 19:return JT(t,e,n);case 22:return KT(t,e,n)}throw Error(K(156,e.tag))};function hR(t,e){return BI(t,e)}function c4(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qn(t,e,n,r){return new c4(t,e,n,r)}function P_(t){return t=t.prototype,!(!t||!t.isReactComponent)}function f4(t){if(typeof t=="function")return P_(t)?1:0;if(t!=null){if(t=t.$$typeof,t===X0)return 11;if(t===Z0)return 14}return 2}function ss(t,e){var n=t.alternate;return n===null?(n=Qn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function td(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")P_(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Ko:return Zs(n.children,i,s,e);case J0:o=8,i|=8;break;case Xm:return t=Qn(12,n,e,i|2),t.elementType=Xm,t.lanes=s,t;case Zm:return t=Qn(13,n,e,i),t.elementType=Zm,t.lanes=s,t;case ev:return t=Qn(19,n,e,i),t.elementType=ev,t.lanes=s,t;case SI:return Ph(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case wI:o=10;break e;case EI:o=9;break e;case X0:o=11;break e;case Z0:o=14;break e;case Fi:o=16,r=null;break e}throw Error(K(130,t==null?t:typeof t,""))}return e=Qn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Zs(t,e,n,r){return t=Qn(7,t,r,e),t.lanes=n,t}function Ph(t,e,n,r){return t=Qn(22,t,r,e),t.elementType=SI,t.lanes=n,t.stateNode={isHidden:!1},t}function sm(t,e,n){return t=Qn(6,t,null,e),t.lanes=n,t}function om(t,e,n){return e=Qn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function d4(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=$g(0),this.expirationTimes=$g(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$g(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function D_(t,e,n,r,i,s,o,l,c){return t=new d4(t,e,n,l,c),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Qn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},v_(s),t}function h4(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ho,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function pR(t){if(!t)return gs;t=t._reactInternals;e:{if(mo(t)!==t||t.tag!==1)throw Error(K(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(yn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(K(171))}if(t.tag===1){var n=t.type;if(yn(n))return hT(t,n,e)}return e}function gR(t,e,n,r,i,s,o,l,c){return t=D_(n,r,!0,t,i,s,o,l,c),t.context=pR(null),n=t.current,r=nn(),i=is(n),s=ci(r,i),s.callback=e??null,ns(n,s,i),t.current.lanes=i,rc(t,i,r),wn(t,r),t}function Dh(t,e,n,r){var i=e.current,s=nn(),o=is(i);return n=pR(n),e.context===null?e.context=n:e.pendingContext=n,e=ci(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=ns(i,e,o),t!==null&&(Er(t,i,o,s),Yf(t,i,o)),o}function Md(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function FS(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function L_(t,e){FS(t,e),(t=t.alternate)&&FS(t,e)}function p4(){return null}var mR=typeof reportError=="function"?reportError:function(t){console.error(t)};function F_(t){this._internalRoot=t}Lh.prototype.render=F_.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(K(409));Dh(t,e,null,null)};Lh.prototype.unmount=F_.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;oo(function(){Dh(null,t,null,null)}),e[hi]=null}};function Lh(t){this._internalRoot=t}Lh.prototype.unstable_scheduleHydration=function(t){if(t){var e=HI();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Bi.length&&e!==0&&e<Bi[n].priority;n++);Bi.splice(n,0,t),n===0&&qI(t)}};function M_(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Fh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function MS(){}function g4(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var f=Md(o);s.call(f)}}var o=gR(e,r,t,0,null,!1,!1,"",MS);return t._reactRootContainer=o,t[hi]=o.current,Iu(t.nodeType===8?t.parentNode:t),oo(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var f=Md(c);l.call(f)}}var c=D_(t,0,!1,null,null,!1,!1,"",MS);return t._reactRootContainer=c,t[hi]=c.current,Iu(t.nodeType===8?t.parentNode:t),oo(function(){Dh(e,c,n,r)}),c}function Mh(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var l=i;i=function(){var c=Md(o);l.call(c)}}Dh(e,o,t,i)}else o=g4(n,e,t,i,r);return Md(o)}zI=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Hl(e.pendingLanes);n!==0&&(n_(e,n|1),wn(e,dt()),!(Pe&6)&&(xa=dt()+500,Is()))}break;case 13:oo(function(){var r=pi(t,1);if(r!==null){var i=nn();Er(r,t,1,i)}}),L_(t,1)}};r_=function(t){if(t.tag===13){var e=pi(t,134217728);if(e!==null){var n=nn();Er(e,t,134217728,n)}L_(t,134217728)}};GI=function(t){if(t.tag===13){var e=is(t),n=pi(t,e);if(n!==null){var r=nn();Er(n,t,e,r)}L_(t,e)}};HI=function(){return $e};KI=function(t,e){var n=$e;try{return $e=t,e()}finally{$e=n}};cv=function(t,e,n){switch(e){case"input":if(rv(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Rh(r);if(!i)throw Error(K(90));bI(r),rv(r,i)}}}break;case"textarea":TI(t,n);break;case"select":e=n.value,e!=null&&fa(t,!!n.multiple,e,!1)}};PI=x_;DI=oo;var m4={usingClientEntryPoint:!1,Events:[sc,Jo,Rh,OI,NI,x_]},Ol={findFiberByHostInstance:Gs,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},v4={bundleType:Ol.bundleType,version:Ol.version,rendererPackageName:Ol.rendererPackageName,rendererConfig:Ol.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:yi.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=MI(t),t===null?null:t.stateNode},findFiberByHostInstance:Ol.findFiberByHostInstance||p4,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xf.isDisabled&&xf.supportsFiber)try{Ch=xf.inject(v4),Fr=xf}catch{}}Fn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=m4;Fn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!M_(e))throw Error(K(200));return h4(t,e,null,n)};Fn.createRoot=function(t,e){if(!M_(t))throw Error(K(299));var n=!1,r="",i=mR;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=D_(t,1,!1,null,null,n,!1,r,i),t[hi]=e.current,Iu(t.nodeType===8?t.parentNode:t),new F_(e)};Fn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(K(188)):(t=Object.keys(t).join(","),Error(K(268,t)));return t=MI(e),t=t===null?null:t.stateNode,t};Fn.flushSync=function(t){return oo(t)};Fn.hydrate=function(t,e,n){if(!Fh(e))throw Error(K(200));return Mh(null,t,e,!0,n)};Fn.hydrateRoot=function(t,e,n){if(!M_(t))throw Error(K(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=mR;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=gR(e,null,t,1,n??null,i,!1,s,o),t[hi]=e.current,Iu(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Lh(e)};Fn.render=function(t,e,n){if(!Fh(e))throw Error(K(200));return Mh(null,t,e,!1,n)};Fn.unmountComponentAtNode=function(t){if(!Fh(t))throw Error(K(40));return t._reactRootContainer?(oo(function(){Mh(null,null,t,!1,function(){t._reactRootContainer=null,t[hi]=null})}),!0):!1};Fn.unstable_batchedUpdates=x_;Fn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Fh(n))throw Error(K(200));if(t==null||t._reactInternals===void 0)throw Error(K(38));return Mh(t,e,n,!1,r)};Fn.version="18.2.0-next-9e3b772b8-20220608";(function(t){function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}e(),t.exports=Fn})(p3);var US=Ym;qm.createRoot=US.createRoot,qm.hydrateRoot=US.hydrateRoot;/**
 * @remix-run/router v1.3.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Du(){return Du=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Du.apply(this,arguments)}var qi;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(qi||(qi={}));const BS="popstate";function _4(t){t===void 0&&(t={});function e(i,s){let{pathname:o="/",search:l="",hash:c=""}=vo(i.location.hash.substr(1));return Wv("",{pathname:o,search:l,hash:c},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(i,s){let o=i.document.querySelector("base"),l="";if(o&&o.getAttribute("href")){let c=i.location.href,f=c.indexOf("#");l=f===-1?c:c.slice(0,f)}return l+"#"+(typeof s=="string"?s:Ud(s))}function r(i,s){y4(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(s)+")")}return E4(e,n,r,t)}function Ct(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function y4(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function w4(){return Math.random().toString(36).substr(2,8)}function $S(t,e){return{usr:t.state,key:t.key,idx:e}}function Wv(t,e,n,r){return n===void 0&&(n=null),Du({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?vo(e):e,{state:n,key:e&&e.key||r||w4()})}function Ud(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function vo(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function E4(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,l=qi.Pop,c=null,f=h();f==null&&(f=0,o.replaceState(Du({},o.state,{idx:f}),""));function h(){return(o.state||{idx:null}).idx}function p(){l=qi.Pop;let R=h(),w=R==null?null:R-f;f=R,c&&c({action:l,location:T.location,delta:w})}function g(R,w){l=qi.Push;let E=Wv(T.location,R,w);n&&n(E,R),f=h()+1;let b=$S(E,f),O=T.createHref(E);try{o.pushState(b,"",O)}catch{i.location.assign(O)}s&&c&&c({action:l,location:T.location,delta:1})}function v(R,w){l=qi.Replace;let E=Wv(T.location,R,w);n&&n(E,R),f=h();let b=$S(E,f),O=T.createHref(E);o.replaceState(b,"",O),s&&c&&c({action:l,location:T.location,delta:0})}function I(R){let w=i.location.origin!=="null"?i.location.origin:i.location.href,E=typeof R=="string"?R:Ud(R);return Ct(w,"No window.location.(origin|href) available to create URL for href: "+E),new URL(E,w)}let T={get action(){return l},get location(){return t(i,o)},listen(R){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(BS,p),c=R,()=>{i.removeEventListener(BS,p),c=null}},createHref(R){return e(i,R)},createURL:I,encodeLocation(R){let w=I(R);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:g,replace:v,go(R){return o.go(R)}};return T}var jS;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(jS||(jS={}));function S4(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?vo(e):e,i=yR(r.pathname||"/",n);if(i==null)return null;let s=vR(t);C4(s);let o=null;for(let l=0;o==null&&l<s.length;++l)o=N4(s[l],L4(i));return o}function vR(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,l)=>{let c={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};c.relativePath.startsWith("/")&&(Ct(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let f=os([r,c.relativePath]),h=n.concat(c);s.children&&s.children.length>0&&(Ct(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+f+'".')),vR(s.children,e,h,f)),!(s.path==null&&!s.index)&&e.push({path:f,score:x4(f,s.index),routesMeta:h})};return t.forEach((s,o)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))i(s,o);else for(let c of _R(s.path))i(s,o,c)}),e}function _R(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=_R(r.join("/")),l=[];return l.push(...o.map(c=>c===""?s:[s,c].join("/"))),i&&l.push(...o),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function C4(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:O4(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const b4=/^:\w+$/,I4=3,T4=2,R4=1,A4=10,k4=-2,VS=t=>t==="*";function x4(t,e){let n=t.split("/"),r=n.length;return n.some(VS)&&(r+=k4),e&&(r+=T4),n.filter(i=>!VS(i)).reduce((i,s)=>i+(b4.test(s)?I4:s===""?R4:A4),r)}function O4(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function N4(t,e){let{routesMeta:n}=t,r={},i="/",s=[];for(let o=0;o<n.length;++o){let l=n[o],c=o===n.length-1,f=i==="/"?e:e.slice(i.length)||"/",h=P4({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},f);if(!h)return null;Object.assign(r,h.params);let p=l.route;s.push({params:r,pathname:os([i,h.pathname]),pathnameBase:B4(os([i,h.pathnameBase])),route:p}),h.pathnameBase!=="/"&&(i=os([i,h.pathnameBase]))}return s}function P4(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=D4(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((f,h,p)=>{if(h==="*"){let g=l[p]||"";o=s.slice(0,s.length-g.length).replace(/(.)\/+$/,"$1")}return f[h]=F4(l[p]||"",h),f},{}),pathname:s,pathnameBase:o,pattern:t}}function D4(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),U_(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(o,l)=>(r.push(l),"/([^\\/]+)"));return t.endsWith("*")?(r.push("*"),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function L4(t){try{return decodeURI(t)}catch(e){return U_(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function F4(t,e){try{return decodeURIComponent(t)}catch(n){return U_(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function yR(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function U_(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function M4(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?vo(t):t;return{pathname:n?n.startsWith("/")?n:U4(n,e):e,search:$4(r),hash:j4(i)}}function U4(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function am(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function wR(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function ER(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=vo(t):(i=Du({},t),Ct(!i.pathname||!i.pathname.includes("?"),am("?","pathname","search",i)),Ct(!i.pathname||!i.pathname.includes("#"),am("#","pathname","hash",i)),Ct(!i.search||!i.search.includes("#"),am("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,l;if(r||o==null)l=n;else{let p=e.length-1;if(o.startsWith("..")){let g=o.split("/");for(;g[0]==="..";)g.shift(),p-=1;i.pathname=g.join("/")}l=p>=0?e[p]:"/"}let c=M4(i,l),f=o&&o!=="/"&&o.endsWith("/"),h=(s||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(f||h)&&(c.pathname+="/"),c}const os=t=>t.join("/").replace(/\/\/+/g,"/"),B4=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),$4=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,j4=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function V4(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const W4=["post","put","patch","delete"];[...W4];/**
 * React Router v6.8.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function zv(){return zv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zv.apply(this,arguments)}function z4(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}const G4=typeof Object.is=="function"?Object.is:z4,{useState:H4,useEffect:K4,useLayoutEffect:q4,useDebugValue:Y4}=Km;function Q4(t,e,n){const r=e(),[{inst:i},s]=H4({inst:{value:r,getSnapshot:e}});return q4(()=>{i.value=r,i.getSnapshot=e,lm(i)&&s({inst:i})},[t,r,e]),K4(()=>(lm(i)&&s({inst:i}),t(()=>{lm(i)&&s({inst:i})})),[t]),Y4(r),r}function lm(t){const e=t.getSnapshot,n=t.value;try{const r=e();return!G4(n,r)}catch{return!0}}function J4(t,e,n){return e()}const X4=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Z4=!X4,eU=Z4?J4:Q4;"useSyncExternalStore"in Km&&(t=>t.useSyncExternalStore)(Km);const SR=k.createContext(null),CR=k.createContext(null),Uh=k.createContext(null),Bh=k.createContext(null),Ha=k.createContext({outlet:null,matches:[]}),bR=k.createContext(null);function tU(t,e){let{relative:n}=e===void 0?{}:e;ac()||Ct(!1);let{basename:r,navigator:i}=k.useContext(Uh),{hash:s,pathname:o,search:l}=IR(t,{relative:n}),c=o;return r!=="/"&&(c=o==="/"?r:os([r,o])),i.createHref({pathname:c,search:l,hash:s})}function ac(){return k.useContext(Bh)!=null}function Ka(){return ac()||Ct(!1),k.useContext(Bh).location}function nU(){ac()||Ct(!1);let{basename:t,navigator:e}=k.useContext(Uh),{matches:n}=k.useContext(Ha),{pathname:r}=Ka(),i=JSON.stringify(wR(n).map(l=>l.pathnameBase)),s=k.useRef(!1);return k.useEffect(()=>{s.current=!0}),k.useCallback(function(l,c){if(c===void 0&&(c={}),!s.current)return;if(typeof l=="number"){e.go(l);return}let f=ER(l,JSON.parse(i),r,c.relative==="path");t!=="/"&&(f.pathname=f.pathname==="/"?t:os([t,f.pathname])),(c.replace?e.replace:e.push)(f,c.state,c)},[t,e,i,r])}function IR(t,e){let{relative:n}=e===void 0?{}:e,{matches:r}=k.useContext(Ha),{pathname:i}=Ka(),s=JSON.stringify(wR(r).map(o=>o.pathnameBase));return k.useMemo(()=>ER(t,JSON.parse(s),i,n==="path"),[t,s,i,n])}function rU(t,e){ac()||Ct(!1);let{navigator:n}=k.useContext(Uh),r=k.useContext(CR),{matches:i}=k.useContext(Ha),s=i[i.length-1],o=s?s.params:{};s&&s.pathname;let l=s?s.pathnameBase:"/";s&&s.route;let c=Ka(),f;if(e){var h;let T=typeof e=="string"?vo(e):e;l==="/"||(h=T.pathname)!=null&&h.startsWith(l)||Ct(!1),f=T}else f=c;let p=f.pathname||"/",g=l==="/"?p:p.slice(l.length)||"/",v=S4(t,{pathname:g}),I=aU(v&&v.map(T=>Object.assign({},T,{params:Object.assign({},o,T.params),pathname:os([l,n.encodeLocation?n.encodeLocation(T.pathname).pathname:T.pathname]),pathnameBase:T.pathnameBase==="/"?l:os([l,n.encodeLocation?n.encodeLocation(T.pathnameBase).pathname:T.pathnameBase])})),i,r||void 0);return e&&I?k.createElement(Bh.Provider,{value:{location:zv({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:qi.Pop}},I):I}function iU(){let t=fU(),e=V4(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},e),n?k.createElement("pre",{style:i},n):null,s)}class sU extends k.Component{constructor(e){super(e),this.state={location:e.location,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location?{error:e.error,location:e.location}:{error:e.error||n.error,location:n.location}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error?k.createElement(Ha.Provider,{value:this.props.routeContext},k.createElement(bR.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function oU(t){let{routeContext:e,match:n,children:r}=t,i=k.useContext(SR);return i&&i.static&&i.staticContext&&n.route.errorElement&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),k.createElement(Ha.Provider,{value:e},r)}function aU(t,e,n){if(e===void 0&&(e=[]),t==null)if(n!=null&&n.errors)t=n.matches;else return null;let r=t,i=n?.errors;if(i!=null){let s=r.findIndex(o=>o.route.id&&i?.[o.route.id]);s>=0||Ct(!1),r=r.slice(0,Math.min(r.length,s+1))}return r.reduceRight((s,o,l)=>{let c=o.route.id?i?.[o.route.id]:null,f=n?o.route.errorElement||k.createElement(iU,null):null,h=e.concat(r.slice(0,l+1)),p=()=>k.createElement(oU,{match:o,routeContext:{outlet:s,matches:h}},c?f:o.route.element!==void 0?o.route.element:s);return n&&(o.route.errorElement||l===0)?k.createElement(sU,{location:n.location,component:f,error:c,children:p(),routeContext:{outlet:null,matches:h}}):p()},null)}var WS;(function(t){t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator"})(WS||(WS={}));var Bd;(function(t){t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator"})(Bd||(Bd={}));function lU(t){let e=k.useContext(CR);return e||Ct(!1),e}function uU(t){let e=k.useContext(Ha);return e||Ct(!1),e}function cU(t){let e=uU(),n=e.matches[e.matches.length-1];return n.route.id||Ct(!1),n.route.id}function fU(){var t;let e=k.useContext(bR),n=lU(Bd.UseRouteError),r=cU(Bd.UseRouteError);return e||((t=n.errors)==null?void 0:t[r])}function TR(t){Ct(!1)}function dU(t){let{basename:e="/",children:n=null,location:r,navigationType:i=qi.Pop,navigator:s,static:o=!1}=t;ac()&&Ct(!1);let l=e.replace(/^\/*/,"/"),c=k.useMemo(()=>({basename:l,navigator:s,static:o}),[l,s,o]);typeof r=="string"&&(r=vo(r));let{pathname:f="/",search:h="",hash:p="",state:g=null,key:v="default"}=r,I=k.useMemo(()=>{let T=yR(f,l);return T==null?null:{pathname:T,search:h,hash:p,state:g,key:v}},[l,f,h,p,g,v]);return I==null?null:k.createElement(Uh.Provider,{value:c},k.createElement(Bh.Provider,{children:n,value:{location:I,navigationType:i}}))}function hU(t){let{children:e,location:n}=t,r=k.useContext(SR),i=r&&!e?r.router.routes:Gv(e);return rU(i,n)}var zS;(function(t){t[t.pending=0]="pending",t[t.success=1]="success",t[t.error=2]="error"})(zS||(zS={}));new Promise(()=>{});function Gv(t,e){e===void 0&&(e=[]);let n=[];return k.Children.forEach(t,(r,i)=>{if(!k.isValidElement(r))return;if(r.type===k.Fragment){n.push.apply(n,Gv(r.props.children,e));return}r.type!==TR&&Ct(!1),!r.props.index||!r.props.children||Ct(!1);let s=[...e,i],o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,hasErrorBoundary:r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle};r.props.children&&(o.children=Gv(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.8.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Hv(){return Hv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hv.apply(this,arguments)}function pU(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function gU(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function mU(t,e){return t.button===0&&(!e||e==="_self")&&!gU(t)}const vU=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"];function _U(t){let{basename:e,children:n,window:r}=t,i=k.useRef();i.current==null&&(i.current=_4({window:r,v5Compat:!0}));let s=i.current,[o,l]=k.useState({action:s.action,location:s.location});return k.useLayoutEffect(()=>s.listen(l),[s]),k.createElement(dU,{basename:e,children:n,location:o.location,navigationType:o.action,navigator:s})}const yU=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",GS=k.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:l,target:c,to:f,preventScrollReset:h}=e,p=pU(e,vU),g,v=!1;if(yU&&typeof f=="string"&&/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i.test(f)){g=f;let w=new URL(window.location.href),E=f.startsWith("//")?new URL(w.protocol+f):new URL(f);E.origin===w.origin?f=E.pathname+E.search+E.hash:v=!0}let I=tU(f,{relative:i}),T=wU(f,{replace:o,state:l,target:c,preventScrollReset:h,relative:i});function R(w){r&&r(w),w.defaultPrevented||T(w)}return k.createElement("a",Hv({},p,{href:g||I,onClick:v||s?r:R,ref:n,target:c}))});var HS;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmitImpl="useSubmitImpl",t.UseFetcher="useFetcher"})(HS||(HS={}));var KS;(function(t){t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(KS||(KS={}));function wU(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o}=e===void 0?{}:e,l=nU(),c=Ka(),f=IR(t,{relative:o});return k.useCallback(h=>{if(mU(h,n)){h.preventDefault();let p=r!==void 0?r:Ud(c)===Ud(f);l(t,{replace:p,state:i,preventScrollReset:s,relative:o})}},[c,l,f,r,i,n,t,s,o])}const RR=0,AR=1,kR=2,xR=3,OR=4,NR=5;var _={error:console.error,warn:console.warn,info:console.log,debug:console.log,verbose:function(...t){}};function B_(t){_.error=t>=1?console.error:function(...e){},_.warn=t>=2?console.warn:function(...e){},_.info=t>=3?console.log:function(...e){},_.debug=t>=4?console.log:function(...e){},_.verbose=t>=5?console.log:function(...e){}}typeof window<"u"&&(window.DEBUG_LEVEL_NONE=RR,window.DEBUG_LEVEL_ERROR=AR,window.DEBUG_LEVEL_WARN=kR,window.DEBUG_LEVEL_INFO=xR,window.DEBUG_LEVEL_DEBUG=OR,window.DEBUG_LEVEL_VERBOSE=NR,window.setLoggingLevel=B_);globalThis&&(globalThis.DEBUG_LEVEL_NONE=RR,globalThis.DEBUG_LEVEL_ERROR=AR,globalThis.DEBUG_LEVEL_WARN=kR,globalThis.DEBUG_LEVEL_INFO=xR,globalThis.DEBUG_LEVEL_DEBUG=OR,globalThis.DEBUG_LEVEL_VERBOSE=NR,globalThis.setLoggingLevel=B_);function $h(t,e){let n=BigInt(Math.round(t));var r=[];for(let i=0;i<e;i++){const s=n&0xffn;r.push(Number(s)),n=n>>8n}return r}function re(t,e){return $h(t,e)}new Date().getTime()%2147483647;function ue(t){return new Promise(e=>setTimeout(e,t))}const $_=()=>({events:{},emit(t,...e){(this.events[t]||[]).forEach(n=>{n(...e)})},on(t,e){return(this.events[t]=this.events[t]||[]).push(e),()=>this.events[t]=(this.events[t]||[]).filter(n=>n!==e)}});function Oa(t,e,n,r,i){if(_.verbose("mapValue(x="+t+", in_min="+e+", in_max="+n+", out_min="+r+", out_max="+i+")"),n==e)return r/2+i/2;let s=Math.min(e,n),o=Math.max(e,n);t<s?t=s:t>o&&(t=o);let l=(t-e)*(i-r)/(n-e)+r;return s=Math.min(r,i),o=Math.max(r,i),l<s?l=s:l>o&&(l=o),l}function Mo(t){return j_(t,5)}function j_(t,e){var n=[];for(let r=0;r<e;r++)r<t.length?n.push(t.charCodeAt(r)):n.push(0);return n}function EU(t){if(!t)return[0,0,0];let e=t.match(/#([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])/i);if(!e)return console.error('Wrong color code: "'+t+'"'),[0,0,0];let n=parseInt(e[1],16),r=parseInt(e[2],16),i=parseInt(e[3],16);return[n,r,i]}const SU=268435455,CU=-268435455;function bU(t){const e=Oa(t,-100,100,CU,SU);return re(Math.floor(e),4)}function IU(t){var e=t.split(":"),n=e.map(function(r){return parseInt(r,16)});return n}const PR=typeof window<"u"&&"flutter_inappwebview"in window;function Vo(){return PR}const ms=typeof navigator>"u"?"":navigator.userAgent.toLowerCase(),TU=ms.indexOf("android")>-1;function Lu(){return TU}const RU=ms.indexOf("iphone")>-1;function AU(){return RU}const kU=ms.indexOf("macintosh")>-1;function um(){return kU}const xU=ms.indexOf("windows")>-1;function cm(){return xU}const OU=ms.indexOf("linux")>-1;function NU(){return OU}const PU=ms.indexOf("chrome")>-1;function Nl(){return PU&&!PR}ms.indexOf("safari")>-1&&ms.indexOf("chrome")==-1;function DU(t,e){let n=new TextEncoder,r={name:"HMAC",hash:"SHA-256"},i=new Uint8Array(t);return crypto.subtle.importKey("raw",n.encode(e),r,!1,["sign","verify"]).then(s=>crypto.subtle.sign(r.name,s,i)).then(s=>new Uint8Array(s))}function js(t,e){if(t.length%2!=0)throw"Invalid hexString";e||(e=t.length/2);let n=new Uint8Array(e);for(let r=0;r<e;r++){const i=parseInt(t.substr(r*2,2),16);i!==NaN?n[r]=i:n[r]=0}return n}function qS(t){return[...new Uint8Array(t)].map(e=>e.toString(16).padStart(2,"0")).join("")}const fm=()=>typeof navigator<"u"&&parseFloat((""+(/CPU.*OS ([0-9_]{3,4})[0-9_]{0,1}|(CPU like).*AppleWebKit.*Mobile/i.exec(navigator.userAgent)||[0,""])[1]).replace("undefined","3_2").replace("_",".").replace("_",""))<10&&!window.MSStream,dm=()=>"wakeLock"in navigator;class LU{constructor(){if(!(typeof window>"u"))if(this.enabled=!1,dm()){this._wakeLock=null;const e=()=>{this._wakeLock!==null&&document.visibilityState==="visible"&&this.enable()};document.addEventListener("visibilitychange",e),document.addEventListener("fullscreenchange",e)}else fm()?this.noSleepTimer=null:_.error("NoSleep is not available")}_addSourceToVideo(e,n,r){var i=document.createElement("source");i.src=r,i.type=`video/${n}`,e.appendChild(i)}get isEnabled(){return this.enabled}enable(){if(dm())return navigator.wakeLock.request("screen").then(e=>{this._wakeLock=e,this.enabled=!0,console.info("Wake Lock active."),this._wakeLock.addEventListener("release",()=>{console.info("Wake Lock released.")})}).catch(e=>{throw this.enabled=!1,console.error(`${e.name}, ${e.message}`),e});if(fm())return this.disable(),console.warn(`
        NoSleep enabled for older iOS devices. This can interrupt
        active or long-running network requests from completing successfully.
        See https://github.com/richtr/NoSleep.js/issues/15 for more details.
      `),this.enabled=!0,Promise.resolve()}disable(){dm()?(this._wakeLock&&this._wakeLock.release(),this._wakeLock=null):fm()&&this.noSleepTimer&&(console.warn(`
          NoSleep now disabled for older iOS devices.
        `),window.clearInterval(this.noSleepTimer),this.noSleepTimer=null),this.enabled=!1}}const Kv=new LU,FU="00000000 77073096 EE0E612C 990951BA 076DC419 706AF48F E963A535 9E6495A3 0EDB8832 79DCB8A4 E0D5E91E 97D2D988 09B64C2B 7EB17CBD E7B82D07 90BF1D91 1DB71064 6AB020F2 F3B97148 84BE41DE 1ADAD47D 6DDDE4EB F4D4B551 83D385C7 136C9856 646BA8C0 FD62F97A 8A65C9EC 14015C4F 63066CD9 FA0F3D63 8D080DF5 3B6E20C8 4C69105E D56041E4 A2677172 3C03E4D1 4B04D447 D20D85FD A50AB56B 35B5A8FA 42B2986C DBBBC9D6 ACBCF940 32D86CE3 45DF5C75 DCD60DCF ABD13D59 26D930AC 51DE003A C8D75180 BFD06116 21B4F4B5 56B3C423 CFBA9599 B8BDA50F 2802B89E 5F058808 C60CD9B2 B10BE924 2F6F7C87 58684C11 C1611DAB B6662D3D 76DC4190 01DB7106 98D220BC EFD5102A 71B18589 06B6B51F 9FBFE4A5 E8B8D433 7807C9A2 0F00F934 9609A88E E10E9818 7F6A0DBB 086D3D2D 91646C97 E6635C01 6B6B51F4 1C6C6162 856530D8 F262004E 6C0695ED 1B01A57B 8208F4C1 F50FC457 65B0D9C6 12B7E950 8BBEB8EA FCB9887C 62DD1DDF 15DA2D49 8CD37CF3 FBD44C65 4DB26158 3AB551CE A3BC0074 D4BB30E2 4ADFA541 3DD895D7 A4D1C46D D3D6F4FB 4369E96A 346ED9FC AD678846 DA60B8D0 44042D73 33031DE5 AA0A4C5F DD0D7CC9 5005713C 270241AA BE0B1010 C90C2086 5768B525 206F85B3 B966D409 CE61E49F 5EDEF90E 29D9C998 B0D09822 C7D7A8B4 59B33D17 2EB40D81 B7BD5C3B C0BA6CAD EDB88320 9ABFB3B6 03B6E20C 74B1D29A EAD54739 9DD277AF 04DB2615 73DC1683 E3630B12 94643B84 0D6D6A3E 7A6A5AA8 E40ECF0B 9309FF9D 0A00AE27 7D079EB1 F00F9344 8708A3D2 1E01F268 6906C2FE F762575D 806567CB 196C3671 6E6B06E7 FED41B76 89D32BE0 10DA7A5A 67DD4ACC F9B9DF6F 8EBEEFF9 17B7BE43 60B08ED5 D6D6A3E8 A1D1937E 38D8C2C4 4FDFF252 D1BB67F1 A6BC5767 3FB506DD 48B2364B D80D2BDA AF0A1B4C 36034AF6 41047A60 DF60EFC3 A867DF55 316E8EEF 4669BE79 CB61B38C BC66831A 256FD2A0 5268E236 CC0C7795 BB0B4703 220216B9 5505262F C5BA3BBE B2BD0B28 2BB45A92 5CB36A04 C2D7FFA7 B5D0CF31 2CD99E8B 5BDEAE1D 9B64C2B0 EC63F226 756AA39C 026D930A 9C0906A9 EB0E363F 72076785 05005713 95BF4A82 E2B87A14 7BB12BAE 0CB61B38 92D28E9B E5D5BE0D 7CDCEFB7 0BDBDF21 86D3D2D4 F1D4E242 68DDB3F8 1FDA836E 81BE16CD F6B9265B 6FB077E1 18B74777 88085AE6 FF0F6A70 66063BCA 11010B5C 8F659EFF F862AE69 616BFFD3 166CCF45 A00AE278 D70DD2EE 4E048354 3903B3C2 A7672661 D06016F7 4969474D 3E6E77DB AED16A4A D9D65ADC 40DF0B66 37D83BF0 A9BCAE53 DEBB9EC5 47B2CF7F 30B5FFE9 BDBDF21C CABAC28A 53B39330 24B4A3A6 BAD03605 CDD70693 54DE5729 23D967BF B3667A2E C4614AB8 5D681B02 2A6F2B94 B40BBE37 C30C8EA1 5A05DF1B 2D02EF8D",MU=FU.split(" ").map(function(t){return parseInt(t,16)});function YS(t){for(var e=-1,n=0,r=t.length;n<r;n++)e=e>>>8^MU[(e^t[n])&255];return(e^-1)>>>0}const UU="005EBCE2613FDD83C29C7E20A3FD1F419DC3217FFCA2401E5F01E3BD3E6082DC237D9FC1421CFEA0E1BF5D0380DE3C62BEE0025CDF81633D7C22C09E1D43A1FF4618FAA427799BC584DA3866E5BB5907DB856739BAE406581947A5FB7826C49A653BD987045AB8E6A7F91B45C6987A24F8A6441A99C7257B3A6486D85B05E7B98CD2306EEDB3510F4E10F2AC2F7193CD114FADF3702ECC92D38D6F31B2EC0E50AFF1134DCE90722C6D33D18F0C52B0EE326C8ED0530DEFB1F0AE4C1291CF2D73CA947628ABF517490856B4EA6937D58B5709EBB536688AD495CB2977F4AA4816E9B7550B88D6346A2B7597C94A14F6A8742AC896154BA9F7B6E80A54D7896B35";function qv(t){if(!t.length)return[];var e=t.match(/[0-9a-f]{2}/gi);return e=e.map(n=>parseInt(n,16)),new Uint8Array(e)}qv(UU);function hm(t){var e=t.toString(16);return e.length==1?"0"+e:e}function BU(t,e,n){return"#"+hm(t)+hm(e)+hm(n)}function $U(t){if(!t)return[0,"0s"];if(typeof t=="number"&&(t=t.toString()),t=t.trim(),t=="inf"||t=="Inf"||t=="infinity"||t=="Infinity")return[2147483647,"Infinity"];if(t=="-inf"||t=="-Inf"||t=="-infinity"||t=="-Infinity")return[-2147483648,"-Infinity"];isNaN(t)||(t+="s");let e=t.match(/([+-]? *[0-9]+[.]?[0-9]*|[.][0-9]+)\s*d/gi),n=t.match(/([+-]? *[0-9]+[.]?[0-9]*|[.][0-9]+)\s*h/gi),r=t.match(/([+-]? *[0-9]+[.]?[0-9]*|[.][0-9]+)\s*m(?!s)/gi),i=t.match(/([+-]? *[0-9]+[.]?[0-9]*|[.][0-9]+)\s*s/gi),s=t.match(/([+-]? *[0-9]+[.]?[0-9]*|[.][0-9]+)\s*(t|ms)/gi),o="",l=0;for(_.verbose(e),_.verbose(n),_.verbose(r),_.verbose(i),_.verbose(s);e&&e.length;){let c=parseFloat(e[0].replace(/\s/,""));o+=c+"d ",l+=c*864e5,e.shift()}for(;n&&n.length;){let c=parseFloat(n[0].replace(/\s/,""));o+=c+"h ",l+=c*36e5,n.shift()}for(;r&&r.length;){let c=parseFloat(r[0].replace(/\s/,""));o+=c+"m ",l+=c*6e4,r.shift()}for(;i&&i.length;){let c=parseFloat(i[0].replace(/\s/,""));o+=c+"s ",l+=c*1e3,i.shift()}for(;s&&s.length;){let c=parseFloat(s[0].replace(/\s/,""));o+=c+"ms ",l+=c,s.shift()}return l>=2147483647?[2147483647,"Infinity"]:l<=-2147483648?[-2147483648,"-Infinity"]:o===""?[0,"0s"]:[l,o.trim()]}if(typeof window<"u"){window.validateTimestamp=$U,window.noSleep=Kv;var pm=document.createElement("script");pm.src="//cdn.jsdelivr.net/npm/eruda",pm.setAttribute("defer",!0),document.body.appendChild(pm),window.mapValue=Oa}function Sr(t){return Sr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sr(t)}function Vr(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jU(t,e){if(Sr(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Sr(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function DR(t){var e=jU(t,"string");return Sr(e)==="symbol"?e:String(e)}function QS(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,DR(r.key),r)}}function Wr(t,e,n){return e&&QS(t.prototype,e),n&&QS(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function as(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Yv(t,e){return Yv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Yv(t,e)}function jh(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Yv(t,e)}function lc(t,e){if(e&&(Sr(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return as(t)}function jr(t){return jr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},jr(t)}function Ts(t,e,n){return e=DR(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function VU(t){if(Array.isArray(t))return t}function WU(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function JS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function zU(t,e){if(t){if(typeof t=="string")return JS(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return JS(t,e)}}function GU(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function HU(t){return VU(t)||WU(t)||zU(t)||GU()}function XS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ZS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XS(Object(n),!0).forEach(function(r){Ts(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XS(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var KU={type:"logger",log:function(e){this.output("log",e)},warn:function(e){this.output("warn",e)},error:function(e){this.output("error",e)},output:function(e,n){console&&console[e]&&console[e].apply(console,n)}},qU=function(){function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Vr(this,t),this.init(e,n)}return Wr(t,[{key:"init",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=r.prefix||"i18next:",this.logger=n||KU,this.options=r,this.debug=r.debug}},{key:"setDebug",value:function(n){this.debug=n}},{key:"log",value:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return this.forward(r,"log","",!0)}},{key:"warn",value:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return this.forward(r,"warn","",!0)}},{key:"error",value:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return this.forward(r,"error","")}},{key:"deprecate",value:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return this.forward(r,"warn","WARNING DEPRECATED: ",!0)}},{key:"forward",value:function(n,r,i,s){return s&&!this.debug?null:(typeof n[0]=="string"&&(n[0]="".concat(i).concat(this.prefix," ").concat(n[0])),this.logger[r](n))}},{key:"create",value:function(n){return new t(this.logger,ZS(ZS({},{prefix:"".concat(this.prefix,":").concat(n,":")}),this.options))}},{key:"clone",value:function(n){return n=n||this.options,n.prefix=n.prefix||this.prefix,new t(this.logger,n)}}]),t}(),Lr=new qU,vs=function(){function t(){Vr(this,t),this.observers={}}return Wr(t,[{key:"on",value:function(n,r){var i=this;return n.split(" ").forEach(function(s){i.observers[s]=i.observers[s]||[],i.observers[s].push(r)}),this}},{key:"off",value:function(n,r){if(this.observers[n]){if(!r){delete this.observers[n];return}this.observers[n]=this.observers[n].filter(function(i){return i!==r})}}},{key:"emit",value:function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),s=1;s<r;s++)i[s-1]=arguments[s];if(this.observers[n]){var o=[].concat(this.observers[n]);o.forEach(function(c){c.apply(void 0,i)})}if(this.observers["*"]){var l=[].concat(this.observers["*"]);l.forEach(function(c){c.apply(c,[n].concat(i))})}}}]),t}();function Pl(){var t,e,n=new Promise(function(r,i){t=r,e=i});return n.resolve=t,n.reject=e,n}function eC(t){return t==null?"":""+t}function YU(t,e,n){t.forEach(function(r){e[r]&&(n[r]=e[r])})}function V_(t,e,n){function r(l){return l&&l.indexOf("###")>-1?l.replace(/###/g,"."):l}function i(){return!t||typeof t=="string"}for(var s=typeof e!="string"?[].concat(e):e.split(".");s.length>1;){if(i())return{};var o=r(s.shift());!t[o]&&n&&(t[o]=new n),Object.prototype.hasOwnProperty.call(t,o)?t=t[o]:t={}}return i()?{}:{obj:t,k:r(s.shift())}}function tC(t,e,n){var r=V_(t,e,Object),i=r.obj,s=r.k;i[s]=n}function QU(t,e,n,r){var i=V_(t,e,Object),s=i.obj,o=i.k;s[o]=s[o]||[],r&&(s[o]=s[o].concat(n)),r||s[o].push(n)}function $d(t,e){var n=V_(t,e),r=n.obj,i=n.k;if(r)return r[i]}function nC(t,e,n){var r=$d(t,n);return r!==void 0?r:$d(e,n)}function LR(t,e,n){for(var r in e)r!=="__proto__"&&r!=="constructor"&&(r in t?typeof t[r]=="string"||t[r]instanceof String||typeof e[r]=="string"||e[r]instanceof String?n&&(t[r]=e[r]):LR(t[r],e[r],n):t[r]=e[r]);return t}function Uo(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var JU={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function XU(t){return typeof t=="string"?t.replace(/[&<>"'\/]/g,function(e){return JU[e]}):t}var Vh=typeof window<"u"&&window.navigator&&typeof window.navigator.userAgentData>"u"&&window.navigator.userAgent&&window.navigator.userAgent.indexOf("MSIE")>-1,ZU=[" ",",","?","!",";"];function e6(t,e,n){e=e||"",n=n||"";var r=ZU.filter(function(l){return e.indexOf(l)<0&&n.indexOf(l)<0});if(r.length===0)return!0;var i=new RegExp("(".concat(r.map(function(l){return l==="?"?"\\?":l}).join("|"),")")),s=!i.test(t);if(!s){var o=t.indexOf(n);o>0&&!i.test(t.substring(0,o))&&(s=!0)}return s}function rC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Of(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rC(Object(n),!0).forEach(function(r){Ts(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function t6(t){var e=n6();return function(){var r=jr(t),i;if(e){var s=jr(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return lc(this,i)}}function n6(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function FR(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(t){if(t[e])return t[e];for(var r=e.split(n),i=t,s=0;s<r.length;++s){if(!i||typeof i[r[s]]=="string"&&s+1<r.length)return;if(i[r[s]]===void 0){for(var o=2,l=r.slice(s,s+o).join(n),c=i[l];c===void 0&&r.length>s+o;)o++,l=r.slice(s,s+o).join(n),c=i[l];if(c===void 0)return;if(c===null)return null;if(e.endsWith(l)){if(typeof c=="string")return c;if(l&&typeof c[l]=="string")return c[l]}var f=r.slice(s+o).join(n);return f?FR(c,f,n):void 0}i=i[r[s]]}return i}}var r6=function(t){jh(n,t);var e=t6(n);function n(r){var i,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};return Vr(this,n),i=e.call(this),Vh&&vs.call(as(i)),i.data=r||{},i.options=s,i.options.keySeparator===void 0&&(i.options.keySeparator="."),i.options.ignoreJSONStructure===void 0&&(i.options.ignoreJSONStructure=!0),i}return Wr(n,[{key:"addNamespaces",value:function(i){this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}},{key:"removeNamespaces",value:function(i){var s=this.options.ns.indexOf(i);s>-1&&this.options.ns.splice(s,1)}},{key:"getResource",value:function(i,s,o){var l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},c=l.keySeparator!==void 0?l.keySeparator:this.options.keySeparator,f=l.ignoreJSONStructure!==void 0?l.ignoreJSONStructure:this.options.ignoreJSONStructure,h=[i,s];o&&typeof o!="string"&&(h=h.concat(o)),o&&typeof o=="string"&&(h=h.concat(c?o.split(c):o)),i.indexOf(".")>-1&&(h=i.split("."));var p=$d(this.data,h);return p||!f||typeof o!="string"?p:FR(this.data&&this.data[i]&&this.data[i][s],o,c)}},{key:"addResource",value:function(i,s,o,l){var c=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1},f=this.options.keySeparator;f===void 0&&(f=".");var h=[i,s];o&&(h=h.concat(f?o.split(f):o)),i.indexOf(".")>-1&&(h=i.split("."),l=s,s=h[1]),this.addNamespaces(s),tC(this.data,h,l),c.silent||this.emit("added",i,s,o,l)}},{key:"addResources",value:function(i,s,o){var l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(var c in o)(typeof o[c]=="string"||Object.prototype.toString.apply(o[c])==="[object Array]")&&this.addResource(i,s,c,o[c],{silent:!0});l.silent||this.emit("added",i,s,o)}},{key:"addResourceBundle",value:function(i,s,o,l,c){var f=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1},h=[i,s];i.indexOf(".")>-1&&(h=i.split("."),l=o,o=s,s=h[1]),this.addNamespaces(s);var p=$d(this.data,h)||{};l?LR(p,o,c):p=Of(Of({},p),o),tC(this.data,h,p),f.silent||this.emit("added",i,s,o)}},{key:"removeResourceBundle",value:function(i,s){this.hasResourceBundle(i,s)&&delete this.data[i][s],this.removeNamespaces(s),this.emit("removed",i,s)}},{key:"hasResourceBundle",value:function(i,s){return this.getResource(i,s)!==void 0}},{key:"getResourceBundle",value:function(i,s){return s||(s=this.options.defaultNS),this.options.compatibilityAPI==="v1"?Of(Of({},{}),this.getResource(i,s)):this.getResource(i,s)}},{key:"getDataByLanguage",value:function(i){return this.data[i]}},{key:"hasLanguageSomeTranslations",value:function(i){var s=this.getDataByLanguage(i),o=s&&Object.keys(s)||[];return!!o.find(function(l){return s[l]&&Object.keys(s[l]).length>0})}},{key:"toJSON",value:function(){return this.data}}]),n}(vs),MR={processors:{},addPostProcessor:function(e){this.processors[e.name]=e},handle:function(e,n,r,i,s){var o=this;return e.forEach(function(l){o.processors[l]&&(n=o.processors[l].process(n,r,i,s))}),n}};function iC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Jt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iC(Object(n),!0).forEach(function(r){Ts(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function i6(t){var e=s6();return function(){var r=jr(t),i;if(e){var s=jr(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return lc(this,i)}}function s6(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var sC={},oC=function(t){jh(n,t);var e=i6(n);function n(r){var i,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Vr(this,n),i=e.call(this),Vh&&vs.call(as(i)),YU(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],r,as(i)),i.options=s,i.options.keySeparator===void 0&&(i.options.keySeparator="."),i.logger=Lr.create("translator"),i}return Wr(n,[{key:"changeLanguage",value:function(i){i&&(this.language=i)}},{key:"exists",value:function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(i==null)return!1;var o=this.resolve(i,s);return o&&o.res!==void 0}},{key:"extractFromKey",value:function(i,s){var o=s.nsSeparator!==void 0?s.nsSeparator:this.options.nsSeparator;o===void 0&&(o=":");var l=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,c=s.ns||this.options.defaultNS||[],f=o&&i.indexOf(o)>-1,h=!this.options.userDefinedKeySeparator&&!s.keySeparator&&!this.options.userDefinedNsSeparator&&!s.nsSeparator&&!e6(i,o,l);if(f&&!h){var p=i.match(this.interpolator.nestingRegexp);if(p&&p.length>0)return{key:i,namespaces:c};var g=i.split(o);(o!==l||o===l&&this.options.ns.indexOf(g[0])>-1)&&(c=g.shift()),i=g.join(l)}return typeof c=="string"&&(c=[c]),{key:i,namespaces:c}}},{key:"translate",value:function(i,s,o){var l=this;if(Sr(s)!=="object"&&this.options.overloadTranslationOptionHandler&&(s=this.options.overloadTranslationOptionHandler(arguments)),s||(s={}),i==null)return"";Array.isArray(i)||(i=[String(i)]);var c=s.returnDetails!==void 0?s.returnDetails:this.options.returnDetails,f=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,h=this.extractFromKey(i[i.length-1],s),p=h.key,g=h.namespaces,v=g[g.length-1],I=s.lng||this.language,T=s.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(I&&I.toLowerCase()==="cimode"){if(T){var R=s.nsSeparator||this.options.nsSeparator;return c?(w.res="".concat(v).concat(R).concat(p),w):"".concat(v).concat(R).concat(p)}return c?(w.res=p,w):p}var w=this.resolve(i,s),E=w&&w.res,b=w&&w.usedKey||p,O=w&&w.exactUsedKey||p,B=Object.prototype.toString.apply(E),q=["[object Number]","[object Function]","[object RegExp]"],V=s.joinArrays!==void 0?s.joinArrays:this.options.joinArrays,J=!this.i18nFormat||this.i18nFormat.handleAsObject,D=typeof E!="string"&&typeof E!="boolean"&&typeof E!="number";if(J&&E&&D&&q.indexOf(B)<0&&!(typeof V=="string"&&B==="[object Array]")){if(!s.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");var F=this.options.returnedObjectHandler?this.options.returnedObjectHandler(b,E,Jt(Jt({},s),{},{ns:g})):"key '".concat(p," (").concat(this.language,")' returned an object instead of string.");return c?(w.res=F,w):F}if(f){var Y=B==="[object Array]",X=Y?[]:{},le=Y?O:b;for(var Z in E)if(Object.prototype.hasOwnProperty.call(E,Z)){var fe="".concat(le).concat(f).concat(Z);X[Z]=this.translate(fe,Jt(Jt({},s),{joinArrays:!1,ns:g})),X[Z]===fe&&(X[Z]=E[Z])}E=X}}else if(J&&typeof V=="string"&&B==="[object Array]")E=E.join(V),E&&(E=this.extendTranslation(E,i,s,o));else{var ke=!1,ce=!1,z=s.count!==void 0&&typeof s.count!="string",ee=n.hasDefaultValue(s),se=z?this.pluralResolver.getSuffix(I,s.count,s):"",oe=s["defaultValue".concat(se)]||s.defaultValue;!this.isValidLookup(E)&&ee&&(ke=!0,E=oe),this.isValidLookup(E)||(ce=!0,E=p);var De=s.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey,Ot=De&&ce?void 0:E,mt=ee&&oe!==E&&this.options.updateMissing;if(ce||ke||mt){if(this.logger.log(mt?"updateKey":"missingKey",I,v,p,mt?oe:E),f){var Cn=this.resolve(p,Jt(Jt({},s),{},{keySeparator:!1}));Cn&&Cn.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}var bt=[],tr=this.languageUtils.getFallbackCodes(this.options.fallbackLng,s.lng||this.language);if(this.options.saveMissingTo==="fallback"&&tr&&tr[0])for(var Gr=0;Gr<tr.length;Gr++)bt.push(tr[Gr]);else this.options.saveMissingTo==="all"?bt=this.languageUtils.toResolveHierarchy(s.lng||this.language):bt.push(s.lng||this.language);var Ei=function(nr,Si,nl){var on=ee&&nl!==E?nl:Ot;l.options.missingKeyHandler?l.options.missingKeyHandler(nr,v,Si,on,mt,s):l.backendConnector&&l.backendConnector.saveMissing&&l.backendConnector.saveMissing(nr,v,Si,on,mt,s),l.emit("missingKey",nr,v,Si,E)};this.options.saveMissing&&(this.options.saveMissingPlurals&&z?bt.forEach(function(tl){l.pluralResolver.getSuffixes(tl,s).forEach(function(nr){Ei([tl],p+nr,s["defaultValue".concat(nr)]||oe)})}):Ei(bt,p,oe))}E=this.extendTranslation(E,i,s,w,o),ce&&E===p&&this.options.appendNamespaceToMissingKey&&(E="".concat(v,":").concat(p)),(ce||ke)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?E=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?"".concat(v,":").concat(p):p,ke?E:void 0):E=this.options.parseMissingKeyHandler(E))}return c?(w.res=E,w):E}},{key:"extendTranslation",value:function(i,s,o,l,c){var f=this;if(this.i18nFormat&&this.i18nFormat.parse)i=this.i18nFormat.parse(i,Jt(Jt({},this.options.interpolation.defaultVariables),o),l.usedLng,l.usedNS,l.usedKey,{resolved:l});else if(!o.skipInterpolation){o.interpolation&&this.interpolator.init(Jt(Jt({},o),{interpolation:Jt(Jt({},this.options.interpolation),o.interpolation)}));var h=typeof i=="string"&&(o&&o.interpolation&&o.interpolation.skipOnVariables!==void 0?o.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables),p;if(h){var g=i.match(this.interpolator.nestingRegexp);p=g&&g.length}var v=o.replace&&typeof o.replace!="string"?o.replace:o;if(this.options.interpolation.defaultVariables&&(v=Jt(Jt({},this.options.interpolation.defaultVariables),v)),i=this.interpolator.interpolate(i,v,o.lng||this.language,o),h){var I=i.match(this.interpolator.nestingRegexp),T=I&&I.length;p<T&&(o.nest=!1)}o.nest!==!1&&(i=this.interpolator.nest(i,function(){for(var E=arguments.length,b=new Array(E),O=0;O<E;O++)b[O]=arguments[O];return c&&c[0]===b[0]&&!o.context?(f.logger.warn("It seems you are nesting recursively key: ".concat(b[0]," in key: ").concat(s[0])),null):f.translate.apply(f,b.concat([s]))},o)),o.interpolation&&this.interpolator.reset()}var R=o.postProcess||this.options.postProcess,w=typeof R=="string"?[R]:R;return i!=null&&w&&w.length&&o.applyPostProcessor!==!1&&(i=MR.handle(w,i,s,this.options&&this.options.postProcessPassResolved?Jt({i18nResolved:l},o):o,this)),i}},{key:"resolve",value:function(i){var s=this,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},l,c,f,h,p;return typeof i=="string"&&(i=[i]),i.forEach(function(g){if(!s.isValidLookup(l)){var v=s.extractFromKey(g,o),I=v.key;c=I;var T=v.namespaces;s.options.fallbackNS&&(T=T.concat(s.options.fallbackNS));var R=o.count!==void 0&&typeof o.count!="string",w=R&&!o.ordinal&&o.count===0&&s.pluralResolver.shouldUseIntlApi(),E=o.context!==void 0&&(typeof o.context=="string"||typeof o.context=="number")&&o.context!=="",b=o.lngs?o.lngs:s.languageUtils.toResolveHierarchy(o.lng||s.language,o.fallbackLng);T.forEach(function(O){s.isValidLookup(l)||(p=O,!sC["".concat(b[0],"-").concat(O)]&&s.utils&&s.utils.hasLoadedNamespace&&!s.utils.hasLoadedNamespace(p)&&(sC["".concat(b[0],"-").concat(O)]=!0,s.logger.warn('key "'.concat(c,'" for languages "').concat(b.join(", "),`" won't get resolved as namespace "`).concat(p,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),b.forEach(function(B){if(!s.isValidLookup(l)){h=B;var q=[I];if(s.i18nFormat&&s.i18nFormat.addLookupKeys)s.i18nFormat.addLookupKeys(q,I,B,O,o);else{var V;R&&(V=s.pluralResolver.getSuffix(B,o.count,o));var J="".concat(s.options.pluralSeparator,"zero");if(R&&(q.push(I+V),w&&q.push(I+J)),E){var D="".concat(I).concat(s.options.contextSeparator).concat(o.context);q.push(D),R&&(q.push(D+V),w&&q.push(D+J))}}for(var F;F=q.pop();)s.isValidLookup(l)||(f=F,l=s.getResource(B,O,F,o))}}))})}}),{res:l,usedKey:c,exactUsedKey:f,usedLng:h,usedNS:p}}},{key:"isValidLookup",value:function(i){return i!==void 0&&!(!this.options.returnNull&&i===null)&&!(!this.options.returnEmptyString&&i==="")}},{key:"getResource",value:function(i,s,o){var l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(i,s,o,l):this.resourceStore.getResource(i,s,o,l)}}],[{key:"hasDefaultValue",value:function(i){var s="defaultValue";for(var o in i)if(Object.prototype.hasOwnProperty.call(i,o)&&s===o.substring(0,s.length)&&i[o]!==void 0)return!0;return!1}}]),n}(vs);function gm(t){return t.charAt(0).toUpperCase()+t.slice(1)}var aC=function(){function t(e){Vr(this,t),this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Lr.create("languageUtils")}return Wr(t,[{key:"getScriptPartFromCode",value:function(n){if(!n||n.indexOf("-")<0)return null;var r=n.split("-");return r.length===2||(r.pop(),r[r.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(r.join("-"))}},{key:"getLanguagePartFromCode",value:function(n){if(!n||n.indexOf("-")<0)return n;var r=n.split("-");return this.formatLanguageCode(r[0])}},{key:"formatLanguageCode",value:function(n){if(typeof n=="string"&&n.indexOf("-")>-1){var r=["hans","hant","latn","cyrl","cans","mong","arab"],i=n.split("-");return this.options.lowerCaseLng?i=i.map(function(s){return s.toLowerCase()}):i.length===2?(i[0]=i[0].toLowerCase(),i[1]=i[1].toUpperCase(),r.indexOf(i[1].toLowerCase())>-1&&(i[1]=gm(i[1].toLowerCase()))):i.length===3&&(i[0]=i[0].toLowerCase(),i[1].length===2&&(i[1]=i[1].toUpperCase()),i[0]!=="sgn"&&i[2].length===2&&(i[2]=i[2].toUpperCase()),r.indexOf(i[1].toLowerCase())>-1&&(i[1]=gm(i[1].toLowerCase())),r.indexOf(i[2].toLowerCase())>-1&&(i[2]=gm(i[2].toLowerCase()))),i.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?n.toLowerCase():n}},{key:"isSupportedCode",value:function(n){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(n=this.getLanguagePartFromCode(n)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(n)>-1}},{key:"getBestMatchFromCodes",value:function(n){var r=this;if(!n)return null;var i;return n.forEach(function(s){if(!i){var o=r.formatLanguageCode(s);(!r.options.supportedLngs||r.isSupportedCode(o))&&(i=o)}}),!i&&this.options.supportedLngs&&n.forEach(function(s){if(!i){var o=r.getLanguagePartFromCode(s);if(r.isSupportedCode(o))return i=o;i=r.options.supportedLngs.find(function(l){if(l.indexOf(o)===0)return l})}}),i||(i=this.getFallbackCodes(this.options.fallbackLng)[0]),i}},{key:"getFallbackCodes",value:function(n,r){if(!n)return[];if(typeof n=="function"&&(n=n(r)),typeof n=="string"&&(n=[n]),Object.prototype.toString.apply(n)==="[object Array]")return n;if(!r)return n.default||[];var i=n[r];return i||(i=n[this.getScriptPartFromCode(r)]),i||(i=n[this.formatLanguageCode(r)]),i||(i=n[this.getLanguagePartFromCode(r)]),i||(i=n.default),i||[]}},{key:"toResolveHierarchy",value:function(n,r){var i=this,s=this.getFallbackCodes(r||this.options.fallbackLng||[],n),o=[],l=function(f){f&&(i.isSupportedCode(f)?o.push(f):i.logger.warn("rejecting language code not found in supportedLngs: ".concat(f)))};return typeof n=="string"&&n.indexOf("-")>-1?(this.options.load!=="languageOnly"&&l(this.formatLanguageCode(n)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&l(this.getScriptPartFromCode(n)),this.options.load!=="currentOnly"&&l(this.getLanguagePartFromCode(n))):typeof n=="string"&&l(this.formatLanguageCode(n)),s.forEach(function(c){o.indexOf(c)<0&&l(i.formatLanguageCode(c))}),o}}]),t}(),o6=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],a6={1:function(e){return Number(e>1)},2:function(e){return Number(e!=1)},3:function(e){return 0},4:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},5:function(e){return Number(e==0?0:e==1?1:e==2?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5)},6:function(e){return Number(e==1?0:e>=2&&e<=4?1:2)},7:function(e){return Number(e==1?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2)},8:function(e){return Number(e==1?0:e==2?1:e!=8&&e!=11?2:3)},9:function(e){return Number(e>=2)},10:function(e){return Number(e==1?0:e==2?1:e<7?2:e<11?3:4)},11:function(e){return Number(e==1||e==11?0:e==2||e==12?1:e>2&&e<20?2:3)},12:function(e){return Number(e%10!=1||e%100==11)},13:function(e){return Number(e!==0)},14:function(e){return Number(e==1?0:e==2?1:e==3?2:3)},15:function(e){return Number(e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2)},16:function(e){return Number(e%10==1&&e%100!=11?0:e!==0?1:2)},17:function(e){return Number(e==1||e%10==1&&e%100!=11?0:1)},18:function(e){return Number(e==0?0:e==1?1:2)},19:function(e){return Number(e==1?0:e==0||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3)},20:function(e){return Number(e==1?0:e==0||e%100>0&&e%100<20?1:2)},21:function(e){return Number(e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0)},22:function(e){return Number(e==1?0:e==2?1:(e<0||e>10)&&e%10==0?2:3)}},l6=["v1","v2","v3"],lC={zero:0,one:1,two:2,few:3,many:4,other:5};function u6(){var t={};return o6.forEach(function(e){e.lngs.forEach(function(n){t[n]={numbers:e.nr,plurals:a6[e.fc]}})}),t}var c6=function(){function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Vr(this,t),this.languageUtils=e,this.options=n,this.logger=Lr.create("pluralResolver"),(!this.options.compatibilityJSON||this.options.compatibilityJSON==="v4")&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=u6()}return Wr(t,[{key:"addRule",value:function(n,r){this.rules[n]=r}},{key:"getRule",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi())try{return new Intl.PluralRules(n,{type:r.ordinal?"ordinal":"cardinal"})}catch{return}return this.rules[n]||this.rules[this.languageUtils.getLanguagePartFromCode(n)]}},{key:"needsPlural",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=this.getRule(n,r);return this.shouldUseIntlApi()?i&&i.resolvedOptions().pluralCategories.length>1:i&&i.numbers.length>1}},{key:"getPluralFormsOfKey",value:function(n,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(n,i).map(function(s){return"".concat(r).concat(s)})}},{key:"getSuffixes",value:function(n){var r=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=this.getRule(n,i);return s?this.shouldUseIntlApi()?s.resolvedOptions().pluralCategories.sort(function(o,l){return lC[o]-lC[l]}).map(function(o){return"".concat(r.options.prepend).concat(o)}):s.numbers.map(function(o){return r.getSuffix(n,o,i)}):[]}},{key:"getSuffix",value:function(n,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=this.getRule(n,i);return s?this.shouldUseIntlApi()?"".concat(this.options.prepend).concat(s.select(r)):this.getSuffixRetroCompatible(s,r):(this.logger.warn("no plural rule found for: ".concat(n)),"")}},{key:"getSuffixRetroCompatible",value:function(n,r){var i=this,s=n.noAbs?n.plurals(r):n.plurals(Math.abs(r)),o=n.numbers[s];this.options.simplifyPluralSuffix&&n.numbers.length===2&&n.numbers[0]===1&&(o===2?o="plural":o===1&&(o=""));var l=function(){return i.options.prepend&&o.toString()?i.options.prepend+o.toString():o.toString()};return this.options.compatibilityJSON==="v1"?o===1?"":typeof o=="number"?"_plural_".concat(o.toString()):l():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&n.numbers.length===2&&n.numbers[0]===1?l():this.options.prepend&&s.toString()?this.options.prepend+s.toString():s.toString()}},{key:"shouldUseIntlApi",value:function(){return!l6.includes(this.options.compatibilityJSON)}}]),t}();function uC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ur(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uC(Object(n),!0).forEach(function(r){Ts(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}var f6=function(){function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Vr(this,t),this.logger=Lr.create("interpolator"),this.options=e,this.format=e.interpolation&&e.interpolation.format||function(n){return n},this.init(e)}return Wr(t,[{key:"init",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};n.interpolation||(n.interpolation={escapeValue:!0});var r=n.interpolation;this.escape=r.escape!==void 0?r.escape:XU,this.escapeValue=r.escapeValue!==void 0?r.escapeValue:!0,this.useRawValueToEscape=r.useRawValueToEscape!==void 0?r.useRawValueToEscape:!1,this.prefix=r.prefix?Uo(r.prefix):r.prefixEscaped||"{{",this.suffix=r.suffix?Uo(r.suffix):r.suffixEscaped||"}}",this.formatSeparator=r.formatSeparator?r.formatSeparator:r.formatSeparator||",",this.unescapePrefix=r.unescapeSuffix?"":r.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":r.unescapeSuffix||"",this.nestingPrefix=r.nestingPrefix?Uo(r.nestingPrefix):r.nestingPrefixEscaped||Uo("$t("),this.nestingSuffix=r.nestingSuffix?Uo(r.nestingSuffix):r.nestingSuffixEscaped||Uo(")"),this.nestingOptionsSeparator=r.nestingOptionsSeparator?r.nestingOptionsSeparator:r.nestingOptionsSeparator||",",this.maxReplaces=r.maxReplaces?r.maxReplaces:1e3,this.alwaysFormat=r.alwaysFormat!==void 0?r.alwaysFormat:!1,this.resetRegExp()}},{key:"reset",value:function(){this.options&&this.init(this.options)}},{key:"resetRegExp",value:function(){var n="".concat(this.prefix,"(.+?)").concat(this.suffix);this.regexp=new RegExp(n,"g");var r="".concat(this.prefix).concat(this.unescapePrefix,"(.+?)").concat(this.unescapeSuffix).concat(this.suffix);this.regexpUnescape=new RegExp(r,"g");var i="".concat(this.nestingPrefix,"(.+?)").concat(this.nestingSuffix);this.nestingRegexp=new RegExp(i,"g")}},{key:"interpolate",value:function(n,r,i,s){var o=this,l,c,f,h=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function p(R){return R.replace(/\$/g,"$$$$")}var g=function(w){if(w.indexOf(o.formatSeparator)<0){var E=nC(r,h,w);return o.alwaysFormat?o.format(E,void 0,i,ur(ur(ur({},s),r),{},{interpolationkey:w})):E}var b=w.split(o.formatSeparator),O=b.shift().trim(),B=b.join(o.formatSeparator).trim();return o.format(nC(r,h,O),B,i,ur(ur(ur({},s),r),{},{interpolationkey:O}))};this.resetRegExp();var v=s&&s.missingInterpolationHandler||this.options.missingInterpolationHandler,I=s&&s.interpolation&&s.interpolation.skipOnVariables!==void 0?s.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables,T=[{regex:this.regexpUnescape,safeValue:function(w){return p(w)}},{regex:this.regexp,safeValue:function(w){return o.escapeValue?p(o.escape(w)):p(w)}}];return T.forEach(function(R){for(f=0;l=R.regex.exec(n);){var w=l[1].trim();if(c=g(w),c===void 0)if(typeof v=="function"){var E=v(n,l,s);c=typeof E=="string"?E:""}else if(s&&s.hasOwnProperty(w))c="";else if(I){c=l[0];continue}else o.logger.warn("missed to pass in variable ".concat(w," for interpolating ").concat(n)),c="";else typeof c!="string"&&!o.useRawValueToEscape&&(c=eC(c));var b=R.safeValue(c);if(n=n.replace(l[0],b),I?(R.regex.lastIndex+=c.length,R.regex.lastIndex-=l[0].length):R.regex.lastIndex=0,f++,f>=o.maxReplaces)break}}),n}},{key:"nest",value:function(n,r){var i=this,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o,l,c;function f(v,I){var T=this.nestingOptionsSeparator;if(v.indexOf(T)<0)return v;var R=v.split(new RegExp("".concat(T,"[ ]*{"))),w="{".concat(R[1]);v=R[0],w=this.interpolate(w,c);var E=w.match(/'/g),b=w.match(/"/g);(E&&E.length%2===0&&!b||b.length%2!==0)&&(w=w.replace(/'/g,'"'));try{c=JSON.parse(w),I&&(c=ur(ur({},I),c))}catch(O){return this.logger.warn("failed parsing options string in nesting for key ".concat(v),O),"".concat(v).concat(T).concat(w)}return delete c.defaultValue,v}for(;o=this.nestingRegexp.exec(n);){var h=[];c=ur({},s),c=c.replace&&typeof c.replace!="string"?c.replace:c,c.applyPostProcessor=!1,delete c.defaultValue;var p=!1;if(o[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(o[1])){var g=o[1].split(this.formatSeparator).map(function(v){return v.trim()});o[1]=g.shift(),h=g,p=!0}if(l=r(f.call(this,o[1].trim(),c),c),l&&o[0]===n&&typeof l!="string")return l;typeof l!="string"&&(l=eC(l)),l||(this.logger.warn("missed to resolve ".concat(o[1]," for nesting ").concat(n)),l=""),p&&(l=h.reduce(function(v,I){return i.format(v,I,s.lng,ur(ur({},s),{},{interpolationkey:o[1].trim()}))},l.trim())),n=n.replace(o[0],l),this.regexp.lastIndex=0}return n}}]),t}();function cC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Pi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cC(Object(n),!0).forEach(function(r){Ts(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function d6(t){var e=t.toLowerCase().trim(),n={};if(t.indexOf("(")>-1){var r=t.split("(");e=r[0].toLowerCase().trim();var i=r[1].substring(0,r[1].length-1);if(e==="currency"&&i.indexOf(":")<0)n.currency||(n.currency=i.trim());else if(e==="relativetime"&&i.indexOf(":")<0)n.range||(n.range=i.trim());else{var s=i.split(";");s.forEach(function(o){if(o){var l=o.split(":"),c=HU(l),f=c[0],h=c.slice(1),p=h.join(":").trim().replace(/^'+|'+$/g,"");n[f.trim()]||(n[f.trim()]=p),p==="false"&&(n[f.trim()]=!1),p==="true"&&(n[f.trim()]=!0),isNaN(p)||(n[f.trim()]=parseInt(p,10))}})}}return{formatName:e,formatOptions:n}}function Bo(t){var e={};return function(r,i,s){var o=i+JSON.stringify(s),l=e[o];return l||(l=t(i,s),e[o]=l),l(r)}}var h6=function(){function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Vr(this,t),this.logger=Lr.create("formatter"),this.options=e,this.formats={number:Bo(function(n,r){var i=new Intl.NumberFormat(n,r);return function(s){return i.format(s)}}),currency:Bo(function(n,r){var i=new Intl.NumberFormat(n,Pi(Pi({},r),{},{style:"currency"}));return function(s){return i.format(s)}}),datetime:Bo(function(n,r){var i=new Intl.DateTimeFormat(n,Pi({},r));return function(s){return i.format(s)}}),relativetime:Bo(function(n,r){var i=new Intl.RelativeTimeFormat(n,Pi({},r));return function(s){return i.format(s,r.range||"day")}}),list:Bo(function(n,r){var i=new Intl.ListFormat(n,Pi({},r));return function(s){return i.format(s)}})},this.init(e)}return Wr(t,[{key:"init",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}},i=r.interpolation;this.formatSeparator=i.formatSeparator?i.formatSeparator:i.formatSeparator||","}},{key:"add",value:function(n,r){this.formats[n.toLowerCase().trim()]=r}},{key:"addCached",value:function(n,r){this.formats[n.toLowerCase().trim()]=Bo(r)}},{key:"format",value:function(n,r,i,s){var o=this,l=r.split(this.formatSeparator),c=l.reduce(function(f,h){var p=d6(h),g=p.formatName,v=p.formatOptions;if(o.formats[g]){var I=f;try{var T=s&&s.formatParams&&s.formatParams[s.interpolationkey]||{},R=T.locale||T.lng||s.locale||s.lng||i;I=o.formats[g](f,R,Pi(Pi(Pi({},v),s),T))}catch(w){o.logger.warn(w)}return I}else o.logger.warn("there was no format function for ".concat(g));return f},n);return c}}]),t}();function fC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fC(Object(n),!0).forEach(function(r){Ts(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function p6(t){var e=g6();return function(){var r=jr(t),i;if(e){var s=jr(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return lc(this,i)}}function g6(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function m6(t,e){t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)}var v6=function(t){jh(n,t);var e=p6(n);function n(r,i,s){var o,l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return Vr(this,n),o=e.call(this),Vh&&vs.call(as(o)),o.backend=r,o.store=i,o.services=s,o.languageUtils=s.languageUtils,o.options=l,o.logger=Lr.create("backendConnector"),o.waitingReads=[],o.maxParallelReads=l.maxParallelReads||10,o.readingCalls=0,o.maxRetries=l.maxRetries>=0?l.maxRetries:5,o.retryTimeout=l.retryTimeout>=1?l.retryTimeout:350,o.state={},o.queue=[],o.backend&&o.backend.init&&o.backend.init(s,l.backend,l),o}return Wr(n,[{key:"queueLoad",value:function(i,s,o,l){var c=this,f={},h={},p={},g={};return i.forEach(function(v){var I=!0;s.forEach(function(T){var R="".concat(v,"|").concat(T);!o.reload&&c.store.hasResourceBundle(v,T)?c.state[R]=2:c.state[R]<0||(c.state[R]===1?h[R]===void 0&&(h[R]=!0):(c.state[R]=1,I=!1,h[R]===void 0&&(h[R]=!0),f[R]===void 0&&(f[R]=!0),g[T]===void 0&&(g[T]=!0)))}),I||(p[v]=!0)}),(Object.keys(f).length||Object.keys(h).length)&&this.queue.push({pending:h,pendingCount:Object.keys(h).length,loaded:{},errors:[],callback:l}),{toLoad:Object.keys(f),pending:Object.keys(h),toLoadLanguages:Object.keys(p),toLoadNamespaces:Object.keys(g)}}},{key:"loaded",value:function(i,s,o){var l=i.split("|"),c=l[0],f=l[1];s&&this.emit("failedLoading",c,f,s),o&&this.store.addResourceBundle(c,f,o),this.state[i]=s?-1:2;var h={};this.queue.forEach(function(p){QU(p.loaded,[c],f),m6(p,i),s&&p.errors.push(s),p.pendingCount===0&&!p.done&&(Object.keys(p.loaded).forEach(function(g){h[g]||(h[g]={});var v=p.loaded[g];v.length&&v.forEach(function(I){h[g][I]===void 0&&(h[g][I]=!0)})}),p.done=!0,p.errors.length?p.callback(p.errors):p.callback())}),this.emit("loaded",h),this.queue=this.queue.filter(function(p){return!p.done})}},{key:"read",value:function(i,s,o){var l=this,c=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,f=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,h=arguments.length>5?arguments[5]:void 0;if(!i.length)return h(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:i,ns:s,fcName:o,tried:c,wait:f,callback:h});return}this.readingCalls++;var p=function(T,R){if(l.readingCalls--,l.waitingReads.length>0){var w=l.waitingReads.shift();l.read(w.lng,w.ns,w.fcName,w.tried,w.wait,w.callback)}if(T&&R&&c<l.maxRetries){setTimeout(function(){l.read.call(l,i,s,o,c+1,f*2,h)},f);return}h(T,R)},g=this.backend[o].bind(this.backend);if(g.length===2){try{var v=g(i,s);v&&typeof v.then=="function"?v.then(function(I){return p(null,I)}).catch(p):p(null,v)}catch(I){p(I)}return}return g(i,s,p)}},{key:"prepareLoading",value:function(i,s){var o=this,l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},c=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),c&&c();typeof i=="string"&&(i=this.languageUtils.toResolveHierarchy(i)),typeof s=="string"&&(s=[s]);var f=this.queueLoad(i,s,l,c);if(!f.toLoad.length)return f.pending.length||c(),null;f.toLoad.forEach(function(h){o.loadOne(h)})}},{key:"load",value:function(i,s,o){this.prepareLoading(i,s,{},o)}},{key:"reload",value:function(i,s,o){this.prepareLoading(i,s,{reload:!0},o)}},{key:"loadOne",value:function(i){var s=this,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",l=i.split("|"),c=l[0],f=l[1];this.read(c,f,"read",void 0,void 0,function(h,p){h&&s.logger.warn("".concat(o,"loading namespace ").concat(f," for language ").concat(c," failed"),h),!h&&p&&s.logger.log("".concat(o,"loaded namespace ").concat(f," for language ").concat(c),p),s.loaded(i,h,p)})}},{key:"saveMissing",value:function(i,s,o,l,c){var f=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},h=arguments.length>6&&arguments[6]!==void 0?arguments[6]:function(){};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(s)){this.logger.warn('did not save key "'.concat(o,'" as the namespace "').concat(s,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(o==null||o==="")){if(this.backend&&this.backend.create){var p=dC(dC({},f),{},{isUpdate:c}),g=this.backend.create.bind(this.backend);if(g.length<6)try{var v;g.length===5?v=g(i,s,o,l,p):v=g(i,s,o,l),v&&typeof v.then=="function"?v.then(function(I){return h(null,I)}).catch(h):h(null,v)}catch(I){h(I)}else g(i,s,o,l,h,p)}!i||!i[0]||this.store.addResource(i[0],s,o,l)}}}]),n}(vs);function hC(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!0,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(e){var n={};if(Sr(e[1])==="object"&&(n=e[1]),typeof e[1]=="string"&&(n.defaultValue=e[1]),typeof e[2]=="string"&&(n.tDescription=e[2]),Sr(e[2])==="object"||Sr(e[3])==="object"){var r=e[3]||e[2];Object.keys(r).forEach(function(i){n[i]=r[i]})}return n},interpolation:{escapeValue:!0,format:function(e,n,r,i){return e},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}}function pC(t){return typeof t.ns=="string"&&(t.ns=[t.ns]),typeof t.fallbackLng=="string"&&(t.fallbackLng=[t.fallbackLng]),typeof t.fallbackNS=="string"&&(t.fallbackNS=[t.fallbackNS]),t.supportedLngs&&t.supportedLngs.indexOf("cimode")<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),t}function gC(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gC(Object(n),!0).forEach(function(r){Ts(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gC(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _6(t){var e=y6();return function(){var r=jr(t),i;if(e){var s=jr(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return lc(this,i)}}function y6(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Nf(){}function w6(t){var e=Object.getOwnPropertyNames(Object.getPrototypeOf(t));e.forEach(function(n){typeof t[n]=="function"&&(t[n]=t[n].bind(t))})}var jd=function(t){jh(n,t);var e=_6(n);function n(){var r,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=arguments.length>1?arguments[1]:void 0;if(Vr(this,n),r=e.call(this),Vh&&vs.call(as(r)),r.options=pC(i),r.services={},r.logger=Lr,r.modules={external:[]},w6(as(r)),s&&!r.isInitialized&&!i.isClone){if(!r.options.initImmediate)return r.init(i,s),lc(r,as(r));setTimeout(function(){r.init(i,s)},0)}return r}return Wr(n,[{key:"init",value:function(){var i=this,s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=arguments.length>1?arguments[1]:void 0;typeof s=="function"&&(o=s,s={}),!s.defaultNS&&s.defaultNS!==!1&&s.ns&&(typeof s.ns=="string"?s.defaultNS=s.ns:s.ns.indexOf("translation")<0&&(s.defaultNS=s.ns[0]));var l=hC();this.options=xr(xr(xr({},l),this.options),pC(s)),this.options.compatibilityAPI!=="v1"&&(this.options.interpolation=xr(xr({},l.interpolation),this.options.interpolation)),s.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=s.keySeparator),s.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=s.nsSeparator);function c(w){return w?typeof w=="function"?new w:w:null}if(!this.options.isClone){this.modules.logger?Lr.init(c(this.modules.logger),this.options):Lr.init(null,this.options);var f;this.modules.formatter?f=this.modules.formatter:typeof Intl<"u"&&(f=h6);var h=new aC(this.options);this.store=new r6(this.options.resources,this.options);var p=this.services;p.logger=Lr,p.resourceStore=this.store,p.languageUtils=h,p.pluralResolver=new c6(h,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),f&&(!this.options.interpolation.format||this.options.interpolation.format===l.interpolation.format)&&(p.formatter=c(f),p.formatter.init(p,this.options),this.options.interpolation.format=p.formatter.format.bind(p.formatter)),p.interpolator=new f6(this.options),p.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},p.backendConnector=new v6(c(this.modules.backend),p.resourceStore,p,this.options),p.backendConnector.on("*",function(w){for(var E=arguments.length,b=new Array(E>1?E-1:0),O=1;O<E;O++)b[O-1]=arguments[O];i.emit.apply(i,[w].concat(b))}),this.modules.languageDetector&&(p.languageDetector=c(this.modules.languageDetector),p.languageDetector.init&&p.languageDetector.init(p,this.options.detection,this.options)),this.modules.i18nFormat&&(p.i18nFormat=c(this.modules.i18nFormat),p.i18nFormat.init&&p.i18nFormat.init(this)),this.translator=new oC(this.services,this.options),this.translator.on("*",function(w){for(var E=arguments.length,b=new Array(E>1?E-1:0),O=1;O<E;O++)b[O-1]=arguments[O];i.emit.apply(i,[w].concat(b))}),this.modules.external.forEach(function(w){w.init&&w.init(i)})}if(this.format=this.options.interpolation.format,o||(o=Nf),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){var g=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);g.length>0&&g[0]!=="dev"&&(this.options.lng=g[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined");var v=["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"];v.forEach(function(w){i[w]=function(){var E;return(E=i.store)[w].apply(E,arguments)}});var I=["addResource","addResources","addResourceBundle","removeResourceBundle"];I.forEach(function(w){i[w]=function(){var E;return(E=i.store)[w].apply(E,arguments),i}});var T=Pl(),R=function(){var E=function(O,B){i.isInitialized&&!i.initializedStoreOnce&&i.logger.warn("init: i18next is already initialized. You should call init just once!"),i.isInitialized=!0,i.options.isClone||i.logger.log("initialized",i.options),i.emit("initialized",i.options),T.resolve(B),o(O,B)};if(i.languages&&i.options.compatibilityAPI!=="v1"&&!i.isInitialized)return E(null,i.t.bind(i));i.changeLanguage(i.options.lng,E)};return this.options.resources||!this.options.initImmediate?R():setTimeout(R,0),T}},{key:"loadResources",value:function(i){var s=this,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Nf,l=o,c=typeof i=="string"?i:this.language;if(typeof i=="function"&&(l=i),!this.options.resources||this.options.partialBundledLanguages){if(c&&c.toLowerCase()==="cimode")return l();var f=[],h=function(v){if(v){var I=s.services.languageUtils.toResolveHierarchy(v);I.forEach(function(T){f.indexOf(T)<0&&f.push(T)})}};if(c)h(c);else{var p=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);p.forEach(function(g){return h(g)})}this.options.preload&&this.options.preload.forEach(function(g){return h(g)}),this.services.backendConnector.load(f,this.options.ns,function(g){!g&&!s.resolvedLanguage&&s.language&&s.setResolvedLanguage(s.language),l(g)})}else l(null)}},{key:"reloadResources",value:function(i,s,o){var l=Pl();return i||(i=this.languages),s||(s=this.options.ns),o||(o=Nf),this.services.backendConnector.reload(i,s,function(c){l.resolve(),o(c)}),l}},{key:"use",value:function(i){if(!i)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!i.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return i.type==="backend"&&(this.modules.backend=i),(i.type==="logger"||i.log&&i.warn&&i.error)&&(this.modules.logger=i),i.type==="languageDetector"&&(this.modules.languageDetector=i),i.type==="i18nFormat"&&(this.modules.i18nFormat=i),i.type==="postProcessor"&&MR.addPostProcessor(i),i.type==="formatter"&&(this.modules.formatter=i),i.type==="3rdParty"&&this.modules.external.push(i),this}},{key:"setResolvedLanguage",value:function(i){if(!(!i||!this.languages)&&!(["cimode","dev"].indexOf(i)>-1))for(var s=0;s<this.languages.length;s++){var o=this.languages[s];if(!(["cimode","dev"].indexOf(o)>-1)&&this.store.hasLanguageSomeTranslations(o)){this.resolvedLanguage=o;break}}}},{key:"changeLanguage",value:function(i,s){var o=this;this.isLanguageChangingTo=i;var l=Pl();this.emit("languageChanging",i);var c=function(g){o.language=g,o.languages=o.services.languageUtils.toResolveHierarchy(g),o.resolvedLanguage=void 0,o.setResolvedLanguage(g)},f=function(g,v){v?(c(v),o.translator.changeLanguage(v),o.isLanguageChangingTo=void 0,o.emit("languageChanged",v),o.logger.log("languageChanged",v)):o.isLanguageChangingTo=void 0,l.resolve(function(){return o.t.apply(o,arguments)}),s&&s(g,function(){return o.t.apply(o,arguments)})},h=function(g){!i&&!g&&o.services.languageDetector&&(g=[]);var v=typeof g=="string"?g:o.services.languageUtils.getBestMatchFromCodes(g);v&&(o.language||c(v),o.translator.language||o.translator.changeLanguage(v),o.services.languageDetector&&o.services.languageDetector.cacheUserLanguage&&o.services.languageDetector.cacheUserLanguage(v)),o.loadResources(v,function(I){f(I,v)})};return!i&&this.services.languageDetector&&!this.services.languageDetector.async?h(this.services.languageDetector.detect()):!i&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(h):this.services.languageDetector.detect(h):h(i),l}},{key:"getFixedT",value:function(i,s,o){var l=this,c=function f(h,p){var g;if(Sr(p)!=="object"){for(var v=arguments.length,I=new Array(v>2?v-2:0),T=2;T<v;T++)I[T-2]=arguments[T];g=l.options.overloadTranslationOptionHandler([h,p].concat(I))}else g=xr({},p);g.lng=g.lng||f.lng,g.lngs=g.lngs||f.lngs,g.ns=g.ns||f.ns,g.keyPrefix=g.keyPrefix||o||f.keyPrefix;var R=l.options.keySeparator||".",w;return g.keyPrefix&&Array.isArray(h)?w=h.map(function(E){return"".concat(g.keyPrefix).concat(R).concat(E)}):w=g.keyPrefix?"".concat(g.keyPrefix).concat(R).concat(h):h,l.t(w,g)};return typeof i=="string"?c.lng=i:c.lngs=i,c.ns=s,c.keyPrefix=o,c}},{key:"t",value:function(){var i;return this.translator&&(i=this.translator).translate.apply(i,arguments)}},{key:"exists",value:function(){var i;return this.translator&&(i=this.translator).exists.apply(i,arguments)}},{key:"setDefaultNamespace",value:function(i){this.options.defaultNS=i}},{key:"hasLoadedNamespace",value:function(i){var s=this,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;var l=this.resolvedLanguage||this.languages[0],c=this.options?this.options.fallbackLng:!1,f=this.languages[this.languages.length-1];if(l.toLowerCase()==="cimode")return!0;var h=function(v,I){var T=s.services.backendConnector.state["".concat(v,"|").concat(I)];return T===-1||T===2};if(o.precheck){var p=o.precheck(this,h);if(p!==void 0)return p}return!!(this.hasResourceBundle(l,i)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||h(l,i)&&(!c||h(f,i)))}},{key:"loadNamespaces",value:function(i,s){var o=this,l=Pl();return this.options.ns?(typeof i=="string"&&(i=[i]),i.forEach(function(c){o.options.ns.indexOf(c)<0&&o.options.ns.push(c)}),this.loadResources(function(c){l.resolve(),s&&s(c)}),l):(s&&s(),Promise.resolve())}},{key:"loadLanguages",value:function(i,s){var o=Pl();typeof i=="string"&&(i=[i]);var l=this.options.preload||[],c=i.filter(function(f){return l.indexOf(f)<0});return c.length?(this.options.preload=l.concat(c),this.loadResources(function(f){o.resolve(),s&&s(f)}),o):(s&&s(),Promise.resolve())}},{key:"dir",value:function(i){if(i||(i=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!i)return"rtl";var s=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],o=this.services&&this.services.languageUtils||new aC(hC());return s.indexOf(o.getLanguagePartFromCode(i))>-1||i.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}},{key:"cloneInstance",value:function(){var i=this,s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Nf,l=xr(xr(xr({},this.options),s),{isClone:!0}),c=new n(l);(s.debug!==void 0||s.prefix!==void 0)&&(c.logger=c.logger.clone(s));var f=["store","services","language"];return f.forEach(function(h){c[h]=i[h]}),c.services=xr({},this.services),c.services.utils={hasLoadedNamespace:c.hasLoadedNamespace.bind(c)},c.translator=new oC(c.services,c.options),c.translator.on("*",function(h){for(var p=arguments.length,g=new Array(p>1?p-1:0),v=1;v<p;v++)g[v-1]=arguments[v];c.emit.apply(c,[h].concat(g))}),c.init(l,o),c.translator.options=c.options,c.translator.backendConnector.services.utils={hasLoadedNamespace:c.hasLoadedNamespace.bind(c)},c}},{key:"toJSON",value:function(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}]),n}(vs);Ts(jd,"createInstance",function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;return new jd(t,e)});var Kt=jd.createInstance();Kt.createInstance=jd.createInstance;Kt.createInstance;Kt.dir;Kt.init;Kt.loadResources;Kt.reloadResources;Kt.use;Kt.changeLanguage;Kt.getFixedT;Kt.t;Kt.exists;Kt.setDefaultNamespace;Kt.hasLoadedNamespace;Kt.loadNamespaces;Kt.loadLanguages;const mC={'Aktivujte prosím Bluetooth a vyberte svou lampu ze seznamu Pro spárování nové lampy prosím stiskněte tlačítko "Přidat zařízení".':'Aktivujte prosím Bluetooth a vyberte svou lampu ze seznamu. Pro spárování nové lampy prosím stiskněte tlačítko "Přidat zařízení".',"Chyba: ":"Chyba: ","Connected to remote control":"Připojeno k websocketům","Disconnected from remote control":"Odpojeno od websoket","Jsou zařízení blízko sebe?":"Jsou zařízení blízko sebe?","Nastavení rychlejšího přenosu dat se nezdařilo.":"Nastavení rychlejšího přenosu dat se nezdařilo.","Nastaví rychlejší přenos dat, který ale nemá takový dosah.":"Nastaví rychlejší přenos dat, který ale nemá takový dosah.","Název obsahuje nepovolené znaky":"Název obsahuje nepovolené znaky","Pojmenujte svoji lampu":"Pojmenujte svoji lampu","Zkontrolujte, prosím, že máte aktivní Bluetooth v telefonu a lampa je zapojená v zásuvce.":"Zkontrolujte, prosím, že máte aktivní Bluetooth v telefonu a lampa je zapojená v zásuvce.","Přidání se nezdařilo":"Přidání se nezdařilo","Přidělte ID svému zařízení":"Přidělte ID svému zařízení","Připojení selhalo":"Připojení selhalo","Pro připojení již spárované lampy prosím stiskněte jakýkoli symbol":"Pro připojení již spárované lampy prosím stiskněte jakýkoli symbol","Prosím, zadejte ID zařízení v rozmezí 0-255.":"Prosím, zadejte ID zařízení v rozmezí 0-255.","Spárování nové lampy se nezdařilo":"Spárování nové lampy se nezdařilo","Unikátní jméno pro vaši lampu vám ji pomůže odlišit od ostatních.":"Unikátní jméno pro vaši lampu vám ji pomůže odlišit od ostatních.","Zkusit znovu":"Zkusit znovu","Zkuste to, prosím, později.":"Zkuste to, prosím, později.",Zpět:"Zpět","Prohlížeč není podporován":"Prohlížeč není podporován","Z tohoto webového prohlížeče bohužel není možné NARU ovládat. Prosím, otevřete aplikace v prohlížeči Google Chrome.":"Z tohoto webového prohlížeče bohužel není možné NARU ovládat. Prosím, otevřete aplikace v prohlížeči Google Chrome.","Z tohoto webového prohlížeče bohužel není možné NARU ovládat. Prosím, otevřete aplikace v prohlížeči Bluefy.":"Z tohoto webového prohlížeče bohužel není možné NARU ovládat. Prosím, otevřete aplikace v prohlížeči Bluefy.","Z tohoto webového prohlížeče bohužel není možné NARU ovládat. Prosím, stáhněte si aplikaci Spectoda Connect.":"Z tohoto webového prohlížeče bohužel není možné NARU ovládat. Prosím, stáhněte si aplikaci Spectoda Connect.","Z tohoto webového prohlížeče bohužel nejspíš není možné NARU ovládat.":"Z tohoto webového prohlížeče bohužel nejspíš není možné NARU ovládat.","Zkontrolujte, zda jste v Nastavení povolili aplikaci přístup k mikrofonu.":"Zkontrolujte, zda jste v Nastavení povolili aplikaci přístup k mikrofonu."},vC={'Aktivujte prosím Bluetooth a vyberte svou lampu ze seznamu Pro spárování nové lampy prosím stiskněte tlačítko "Přidat zařízení".':'Please activate Bluetooth and select your lamp from the list. To pair a new lamp, please press the " Add device " button.',"Chyba: ":"Error: ","Connected to remote control":"Connected to remote control","Disconnected from remote control":"Disconnected from remote control","Jsou zařízení blízko sebe?":"Are the devices close to each other?","Nastavení rychlejšího přenosu dat se nezdařilo.":"Failed to set up faster data transfer.","Nastaví rychlejší přenos dat, který ale nemá takový dosah.":"Sets up faster data transfer, but it doesn't have that range.","Název obsahuje nepovolené znaky":"The name contains illegal characters","Pojmenujte svoji lampu":"Give name to your lamp","Zkontrolujte, prosím, že máte aktivní Bluetooth v telefonu a lampa je zapojená v zásuvce.":"Please make sure you have Bluetooth active and the lamp is plugged in.","Přidání se nezdařilo":"Add failed","Přidělte ID svému zařízení":"Assign an ID to your device","Připojení selhalo":"Connection failed.","Pro připojení již spárované lampy prosím stiskněte jakýkoli symbol":"To connect an already paired lamp, please press any symbol","Prosím, zadejte ID zařízení v rozmezí 0-255.":"Please enter a device ID in the range 0-255","Spárování nové lampy se nezdařilo":"New lamp pairing failed","Unikátní jméno pro vaši lampu vám ji pomůže odlišit od ostatních.":"A unique name for your lamp will help you distinguish it from others.","Zkusit znovu":"Try again","Zkuste to, prosím, později.":"Try again later please",Zpět:"Back","Prohlížeč není podporován":"This browser is not supported","Z tohoto webového prohlížeče bohužel není možné NARU ovládat. Prosím, otevřete aplikace v prohlížeči Google Chrome.":"Unfortunately, it is not possible to control NARA from this web browser. Please open app in Google Chrome.","Z tohoto webového prohlížeče bohužel není možné NARU ovládat. Prosím, otevřete aplikace v prohlížeči Bluefy.":"Unfortunately, it is not possible to control NARA from this web browser. Please open the app in the Bluefy browser.","Z tohoto webového prohlížeče bohužel není možné NARU ovládat. Prosím, stáhněte si aplikaci Spectoda Connect.":"Unfortunately, it is not possible to control NARA from this web browser. Please download the Spectoda Connect app.","Z tohoto webového prohlížeče bohužel nejspíš není možné NARU ovládat.":"Unfortunately, it is probably not possible to control NARA from this web browser.","Zkontrolujte, zda jste v Nastavení povolili aplikaci přístup k mikrofonu.":"Make sure you've enabled Bluefy's microphone access in Settings. If so, refresh the current page, delete cookies and try again."},Wh=Kt.createInstance();Wh.init({lng:"en",debug:!1,resources:{cs:{translation:mC},"cs-CZ":{translation:mC},en:{translation:vC},"en-US":{translation:vC}},keySeparator:"__",contextSeparator:"__"},(t,e)=>{});const E6=Wh.changeLanguage,pn=Wh.t;typeof window<"u"&&(window.i18js=Wh);/*!
 * Socket.IO v4.4.1
 * (c) 2014-2022 Guillermo Rauch
 * Released under the MIT License.
 */var S6=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,C6=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],Qv=function(t){var e=t,n=t.indexOf("["),r=t.indexOf("]");n!=-1&&r!=-1&&(t=t.substring(0,n)+t.substring(n,r).replace(/:/g,";")+t.substring(r,t.length));for(var i,s,o=S6.exec(t||""),l={},c=14;c--;)l[C6[c]]=o[c]||"";return n!=-1&&r!=-1&&(l.source=e,l.host=l.host.substring(1,l.host.length-1).replace(/;/g,":"),l.authority=l.authority.replace("[","").replace("]","").replace(/;/g,":"),l.ipv6uri=!0),l.pathNames=function(f,h){var p=/\/{2,9}/g,g=h.replace(p,"/").split("/");return h.substr(0,1)!="/"&&h.length!==0||g.splice(0,1),h.substr(h.length-1,1)=="/"&&g.splice(g.length-1,1),g}(0,l.path),l.queryKey=(i=l.query,s={},i.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(f,h,p){h&&(s[h]=p)}),s),l},Jv={exports:{}};try{Jv.exports=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{Jv.exports=!1}var ql=Jv.exports,Yi=typeof self<"u"?self:typeof window<"u"?window:Function("return this")();function UR(t){const e=t.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||ql))return new XMLHttpRequest}catch{}if(!e)try{return new Yi[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}function BR(t,...e){return e.reduce((n,r)=>(t.hasOwnProperty(r)&&(n[r]=t[r]),n),{})}const b6=setTimeout,I6=clearTimeout;function zh(t,e){e.useNativeTimers?(t.setTimeoutFn=b6.bind(Yi),t.clearTimeoutFn=I6.bind(Yi)):(t.setTimeoutFn=setTimeout.bind(Yi),t.clearTimeoutFn=clearTimeout.bind(Yi))}var qa=Xt;function Xt(t){if(t)return function(e){for(var n in Xt.prototype)e[n]=Xt.prototype[n];return e}(t)}Xt.prototype.on=Xt.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this},Xt.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this},Xt.prototype.off=Xt.prototype.removeListener=Xt.prototype.removeAllListeners=Xt.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n,r=this._callbacks["$"+t];if(!r)return this;if(arguments.length==1)return delete this._callbacks["$"+t],this;for(var i=0;i<r.length;i++)if((n=r[i])===e||n.fn===e){r.splice(i,1);break}return r.length===0&&delete this._callbacks["$"+t],this},Xt.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),n=this._callbacks["$"+t],r=1;r<arguments.length;r++)e[r-1]=arguments[r];if(n){r=0;for(var i=(n=n.slice(0)).length;r<i;++r)n[r].apply(this,e)}return this},Xt.prototype.emitReserved=Xt.prototype.emit,Xt.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},Xt.prototype.hasListeners=function(t){return!!this.listeners(t).length};const Pr=Object.create(null);Pr.open="0",Pr.close="1",Pr.ping="2",Pr.pong="3",Pr.message="4",Pr.upgrade="5",Pr.noop="6";const nd=Object.create(null);Object.keys(Pr).forEach(t=>{nd[Pr[t]]=t});const T6={type:"error",data:"parser error"},R6=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",A6=typeof ArrayBuffer=="function",$R=({type:t,data:e},n,r)=>R6&&e instanceof Blob?n?r(e):_C(e,r):A6&&(e instanceof ArrayBuffer||(ql=e,typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(ql):ql&&ql.buffer instanceof ArrayBuffer))?n?r(e):_C(new Blob([e]),r):r(Pr[t]+(e||"")),_C=(t,e)=>{const n=new FileReader;return n.onload=function(){const r=n.result.split(",")[1];e("b"+r)},n.readAsDataURL(t)};for(var yC="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Yl=typeof Uint8Array>"u"?[]:new Uint8Array(256),Pf=0;Pf<yC.length;Pf++)Yl[yC.charCodeAt(Pf)]=Pf;const k6=typeof ArrayBuffer=="function",jR=(t,e)=>{if(typeof t!="string")return{type:"message",data:VR(t,e)};const n=t.charAt(0);return n==="b"?{type:"message",data:x6(t.substring(1),e)}:nd[n]?t.length>1?{type:nd[n],data:t.substring(1)}:{type:nd[n]}:T6},x6=(t,e)=>{if(k6){const n=function(r){var i,s,o,l,c,f=.75*r.length,h=r.length,p=0;r[r.length-1]==="="&&(f--,r[r.length-2]==="="&&f--);var g=new ArrayBuffer(f),v=new Uint8Array(g);for(i=0;i<h;i+=4)s=Yl[r.charCodeAt(i)],o=Yl[r.charCodeAt(i+1)],l=Yl[r.charCodeAt(i+2)],c=Yl[r.charCodeAt(i+3)],v[p++]=s<<2|o>>4,v[p++]=(15&o)<<4|l>>2,v[p++]=(3&l)<<6|63&c;return g}(t);return VR(n,e)}return{base64:!0,data:t}},VR=(t,e)=>e==="blob"&&t instanceof ArrayBuffer?new Blob([t]):t,wC=String.fromCharCode(30);let WR=class extends qa{constructor(e){super(),this.writable=!1,zh(this,e),this.opts=e,this.query=e.query,this.readyState="",this.socket=e.socket}onError(e,n){const r=new Error(e);return r.type="TransportError",r.description=n,super.emit("error",r),this}open(){return this.readyState!=="closed"&&this.readyState!==""||(this.readyState="opening",this.doOpen()),this}close(){return this.readyState!=="opening"&&this.readyState!=="open"||(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emit("open")}onData(e){const n=jR(e,this.socket.binaryType);this.onPacket(n)}onPacket(e){super.emit("packet",e)}onClose(){this.readyState="closed",super.emit("close")}};var EC,zR="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),GR={},SC=0,Qi=0;function Xv(t){var e="";do e=zR[t%64]+e,t=Math.floor(t/64);while(t>0);return e}function Zv(){var t=Xv(+new Date);return t!==EC?(SC=0,EC=t):t+"."+Xv(SC++)}for(;Qi<64;Qi++)GR[zR[Qi]]=Qi;Zv.encode=Xv,Zv.decode=function(t){var e=0;for(Qi=0;Qi<t.length;Qi++)e=64*e+GR[t.charAt(Qi)];return e};var HR=Zv,W_={encode:function(t){var e="";for(var n in t)t.hasOwnProperty(n)&&(e.length&&(e+="&"),e+=encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e},decode:function(t){for(var e={},n=t.split("&"),r=0,i=n.length;r<i;r++){var s=n[r].split("=");e[decodeURIComponent(s[0])]=decodeURIComponent(s[1])}return e}};let O6=class extends WR{constructor(){super(...arguments),this.polling=!1}get name(){return"polling"}doOpen(){this.poll()}pause(e){this.readyState="pausing";const n=()=>{this.readyState="paused",e()};if(this.polling||!this.writable){let r=0;this.polling&&(r++,this.once("pollComplete",function(){--r||n()})),this.writable||(r++,this.once("drain",function(){--r||n()}))}else n()}poll(){this.polling=!0,this.doPoll(),this.emit("poll")}onData(e){((n,r)=>{const i=n.split(wC),s=[];for(let o=0;o<i.length;o++){const l=jR(i[o],r);if(s.push(l),l.type==="error")break}return s})(e,this.socket.binaryType).forEach(n=>{if(this.readyState==="opening"&&n.type==="open"&&this.onOpen(),n.type==="close")return this.onClose(),!1;this.onPacket(n)}),this.readyState!=="closed"&&(this.polling=!1,this.emit("pollComplete"),this.readyState==="open"&&this.poll())}doClose(){const e=()=>{this.write([{type:"close"}])};this.readyState==="open"?e():this.once("open",e)}write(e){this.writable=!1,((n,r)=>{const i=n.length,s=new Array(i);let o=0;n.forEach((l,c)=>{$R(l,!1,f=>{s[c]=f,++o===i&&r(s.join(wC))})})})(e,n=>{this.doWrite(n,()=>{this.writable=!0,this.emit("drain")})})}uri(){let e=this.query||{};const n=this.opts.secure?"https":"http";let r="";this.opts.timestampRequests!==!1&&(e[this.opts.timestampParam]=HR()),this.supportsBinary||e.sid||(e.b64=1),this.opts.port&&(n==="https"&&Number(this.opts.port)!==443||n==="http"&&Number(this.opts.port)!==80)&&(r=":"+this.opts.port);const i=W_.encode(e);return n+"://"+(this.opts.hostname.indexOf(":")!==-1?"["+this.opts.hostname+"]":this.opts.hostname)+r+this.opts.path+(i.length?"?"+i:"")}};function N6(){}const P6=new UR({xdomain:!1}).responseType!=null;let va=class rd extends qa{constructor(e,n){super(),zh(this,n),this.opts=n,this.method=n.method||"GET",this.uri=e,this.async=n.async!==!1,this.data=n.data!==void 0?n.data:null,this.create()}create(){const e=BR(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");e.xdomain=!!this.opts.xd,e.xscheme=!!this.opts.xs;const n=this.xhr=new UR(e);try{n.open(this.method,this.uri,this.async);try{if(this.opts.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(let r in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(r)&&n.setRequestHeader(r,this.opts.extraHeaders[r])}}catch{}if(this.method==="POST")try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{n.setRequestHeader("Accept","*/*")}catch{}"withCredentials"in n&&(n.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(n.timeout=this.opts.requestTimeout),n.onreadystatechange=()=>{n.readyState===4&&(n.status===200||n.status===1223?this.onLoad():this.setTimeoutFn(()=>{this.onError(typeof n.status=="number"?n.status:0)},0))},n.send(this.data)}catch(r){return void this.setTimeoutFn(()=>{this.onError(r)},0)}typeof document<"u"&&(this.index=rd.requestsCount++,rd.requests[this.index]=this)}onSuccess(){this.emit("success"),this.cleanup()}onData(e){this.emit("data",e),this.onSuccess()}onError(e){this.emit("error",e),this.cleanup(!0)}cleanup(e){if(this.xhr!==void 0&&this.xhr!==null){if(this.xhr.onreadystatechange=N6,e)try{this.xhr.abort()}catch{}typeof document<"u"&&delete rd.requests[this.index],this.xhr=null}}onLoad(){const e=this.xhr.responseText;e!==null&&this.onData(e)}abort(){this.cleanup()}};va.requestsCount=0,va.requests={},typeof document<"u"&&(typeof attachEvent=="function"?attachEvent("onunload",CC):typeof addEventListener=="function"&&addEventListener("onpagehide"in Yi?"pagehide":"unload",CC,!1));function CC(){for(let t in va.requests)va.requests.hasOwnProperty(t)&&va.requests[t].abort()}const D6=typeof Promise=="function"&&typeof Promise.resolve=="function"?t=>Promise.resolve().then(t):(t,e)=>e(t,0),Dl=Yi.WebSocket||Yi.MozWebSocket,bC=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";let L6=class KR extends WR{constructor(e){super(e),this.supportsBinary=!e.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const e=this.uri(),n=this.opts.protocols,r=bC?{}:BR(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=bC?new Dl(e,n,r):n?new Dl(e,n):new Dl(e)}catch(i){return this.emit("error",i)}this.ws.binaryType=this.socket.binaryType||"arraybuffer",this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=this.onClose.bind(this),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let n=0;n<e.length;n++){const r=e[n],i=n===e.length-1;$R(r,this.supportsBinary,s=>{try{this.ws.send(s)}catch{}i&&D6(()=>{this.writable=!0,this.emit("drain")},this.setTimeoutFn)})}}doClose(){this.ws!==void 0&&(this.ws.close(),this.ws=null)}uri(){let e=this.query||{};const n=this.opts.secure?"wss":"ws";let r="";this.opts.port&&(n==="wss"&&Number(this.opts.port)!==443||n==="ws"&&Number(this.opts.port)!==80)&&(r=":"+this.opts.port),this.opts.timestampRequests&&(e[this.opts.timestampParam]=HR()),this.supportsBinary||(e.b64=1);const i=W_.encode(e);return n+"://"+(this.opts.hostname.indexOf(":")!==-1?"["+this.opts.hostname+"]":this.opts.hostname)+r+this.opts.path+(i.length?"?"+i:"")}check(){return!(!Dl||"__initialize"in Dl&&this.name===KR.prototype.name)}};const F6={websocket:L6,polling:class extends O6{constructor(t){if(super(t),typeof location<"u"){const n=location.protocol==="https:";let r=location.port;r||(r=n?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||r!==t.port,this.xs=t.secure!==n}const e=t&&t.forceBase64;this.supportsBinary=P6&&!e}request(t={}){return Object.assign(t,{xd:this.xd,xs:this.xs},this.opts),new va(this.uri(),t)}doWrite(t,e){const n=this.request({method:"POST",data:t});n.on("success",e),n.on("error",r=>{this.onError("xhr post error",r)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",e=>{this.onError("xhr poll error",e)}),this.pollXhr=t}}};let qR=class Wo extends qa{constructor(e,n={}){super(),e&&typeof e=="object"&&(n=e,e=null),e?(e=Qv(e),n.hostname=e.host,n.secure=e.protocol==="https"||e.protocol==="wss",n.port=e.port,e.query&&(n.query=e.query)):n.host&&(n.hostname=Qv(n.host).host),zh(this,n),this.secure=n.secure!=null?n.secure:typeof location<"u"&&location.protocol==="https:",n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=n.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=n.transports||["polling","websocket"],this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!0},n),this.opts.path=this.opts.path.replace(/\/$/,"")+"/",typeof this.opts.query=="string"&&(this.opts.query=W_.decode(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,typeof addEventListener=="function"&&(this.opts.closeOnBeforeunload&&addEventListener("beforeunload",()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},!1),this.hostname!=="localhost"&&(this.offlineEventListener=()=>{this.onClose("transport close")},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(e){const n=function(i){const s={};for(let o in i)i.hasOwnProperty(o)&&(s[o]=i[o]);return s}(this.opts.query);n.EIO=4,n.transport=e,this.id&&(n.sid=this.id);const r=Object.assign({},this.opts.transportOptions[e],this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port});return new F6[e](r)}open(){let e;if(this.opts.rememberUpgrade&&Wo.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)e="websocket";else{if(this.transports.length===0)return void this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);e=this.transports[0]}this.readyState="opening";try{e=this.createTransport(e)}catch{return this.transports.shift(),void this.open()}e.open(),this.setTransport(e)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",()=>{this.onClose("transport close")})}probe(e){let n=this.createTransport(e),r=!1;Wo.priorWebsocketSuccess=!1;const i=()=>{r||(n.send([{type:"ping",data:"probe"}]),n.once("packet",p=>{if(!r)if(p.type==="pong"&&p.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",n),!n)return;Wo.priorWebsocketSuccess=n.name==="websocket",this.transport.pause(()=>{r||this.readyState!=="closed"&&(h(),this.setTransport(n),n.send([{type:"upgrade"}]),this.emitReserved("upgrade",n),n=null,this.upgrading=!1,this.flush())})}else{const g=new Error("probe error");g.transport=n.name,this.emitReserved("upgradeError",g)}}))};function s(){r||(r=!0,h(),n.close(),n=null)}const o=p=>{const g=new Error("probe error: "+p);g.transport=n.name,s(),this.emitReserved("upgradeError",g)};function l(){o("transport closed")}function c(){o("socket closed")}function f(p){n&&p.name!==n.name&&s()}const h=()=>{n.removeListener("open",i),n.removeListener("error",o),n.removeListener("close",l),this.off("close",c),this.off("upgrading",f)};n.once("open",i),n.once("error",o),n.once("close",l),this.once("close",c),this.once("upgrading",f),n.open()}onOpen(){if(this.readyState="open",Wo.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush(),this.readyState==="open"&&this.opts.upgrade&&this.transport.pause){let e=0;const n=this.upgrades.length;for(;e<n;e++)this.probe(this.upgrades[e])}}onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this.resetPingTimeout(),this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const n=new Error("server error");n.code=e.data,this.onError(n);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data)}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.onOpen(),this.readyState!=="closed"&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emitReserved("flush"))}write(e,n,r){return this.sendPacket("message",e,n,r),this}send(e,n,r){return this.sendPacket("message",e,n,r),this}sendPacket(e,n,r,i){if(typeof n=="function"&&(i=n,n=void 0),typeof r=="function"&&(i=r,r=null),this.readyState==="closing"||this.readyState==="closed")return;(r=r||{}).compress=r.compress!==!1;const s={type:e,data:n,options:r};this.emitReserved("packetCreate",s),this.writeBuffer.push(s),i&&this.once("flush",i),this.flush()}close(){const e=()=>{this.onClose("forced close"),this.transport.close()},n=()=>{this.off("upgrade",n),this.off("upgradeError",n),e()},r=()=>{this.once("upgrade",n),this.once("upgradeError",n)};return this.readyState!=="opening"&&this.readyState!=="open"||(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?r():e()}):this.upgrading?r():e()),this}onError(e){Wo.priorWebsocketSuccess=!1,this.emitReserved("error",e),this.onClose("transport error",e)}onClose(e,n){this.readyState!=="opening"&&this.readyState!=="open"&&this.readyState!=="closing"||(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),typeof removeEventListener=="function"&&removeEventListener("offline",this.offlineEventListener,!1),this.readyState="closed",this.id=null,this.emitReserved("close",e,n),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(e){const n=[];let r=0;const i=e.length;for(;r<i;r++)~this.transports.indexOf(e[r])&&n.push(e[r]);return n}};qR.protocol=4;const M6=typeof ArrayBuffer=="function",YR=Object.prototype.toString,U6=typeof Blob=="function"||typeof Blob<"u"&&YR.call(Blob)==="[object BlobConstructor]",B6=typeof File=="function"||typeof File<"u"&&YR.call(File)==="[object FileConstructor]";function z_(t){return M6&&(t instanceof ArrayBuffer||(e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer)(t))||U6&&t instanceof Blob||B6&&t instanceof File}function id(t,e){if(!t||typeof t!="object")return!1;if(Array.isArray(t)){for(let n=0,r=t.length;n<r;n++)if(id(t[n]))return!0;return!1}if(z_(t))return!0;if(t.toJSON&&typeof t.toJSON=="function"&&arguments.length===1)return id(t.toJSON(),!0);for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&id(t[n]))return!0;return!1}function $6(t){const e=[],n=t.data,r=t;return r.data=e0(n,e),r.attachments=e.length,{packet:r,buffers:e}}function e0(t,e){if(!t)return t;if(z_(t)){const n={_placeholder:!0,num:e.length};return e.push(t),n}if(Array.isArray(t)){const n=new Array(t.length);for(let r=0;r<t.length;r++)n[r]=e0(t[r],e);return n}if(typeof t=="object"&&!(t instanceof Date)){const n={};for(const r in t)t.hasOwnProperty(r)&&(n[r]=e0(t[r],e));return n}return t}function j6(t,e){return t.data=t0(t.data,e),t.attachments=void 0,t}function t0(t,e){if(!t)return t;if(t&&t._placeholder)return e[t.num];if(Array.isArray(t))for(let n=0;n<t.length;n++)t[n]=t0(t[n],e);else if(typeof t=="object")for(const n in t)t.hasOwnProperty(n)&&(t[n]=t0(t[n],e));return t}var Ne;(function(t){t[t.CONNECT=0]="CONNECT",t[t.DISCONNECT=1]="DISCONNECT",t[t.EVENT=2]="EVENT",t[t.ACK=3]="ACK",t[t.CONNECT_ERROR=4]="CONNECT_ERROR",t[t.BINARY_EVENT=5]="BINARY_EVENT",t[t.BINARY_ACK=6]="BINARY_ACK"})(Ne||(Ne={}));class G_ extends qa{constructor(){super()}add(e){let n;if(typeof e=="string")n=this.decodeString(e),n.type===Ne.BINARY_EVENT||n.type===Ne.BINARY_ACK?(this.reconstructor=new V6(n),n.attachments===0&&super.emitReserved("decoded",n)):super.emitReserved("decoded",n);else{if(!z_(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");n=this.reconstructor.takeBinaryData(e),n&&(this.reconstructor=null,super.emitReserved("decoded",n))}}decodeString(e){let n=0;const r={type:Number(e.charAt(0))};if(Ne[r.type]===void 0)throw new Error("unknown packet type "+r.type);if(r.type===Ne.BINARY_EVENT||r.type===Ne.BINARY_ACK){const s=n+1;for(;e.charAt(++n)!=="-"&&n!=e.length;);const o=e.substring(s,n);if(o!=Number(o)||e.charAt(n)!=="-")throw new Error("Illegal attachments");r.attachments=Number(o)}if(e.charAt(n+1)==="/"){const s=n+1;for(;++n&&!(e.charAt(n)===","||n===e.length););r.nsp=e.substring(s,n)}else r.nsp="/";const i=e.charAt(n+1);if(i!==""&&Number(i)==i){const s=n+1;for(;++n;){const o=e.charAt(n);if(o==null||Number(o)!=o){--n;break}if(n===e.length)break}r.id=Number(e.substring(s,n+1))}if(e.charAt(++n)){const s=function(o){try{return JSON.parse(o)}catch{return!1}}(e.substr(n));if(!G_.isPayloadValid(r.type,s))throw new Error("invalid payload");r.data=s}return r}static isPayloadValid(e,n){switch(e){case Ne.CONNECT:return typeof n=="object";case Ne.DISCONNECT:return n===void 0;case Ne.CONNECT_ERROR:return typeof n=="string"||typeof n=="object";case Ne.EVENT:case Ne.BINARY_EVENT:return Array.isArray(n)&&n.length>0;case Ne.ACK:case Ne.BINARY_ACK:return Array.isArray(n)}}destroy(){this.reconstructor&&this.reconstructor.finishedReconstruction()}}class V6{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const n=j6(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}var W6=Object.freeze({__proto__:null,protocol:5,get PacketType(){return Ne},Encoder:class{encode(t){return t.type!==Ne.EVENT&&t.type!==Ne.ACK||!id(t)?[this.encodeAsString(t)]:(t.type=t.type===Ne.EVENT?Ne.BINARY_EVENT:Ne.BINARY_ACK,this.encodeAsBinary(t))}encodeAsString(t){let e=""+t.type;return t.type!==Ne.BINARY_EVENT&&t.type!==Ne.BINARY_ACK||(e+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(e+=t.nsp+","),t.id!=null&&(e+=t.id),t.data!=null&&(e+=JSON.stringify(t.data)),e}encodeAsBinary(t){const e=$6(t),n=this.encodeAsString(e.packet),r=e.buffers;return r.unshift(n),r}},Decoder:G_});function pr(t,e,n){return t.on(e,n),function(){t.off(e,n)}}const z6=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class QR extends qa{constructor(e,n,r){super(),this.connected=!1,this.disconnected=!0,this.receiveBuffer=[],this.sendBuffer=[],this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=n,r&&r.auth&&(this.auth=r.auth),this.io._autoConnect&&this.open()}subEvents(){if(this.subs)return;const e=this.io;this.subs=[pr(e,"open",this.onopen.bind(this)),pr(e,"packet",this.onpacket.bind(this)),pr(e,"error",this.onerror.bind(this)),pr(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected||(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen()),this}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...n){if(z6.hasOwnProperty(e))throw new Error('"'+e+'" is a reserved event name');n.unshift(e);const r={type:Ne.EVENT,data:n,options:{}};if(r.options.compress=this.flags.compress!==!1,typeof n[n.length-1]=="function"){const s=this.ids++,o=n.pop();this._registerAckCallback(s,o),r.id=s}const i=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!i||!this.connected)||(this.connected?this.packet(r):this.sendBuffer.push(r)),this.flags={},this}_registerAckCallback(e,n){const r=this.flags.timeout;if(r===void 0)return void(this.acks[e]=n);const i=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let s=0;s<this.sendBuffer.length;s++)this.sendBuffer[s].id===e&&this.sendBuffer.splice(s,1);n.call(this,new Error("operation has timed out"))},r);this.acks[e]=(...s)=>{this.io.clearTimeoutFn(i),n.apply(this,[null,...s])}}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth=="function"?this.auth(e=>{this.packet({type:Ne.CONNECT,data:e})}):this.packet({type:Ne.CONNECT,data:this.auth})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e){this.connected=!1,this.disconnected=!0,delete this.id,this.emitReserved("disconnect",e)}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case Ne.CONNECT:if(e.data&&e.data.sid){const r=e.data.sid;this.onconnect(r)}else this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Ne.EVENT:case Ne.BINARY_EVENT:this.onevent(e);break;case Ne.ACK:case Ne.BINARY_ACK:this.onack(e);break;case Ne.DISCONNECT:this.ondisconnect();break;case Ne.CONNECT_ERROR:this.destroy();const n=new Error(e.data.message);n.data=e.data.data,this.emitReserved("connect_error",n)}}onevent(e){const n=e.data||[];e.id!=null&&n.push(this.ack(e.id)),this.connected?this.emitEvent(n):this.receiveBuffer.push(Object.freeze(n))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const n=this._anyListeners.slice();for(const r of n)r.apply(this,e)}super.emit.apply(this,e)}ack(e){const n=this;let r=!1;return function(...i){r||(r=!0,n.packet({type:Ne.ACK,id:e,data:i}))}}onack(e){const n=this.acks[e.id];typeof n=="function"&&(n.apply(this,e.data),delete this.acks[e.id])}onconnect(e){this.id=e,this.connected=!0,this.disconnected=!1,this.emitBuffered(),this.emitReserved("connect")}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>this.packet(e)),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Ne.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const n=this._anyListeners;for(let r=0;r<n.length;r++)if(e===n[r])return n.splice(r,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}}var G6=zo;function zo(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}zo.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),n=Math.floor(e*this.jitter*t);t=1&Math.floor(10*e)?t+n:t-n}return 0|Math.min(t,this.max)},zo.prototype.reset=function(){this.attempts=0},zo.prototype.setMin=function(t){this.ms=t},zo.prototype.setMax=function(t){this.max=t},zo.prototype.setJitter=function(t){this.jitter=t};class n0 extends qa{constructor(e,n){var r;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(n=e,e=void 0),(n=n||{}).path=n.path||"/socket.io",this.opts=n,zh(this,n),this.reconnection(n.reconnection!==!1),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor((r=n.randomizationFactor)!==null&&r!==void 0?r:.5),this.backoff=new G6({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(n.timeout==null?2e4:n.timeout),this._readyState="closed",this.uri=e;const i=n.parser||W6;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=n.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var n;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(n=this.backoff)===null||n===void 0||n.setMin(e),this)}randomizationFactor(e){var n;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(n=this.backoff)===null||n===void 0||n.setJitter(e),this)}reconnectionDelayMax(e){var n;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(n=this.backoff)===null||n===void 0||n.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new qR(this.uri,this.opts);const n=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;const i=pr(n,"open",function(){r.onopen(),e&&e()}),s=pr(n,"error",o=>{r.cleanup(),r._readyState="closed",this.emitReserved("error",o),e?e(o):r.maybeReconnectOnOpen()});if(this._timeout!==!1){const o=this._timeout;o===0&&i();const l=this.setTimeoutFn(()=>{i(),n.close(),n.emit("error",new Error("timeout"))},o);this.opts.autoUnref&&l.unref(),this.subs.push(function(){clearTimeout(l)})}return this.subs.push(i),this.subs.push(s),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(pr(e,"ping",this.onping.bind(this)),pr(e,"data",this.ondata.bind(this)),pr(e,"error",this.onerror.bind(this)),pr(e,"close",this.onclose.bind(this)),pr(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){this.decoder.add(e)}ondecoded(e){this.emitReserved("packet",e)}onerror(e){this.emitReserved("error",e)}socket(e,n){let r=this.nsps[e];return r||(r=new QR(this,e,n),this.nsps[e]=r),r}_destroy(e){const n=Object.keys(this.nsps);for(const r of n)if(this.nsps[r].active)return;this._close()}_packet(e){const n=this.encoder.encode(e);for(let r=0;r<n.length;r++)this.engine.write(n[r],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(e){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const n=this.backoff.duration();this._reconnecting=!0;const r=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),e.skipReconnect||e.open(i=>{i?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",i)):e.onreconnect()}))},n);this.opts.autoUnref&&r.unref(),this.subs.push(function(){clearTimeout(r)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const Ll={};function uu(t,e){typeof t=="object"&&(e=t,t=void 0);const n=function(c,f="",h){let p=c;h=h||typeof location<"u"&&location,c==null&&(c=h.protocol+"//"+h.host),typeof c=="string"&&(c.charAt(0)==="/"&&(c=c.charAt(1)==="/"?h.protocol+c:h.host+c),/^(https?|wss?):\/\//.test(c)||(c=h!==void 0?h.protocol+"//"+c:"https://"+c),p=Qv(c)),p.port||(/^(http|ws)$/.test(p.protocol)?p.port="80":/^(http|ws)s$/.test(p.protocol)&&(p.port="443")),p.path=p.path||"/";const g=p.host.indexOf(":")!==-1?"["+p.host+"]":p.host;return p.id=p.protocol+"://"+g+":"+p.port+f,p.href=p.protocol+"://"+g+(h&&h.port===p.port?"":":"+p.port),p}(t,(e=e||{}).path||"/socket.io"),r=n.source,i=n.id,s=n.path,o=Ll[i]&&s in Ll[i].nsps;let l;return e.forceNew||e["force new connection"]||e.multiplex===!1||o?l=new n0(r,e):(Ll[i]||(Ll[i]=new n0(r,e)),l=Ll[i]),n.query&&!e.query&&(e.query=n.queryKey),l.socket(n.path,e)}Object.assign(uu,{Manager:n0,Socket:QR,io:uu,connect:uu});class _o{constructor(e,n){this.memory_=0,this.paused_=!1,this.eventEmitter_=$_(),n&&this.pause(),e?this.setMillis(e):this.setMillis(0)}millis(){return this.paused_?this.memory_:Date.now()-this.memory_}setState(e,n){(n&&!this.paused_||!n&&this.paused_)&&(this.paused_=n,this.memory_=Date.now()-this.memory_),this.memory_=this.paused_?e:Date.now()-e,this.eventEmitter_.emit("change",{target:this})}setMillis(e){this.memory_=this.paused_?e:Date.now()-e,this.eventEmitter_.emit("change",{target:this})}pause(){this.paused_||(this.paused_=!0,this.memory_=Date.now()-this.memory_,this.eventEmitter_.emit("change",{target:this}))}unpause(){this.paused_&&(this.paused_=!1,this.memory_=Date.now()-this.memory_,this.eventEmitter_.emit("change",{target:this}))}paused(){return this.paused_}}class pt{constructor(e){this._dataView=e,this._index=0}peekValue(e,n=!0){if(e>8)throw console.error("Byte count is too big"),new RangeError("ByteCountOutOfRange");if(this._index+e>this._dataView.byteLength)throw console.error("End of the data"),new RangeError("PeekOutOfRange");let r=0n;for(let s=e;s>0;s--)r<<=8n,r|=BigInt(this._dataView.getUint8(this._index+s-1));let i=r;if(!n&&r&1n<<BigInt(e*8)-1n&&(i=r-(1n<<BigInt(e*8))),i>BigInt(Number.MAX_SAFE_INTEGER)||i<BigInt(Number.MIN_SAFE_INTEGER))throw console.error("Value is outside of safe integer range"),new RangeError("ValueOutOfRange");return Number(i)}readValue(e,n){try{const r=this.peekValue(e,n);return this.forward(e),r}catch{throw"ReadOutOfRange"}}readBytes(e){if(this._index+e<=this._dataView.byteLength){let n=[];for(let r=0;r<e;r++)n.push(this._dataView.getUint8(this._index+r));return this.forward(e),n}else throw console.error("End of the data"),"Bytes read out of range"}readString(e){if(this._index+e<=this._dataView.byteLength){let n="",r=!1;for(let i=0;i<e;i++){let s=this._dataView.getUint8(this._index+i);s===0&&(r=!0),r||(n+=String.fromCharCode(s))}return n}else throw console.warn("End of the data"),"Bytes read out of range"}peekFlag(){return this.peekValue(1,!0)}readFlag(){return this.readValue(1,!0)}readInt8(){return this.readValue(1,!1)}readUint8(){return this.readValue(1,!0)}readInt16(){return this.readValue(2,!1)}readUint16(){return this.readValue(2,!0)}readInt32(){return this.readValue(4,!1)}readUint32(){return this.readValue(4,!0)}readInt48(){return this.readValue(6,!1)}readUint48(){return this.readValue(6,!0)}readInt64(){return this.readValue(8,!1)}readUint64(){return this.readValue(8,!0)}get available(){return this._dataView.byteLength-this._index}forward(e){this._index+e<=this._dataView.byteLength?this._index+=e:this._index=this._dataView.byteLength}back(e){this._index>=e?this._index-=e:this._index=0}}class Ui{constructor(e=65535){this._buffer=new ArrayBuffer(e),this._dataView=new DataView(this._buffer),this._index=0}writeValue(e,n){if(this._index+n<=this._dataView.byteLength)for(let r=0;r<n;r++)this._dataView.setUint8(this._index++,e&255),e=Math.floor(e/Math.pow(2,8));else throw console.warn("End of the data"),"Tried to write out of range"}writeBytes(e,n){if(n===null&&(n=e.byteLength),this._index+n<=this._dataView.byteLength)for(let r=0;r<n;r++)r<e.byteLength?this._dataView.setUint8(this._index++,e[r]):this._dataView.setUint8(this._index++,0);else throw console.warn("End of the data"),"Tried to write out of range"}writeString(e,n){if(n===null&&(n=e.length),this._index+n<=this._dataView.byteLength)for(let r=0;r<n;r++)this._dataView.setUint8(this._index++,e.charCodeAt(r));else throw console.warn("End of the data"),"Tried to write out of range"}writeFlag(e){return this.writeValue(e,1)}writeUint8(e){return this.writeValue(e,1)}writeInt16(e){return this.writeValue(e,2)}writeUint16(e){return this.writeValue(e,2)}writeInt32(e){return this.writeValue(e,4)}writeUint32(e){return this.writeValue(e,4)}get available(){return this._dataView.byteLength-this._index}forward(e){this._index+e<=this._dataView.byteLength?this._index+=e:this._index=this._dataView.byteLength}back(e){this._index>=e?this._index-=e:this._index=0}get bytes(){return new DataView(this._buffer.slice(0,this._index))}get written(){return this._index}}class mm{#e;#t;#n;#r;#s;#i;constructor(e,n=!1,r="DUMMY_0.0.0_00000000"){this.type=n?"edummy":"dummy",this.#e=e,this.#r=n,this.#s=r,this.#t=!1,this.#n=!1,this.#i=new _o(0,!1)}#o(e){return this.#r?Math.random()<e:!1}userSelect(e){return _.verbose("userSelect(criteria=",e,")"),new Promise(async(n,r)=>{if(this.#n&&await this.disconnect(),await ue(Math.random()*1e3),this.#o(.25)){r("UserCanceledSelection");return}if(this.#o(.1)){r("SelectionFailed");return}this.#t=!0,n({connector:this.type})})}autoSelect(e,n,r){return _.verbose("autoSelect(criteria=",e,", scan_period=",n,"timeout=",r,")"),new Promise(async(i,s)=>{if(this.#n&&await this.disconnect(),await ue(Math.random()*1e3),this.#o(.1)){s("SelectionFailed");return}this.#t=!0,i({connector:this.type})})}selected(){return _.verbose("selected()"),new Promise(async(e,n)=>{this.#t?e({connector:this.type}):e()})}unselect(){return _.verbose("unselect()"),new Promise(async(e,n)=>{this.#n&&await this.disconnect(),await ue(10),this.#t=!1,e()})}scan(e,n){return Promise.resolve("{}")}connect(e){return _.verbose(`connect(timeout=${e})`),new Promise(async(n,r)=>{if(!this.#t){r("DeviceNotSelected");return}if(await ue(Math.random()*1e3),this.#o(.1)){r("ConnectionFailed");return}this.#n=!0,this.#e.emit("#connected"),n({connector:this.type})})}disconnect(){return _.verbose("disconnect()"),new Promise(async(e,n)=>{this.#n&&(await ue(100),this.#n=!1,this.#e.emit("#disconnected")),e()})}connected(){return _.verbose("connected()"),new Promise(async(e,n)=>{this.#n?e({connector:this.type}):e()})}deliver(e,n){return _.verbose(`deliver(payload=${e}, timeout=${n})`),new Promise(async(r,i)=>{if(!this.#n){i("DeviceDisconnected");return}if(await ue(25),this.#o(.1)){i("DeliverFailed");return}r()})}transmit(e,n){return _.verbose(`transmit(payload=${e}, timeout=${n})`),new Promise(async(r,i)=>{if(!this.#n){i("DeviceDisconnected");return}if(await ue(10),this.#o(.1)){i("TransmitFailed");return}r()})}request(e,n=!0,r){_.verbose(`request(payload=${e}, read_response=${n?"true":"false"}, timeout=${r})`);const i=0,s=[18764998447377,37529996894754,56294995342131,75059993789508,93824992236885,0x666666666666,0x777777777777,0x888888888888];return new Promise(async(o,l)=>{if(!this.#n){l("DeviceDisconnected");return}if(await ue(50),this.#o(.1)){l("RequestFailed");return}let c=new pt(new DataView(new Uint8Array(e).buffer));switch(c.peekFlag()){case G.FLAG_ADOPT_REQUEST:{c.readFlag();const f=c.readUint32();let h=i,p=new Ui(64);p.writeFlag(G.FLAG_ADOPT_RESPONSE),p.writeUint32(f),p.writeUint8(h),p.writeValue(s[Math.floor(Math.random()*s.length)],6),o(p.bytes)}break;case G.FLAG_CONFIG_UPDATE_REQUEST:{c.readFlag();const f=c.readUint32();let h=i,p=new Ui(64);p.writeFlag(G.FLAG_CONFIG_UPDATE_RESPONSE),p.writeUint32(f),p.writeUint8(h),o(p.bytes)}break;case G.FLAG_TIMELINE_REQUEST:{c.readFlag();const f=c.readUint32();let h=new Ui(64);h.writeFlag(G.FLAG_TIMELINE_RESPONSE),h.writeUint32(f),h.writeInt32(0),h.writeInt32(0),h.writeUint8(0),o(h.bytes)}break;case G.FLAG_TNGL_FINGERPRINT_REQUEST:{c.readFlag();const f=c.readUint32();let h=i,p=new Ui(64);p.writeFlag(G.FLAG_TNGL_FINGERPRINT_RESPONSE),p.writeUint32(f),p.writeUint8(h),p.writeBytes(new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),32),o(p.bytes)}break;case G.FLAG_ERASE_OWNER_REQUEST:{c.readFlag();const f=c.readUint32();let h=i,p=new Ui(64);p.writeFlag(G.FLAG_ERASE_OWNER_RESPONSE),p.writeUint32(f),p.writeUint8(h),p.writeBytes(new Uint8Array([0,0,0,0,0,0]),6),o(p.bytes)}break;case G.FLAG_FW_VERSION_REQUEST:{c.readFlag();const f=c.readUint32();let h=i,p=new Ui(64);p.writeFlag(G.FLAG_FW_VERSION_RESPONSE),p.writeUint32(f),p.writeUint8(h),p.writeString(this.#s,32),o(p.bytes)}break;default:o([])}})}setClock(e){return _.verbose(`setClock(clock.millis()=${e.millis()})`),new Promise(async(n,r)=>{if(!this.#n){r("DeviceDisconnected");return}if(await ue(10),this.#o(.1)){r("ClockWriteFailed");return}this.#i.setMillis(e.millis()),n()})}getClock(){return _.verbose("getClock()"),new Promise(async(e,n)=>{if(!this.#n){n("DeviceDisconnected");return}if(await ue(50),this.#o(.1)){n("ClockReadFailed");return}e(this.#i)})}updateFW(e){return _.verbose(`updateFW(firmware=${e})`),new Promise(async(n,r)=>{if(!this.#n){r("DeviceDisconnected");return}if(this.#e.emit("ota_status","begin"),await ue(1e4),this.#o(.1)){this.#e.emit("ota_status","fail"),r("UpdateFailed");return}for(let i=1;i<=100;i++)if(this.#e.emit("ota_progress",i),await ue(25),this.#o(.01)){this.#e.emit("ota_status","fail"),r("UpdateFailed");return}if(await ue(1e3),this.#o(.1)){this.#e.emit("ota_status","fail"),r("UpdateFailed");return}this.#e.emit("ota_status","success"),n()})}destroy(){return _.verbose("destroy()"),this.disconnect().catch(()=>{}).then(()=>this.unselect()).catch(()=>{})}}class H6{#e;#t;#n;#r;#s;#i;#o;constructor(e){this.#e=e,this.#t=null,this.#n=null,this.#r=null,this.#s=null,this.#i=!1,this.#o=Math.floor(Math.random()*4294967295)}#a(){return this.#o>=4294967295&&(this.#o=0),++this.#o}#u(e,n,r){const i=this.#a(),s=12,l=(Lu()?212:512)-s;if(r)return new Promise(async(c,f)=>{let h=0,p=l;for(;h<n.length;){p>n.length&&(p=n.length);const g=[...re(i,4),...re(h,4),...re(n.length,4),...n.slice(h,p)];try{await e.writeValueWithResponse(new Uint8Array(g))}catch(v){_.warn(v),f(v);return}h+=l,p=h+l}c()});{if(n.length>l)return _.error("The maximum bytes that can be written without response is "+l),Promise.reject("WriteError");const c=[...re(i,4),...re(0,4),...re(n.length,4),...n.slice(0,n.length)];return e.writeValueWithoutResponse(new Uint8Array(c))}}#c(e){return new Promise(async(n,r)=>{try{let i=new Uint8Array((await e.readValue()).buffer),s=[...i];for(;i.length==512;)i=new Uint8Array((await e.readValue()).buffer),s=[...s,...i];n(new DataView(new Uint8Array(s).buffer))}catch(i){_.error(i),r("ReadError")}})}#f(e){_.verbose("#onNetworkNotification",e),this.#e.process(e.target.value)}#d(e){_.verbose("#onDeviceNotification",e)}#h(e){_.verbose("#onClockNotification",e)}attach(e,n,r,i){return this.#t=e,_.debug("> Getting Network Characteristics..."),this.#t.getCharacteristic(n).then(s=>(this.#n=s,this.#n.startNotifications().then(()=>{_.debug("> Network notifications started"),this.#n.oncharacteristicvaluechanged=o=>{this.#f(o)}}).catch(o=>{_.warn(o)}))).catch(s=>{throw _.warn(s),"ConnectionFailed"}).then(()=>(_.debug("> Getting Clock Characteristics..."),this.#t.getCharacteristic(r))).then(s=>(this.#r=s,this.#r.startNotifications().then(()=>{_.debug("> Clock notifications started"),this.#r.oncharacteristicvaluechanged=o=>{this.#h(o)}}).catch(o=>{_.warn(o)}))).catch(s=>{throw _.warn(s),"ConnectionFailed"}).then(()=>(_.debug("> Getting Device Characteristics..."),this.#t.getCharacteristic(i))).then(s=>(this.#s=s,this.#s.startNotifications().then(()=>{_.debug("> Device notifications started"),this.#s.oncharacteristicvaluechanged=o=>{this.#d(o)}}).catch(o=>{_.warn(o)}))).catch(s=>{throw _.warn(s),"ConnectionFailed"})}deliver(e,n){return this.#n?this.#i?(_.warn("Communication in proccess"),Promise.reject("DeliverFailed")):(this.#i=!0,this.#u(this.#n,e,!0).catch(r=>{throw _.error(r),"DeliverFailed"}).finally(()=>{this.#i=!1})):(_.warn("Network characteristics is null"),Promise.reject("DeliverFailed"))}transmit(e,n){return this.#n?this.#i?(_.warn("Communication in proccess"),Promise.reject("TransmitFailed")):(this.#i=!0,this.#u(this.#n,e,!1).catch(r=>{throw _.error(r),"TransmitFailed"}).finally(()=>{this.#i=!1})):(_.warn("Network characteristics is null"),Promise.reject("TransmitFailed"))}request(e,n,r){return this.#s?this.#i?(_.warn("Communication in proccess"),Promise.reject("RequestFailed")):(this.#i=!0,this.#u(this.#s,e,!0).then(()=>n?this.#c(this.#s):Promise.resolve([])).catch(i=>{throw _.error(i),"RequestFailed"}).finally(()=>{this.#i=!1})):(_.warn("Device characteristics is null"),Promise.reject("RequestFailed"))}writeClock(e){if(!this.#r)return _.warn("Sync characteristics is null"),Promise.reject("ClockWriteFailed");if(this.#i)return _.warn("Communication in proccess"),Promise.reject("ClockWriteFailed");this.#i=!0;const n=$h(e,8);return this.#r.writeValueWithoutResponse(new Uint8Array(n)).then(()=>{_.debug("Clock characteristics written")}).catch(r=>{throw _.error(r),"ClockWriteFailed"}).finally(()=>{this.#i=!1})}readClock(){return this.#r?this.#i?(_.warn("Communication in proccess"),Promise.reject("ClockReadFailed")):(this.#i=!0,this.#r.readValue().then(e=>new pt(e).readUint64()).catch(e=>{throw _.error(e),"ClockReadFailed"}).finally(()=>{this.#i=!1})):(_.warn("Sync characteristics is null"),Promise.reject("ClockReadFailed"))}updateFirmware(e){return this.#s?this.#i?(_.warn("Communication in proccess"),Promise.reject("UpdateFailed")):(this.#i=!0,new Promise(async(n,r)=>{const i=Lu()?1008:4992;let s=0,o=i,l=0;_.debug("OTA UPDATE"),_.debug(e);const c=new Date().getTime();try{this.#e.emit("ota_status","begin");{_.debug("OTA RESET");const f=[G.FLAG_OTA_RESET,0,...re(0,4)];await this.#u(this.#s,f,!0)}await ue(100);{_.debug("OTA BEGIN");const f=[G.FLAG_OTA_BEGIN,0,...re(e.length,4)];await this.#u(this.#s,f,!0)}for(await ue(8e3),_.debug("OTA WRITE");l<e.length;){o>e.length&&(o=e.length);const f=[G.FLAG_OTA_WRITE,0,...re(l,4),...e.slice(s,o)];await this.#u(this.#s,f,!0),l+=o-s;const h=Math.floor(l*1e4/e.length)/100;_.debug(h+"%"),this.#e.emit("ota_progress",h),s+=i,o=s+i}await ue(100);{_.debug("OTA END");const f=[G.FLAG_OTA_END,0,...re(l,4)];await this.#u(this.#s,f,!0)}await ue(2e3),_.info("Firmware written in "+(new Date().getTime()-c)/1e3+" seconds"),this.#e.emit("ota_status","success"),n()}catch(f){_.error(f),this.#e.emit("ota_status","fail"),r("UpdateFailed")}}).finally(()=>{this.#i=!1})):(_.warn("Device characteristics is null"),Promise.reject("UpdateFailed"))}reset(){this.#t=null,this.#n=null,this.#r=null,this.#s=null,this.#i=!1}destroy(){this.reset(),this.#e=null}}class K6{#e;#t;#n;#r;#s;#i;constructor(e){this.type="webbluetooth",this.#e=e,this.FW_PRE_0_7_SERVICE_UUID="0000ffe0-0000-1000-8000-00805f9b34fb",this.FW_0_7_0_SERVICE_UUID="60cb125a-0000-0007-0000-5ad20c574c10",this.FW_0_7_1_SERVICE_UUID="60cb125a-0000-0007-0001-5ad20c574c10",this.FW_0_7_2_SERVICE_UUID="60cb125a-0000-0007-0002-5ad20c574c10",this.FW_0_7_3_SERVICE_UUID="60cb125a-0000-0007-0003-5ad20c574c10",this.FW_0_7_4_SERVICE_UUID="60cb125a-0000-0007-0004-5ad20c574c10",this.SPECTODA_SERVICE_UUID="cc540e31-80be-44af-b64a-5d2def886bf5",this.SPECTODA_ADOPTING_SERVICE_UUID="723247e6-3e2d-4279-ad8e-85a13b74d4a5",this.TERMINAL_CHAR_UUID="33a0937e-0c61-41ea-b770-007ade2c79fa",this.CLOCK_CHAR_UUID="7a1e0e3a-6b9b-49ef-b9b7-65c81b714a19",this.DEVICE_CHAR_UUID="9ebe2e4b-10c7-4a81-ac83-49540d1135a5",this.#t=null,this.#n=new H6(e),this.#r=!1,this.#s={},this.#i=!1,this.#e.on("#connected",()=>{this.#i=!0}),this.#e.on("#disconnected",()=>{this.#i=!1})}userSelect(e,n){if(this.#a())return this.disconnect().then(()=>ue(1e3)).then(()=>this.userSelect(e,n));e?Array.isArray(e)?this.#s=e:this.#s=[e]:this.#s=[];let r={filters:[],optionalServices:[this.SPECTODA_SERVICE_UUID]};if(this.#s.length==0)r.filters.push({services:[this.SPECTODA_SERVICE_UUID]});else{let i=!1;for(let s=0;s<this.#s.length;s++){const o=this.#s[s];if(o.legacy){i||(i=!0,r.filters.push({namePrefix:"Nara Al"}),r.filters.push({services:[this.FW_PRE_0_7_SERVICE_UUID]}),r.filters.push({services:[this.FW_0_7_0_SERVICE_UUID]}),r.filters.push({services:[this.FW_0_7_1_SERVICE_UUID]}),r.filters.push({services:[this.FW_0_7_2_SERVICE_UUID]}),r.filters.push({services:[this.FW_0_7_3_SERVICE_UUID]}),r.filters.push({services:[this.FW_0_7_4_SERVICE_UUID]}));continue}let l={services:[this.SPECTODA_SERVICE_UUID]};if(o.name?l.name=o.name:o.namePrefix&&(l.namePrefix=o.namePrefix),o.fwVersion||o.ownerSignature||o.productCode||o.adoptionFlag){delete l.services;let f=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],h=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];if(o.productCode){if(o.productCode<0||o.productCode>65535)throw"InvalidProductCode";const p=2,g=[o.productCode&255,o.productCode>>8&255];for(let v=0;v<2;v++)f[p+v]=g[v],h[p+v]=255}if(o.ownerSignature){if(o.ownerSignature.length!=32)throw"InvalidOwnerSignature";const p=4,g=js(o.ownerSignature);for(let v=0;v<16;v++)f[p+v]=g[v],h[p+v]=255}if(o.adoptionFlag){let g=0;const v=255;o.adoptionFlag===!0&&(g|=1<<0),f[20]=g,h[20]=v}if(o.fwVersion){const g=o.fwVersion.match(/(!?)([\d]+).([\d]+).([\d]+)/),v=g[2]*1e4+g[3]*100+g[4]*1,I=[v&255,v>>8&255];if(g[1]==="!"){l.manufacturerData=[];for(let T=0;T<2;T++)for(let R=0;R<8;R++){for(let E=0;E<2;E++)f[0+E]=0,h[0+E]=0;f[0+T]=~(I[T]&1<<R),h[0+T]=1<<R;let w=JSON.parse(JSON.stringify(l));w.manufacturerData=[{companyIdentifier:741,dataPrefix:new Uint8Array(f),mask:new Uint8Array(h)}],r.filters.push(w)}}else{for(let T=0;T<2;T++)f[0+T]=I[T],h[0+T]=255;l.manufacturerData=[{companyIdentifier:741,dataPrefix:new Uint8Array(f),mask:new Uint8Array(h)}],r.filters.push(l)}}else l.manufacturerData=[{companyIdentifier:741,dataPrefix:new Uint8Array(f),mask:new Uint8Array(h)}],r.filters.push(l)}else r.filters.push(l)}}return r.filters.length==0&&(r={acceptAllDevices:!0,optionalServices:[this.SPECTODA_SERVICE_UUID]}),navigator.bluetooth.requestDevice(r).catch(i=>{throw _.error(i),"UserCanceledSelection"}).then(i=>(this.#t=i,this.#t.ongattserverdisconnected=()=>{this.#c()},{connector:this.type}))}autoSelect(e,n,r){return this.#a()?this.disconnect().then(()=>ue(1e3)).then(()=>this.autoSelect(e,n,r)):(this.#s=e,this.userSelect(e))}unselect(){return(this.#a()?this.disconnect():Promise.resolve()).then(()=>(this.#t=null,this.#n.reset(),Promise.resolve()))}#o(){return!!this.#t}selected(){return Promise.resolve(this.#o()?{connector:this.type}:null)}scan(e,n){return Promise.resolve("{}")}connect(e=1e4){if(_.verbose(`connect(timeout=${e}})`),e<=0)return _.debug("> Connect timeout have expired"),Promise.reject("ConnectionFailed");const n=new Date().getTime();if(this.#r=!0,!this.#o())return Promise.reject("DeviceNotSelected");if(this.#a())return _.debug("> Bluetooth Device is already connected"),Promise.resolve();const r=setTimeout(()=>{_.warn("Timeout triggered"),this.#t.gatt.disconnect()},e<1e4?1e4:e);return _.debug("> Connecting to Bluetooth device..."),this.#t.gatt.connect().then(i=>(this.#n.reset(),_.debug("> Getting the Bluetooth Service..."),i.getPrimaryService(this.SPECTODA_SERVICE_UUID))).then(i=>(_.debug("> Getting the Service Characteristic..."),clearTimeout(r),this.#n.attach(i,this.TERMINAL_CHAR_UUID,this.CLOCK_CHAR_UUID,this.DEVICE_CHAR_UUID))).then(()=>(_.debug("> Bluetooth Device Connected"),this.#i||this.#e.emit("#connected"),{connector:"webbluetooth"})).catch(i=>{if(_.warn(i.name),clearTimeout(r),i.name=="NetworkError")return ue(1e3).then(()=>{if(this.#r){const s=new Date().getTime()-n;return this.connect(e-s)}else return Promise.reject("ConnectionFailed")});throw i})}#a(){return this.#t&&this.#t.gatt.connected}connected(){return Promise.resolve(this.#a()?{connector:this.type}:null)}#u(){this.#t.gatt.disconnect()}disconnect(){return this.#r=!1,_.debug("> Disconnecting from Bluetooth Device..."),this.#n.reset(),this.#a()?this.#u():_.debug("Bluetooth Device is already disconnected"),Promise.resolve()}#c=e=>{_.debug("> Bluetooth Device disconnected"),this.#n.reset(),this.#i&&(_.verbose("emitting #disconnected"),this.#e.emit("#disconnected"))};deliver(e,n){return this.#a()?this.#n.deliver(e,n):Promise.reject("DeviceDisconnected")}transmit(e,n){return this.#a()?this.#n.transmit(e,n):Promise.reject("DeviceDisconnected")}request(e,n,r){return this.#a()?this.#n.request(e,n,r):Promise.reject("DeviceDisconnected")}setClock(e){return _.verbose("setClock()"),this.#a()?new Promise(async(n,r)=>{for(let i=0;i<3;i++)try{await this.#n.writeClock(e.millis()),_.debug("Clock write success"),n();return}catch{_.warn("Clock write failed"),await ue(1e3)}r("ClockWriteFailed")}):Promise.reject("DeviceDisconnected")}getClock(){return _.verbose("getClock()"),this.#a()?new Promise(async(e,n)=>{for(let r=0;r<3;r++){await ue(1e3);try{const i=await this.#n.readClock();_.debug("Clock read success:",i),e(new _o(i));return}catch(i){_.warn("Clock read failed:",i)}}n("ClockReadFailed")}):Promise.reject("DeviceDisconnected")}updateFW(e){return this.#a()?this.#n.updateFirmware(e).finally(()=>this.disconnect()):Promise.reject("DeviceDisconnected")}destroy(){return this.disconnect().catch(()=>{}).then(()=>this.unselect()).catch(()=>{})}}class q6{constructor(){this.container=""}transform(e,n){this.container+=e;const r=this.container.split(`
`);this.container=r.pop(),r.forEach(i=>n.enqueue(i))}flush(e){e.enqueue(this.container)}}class Y6{#e;#t;#n;#r;#s;#i;#o;#a;#u;#c;#f;#d;#h;#l;#m;constructor(e){this.type="webserial",this.#e=e,this.PORT_OPTIONS={baudRate:1e6,dataBits:8,stopBits:1,parity:"none",bufferSize:65535,flowControl:"none"},this.#t=null,this.#n=!1,this.#r=!1,this.#s=!1,this.#i=!1,this.#o=null,this.#a=null,this.#u=null,this.#c=null,this.#f=null,this.#d=8,this.#h=null,this.#l=null,this.#m=null,this.CODE_WRITE=100,this.CODE_READ=200,this.CHANNEL_NETWORK=1,this.CHANNEL_DEVICE=2,this.CHANNEL_CLOCK=3,this.INITIATE_NETWORK_WRITE=this.CODE_WRITE+this.CHANNEL_NETWORK,this.INITIATE_DEVICE_WRITE=this.CODE_WRITE+this.CHANNEL_DEVICE,this.INITIATE_CLOCK_WRITE=this.CODE_WRITE+this.CHANNEL_CLOCK,this.INITIATE_NETWORK_READ=this.CODE_READ+this.CHANNEL_NETWORK,this.INITIATE_DEVICE_READ=this.CODE_READ+this.CHANNEL_DEVICE,this.INITIATE_CLOCK_READ=this.CODE_READ+this.CHANNEL_CLOCK}async#p(){for(;;){let{value:e,done:n}=await this.#c.read().catch(r=>r.toString().includes("break condition")?(_.warn(r),{value:null,done:!0}):(_.error(r),{value:null,done:!0}));if(e&&(e=e.replace(/>>>[\w\d=]*<<</g,(r,i)=>{if(r===">>>BEGIN<<<")this.#h&&this.#h(!0);else if(r===">>>END<<<")this.disconnect();else if(r===">>>READY<<<")this.disconnect(),this.#h&&this.#h(!1),this.#l&&this.#l(!1);else if(r===">>>SUCCESS<<<")this.#l&&this.#l(!0);else if(r===">>>FAIL<<<")_.warn(r),this.#l&&this.#l(!1);else if(r.match(/>>>DATA=/)){_.verbose("match",r);let s=r.match(/>>>DATA=([0123456789abcdef]*)<<</i);s&&this.#m&&this.#m(qv(s[1]))}else if(r.match(/>>>NOTIFY=/)){_.verbose("match",r);let s=r.match(/>>>NOTIFY=([0123456789abcdef]*)<<</i);s&&this.#e.process(new DataView(new Uint8Array(qv(s[1])).buffer))}return""}),e.length!==0&&this.#e.emit("receive",{target:this,payload:e})),n){this.#c.releaseLock(),_.debug("Reader done");break}}this.#i||this.disconnect()}userSelect(e){return this.#r?this.disconnect().then(()=>this.userSelect(e)):(this.#t&&(this.#t=null),navigator.serial.requestPort().then(n=>(this.#t=n,Promise.resolve({connector:this.type}))))}autoSelect(e,n,r){return this.userSelect()}selected(){return Promise.resolve(this.#t?{connector:this.type}:null)}unselect(){return this.#r?this.disconnect().then(()=>this.unselect()):(this.#t=null,Promise.resolve())}scan(e,n){return Promise.resolve("{}")}connect(e=15e3){if(e<=0)return _.debug("> Connect timeout have expired"),Promise.reject("ConnectionFailed");const n=new Date().getTime();return this.#t?this.#r?(_.warn("Serial device already connected"),Promise.resolve()):this.#t.open(this.PORT_OPTIONS).then(()=>{this.#s=!0,this.#o=this.#t.writable,this.#u=this.#t.readable;let r=new window.TextDecoderStream;return this.#f=this.#u.pipeTo(r.writable),this.#u=r.readable.pipeThrough(new window.TransformStream(new q6)),this.#c=this.#u.getReader(),this.#p(),new Promise((i,s)=>{const o=setTimeout(()=>{_.warn("Connection timeouted"),this.#h=null,s("ConnectTimeout")},e);this.#h=l=>{clearTimeout(o),this.#h=null,setTimeout(()=>{if(l)this.#r=!0,_.debug("> Serial Connector Connected"),this.#e.emit("#connected"),i({connector:this.type});else{const c=new Date().getTime()-n;i(this.connect(e-c))}},4e3)},this.#a=this.#o.getWriter(),this.#a.write(new Uint8Array(j_(`>>>START<<<
`,12))),this.#a.releaseLock()})}).catch(r=>(_.error(r),this.disconnect().then(()=>{throw r}))):Promise.reject("NotSelected")}connected(){return Promise.resolve(this.#r?{connector:this.type}:null)}async disconnect(){return _.debug("> Closing serial port..."),this.#t?this.#s?this.#i?(_.debug("Serial port already disconnecting"),Promise.resolve()):(this.#i=!0,this.#u&&(this.#c&&(await this.#c.cancel().catch(()=>{}),await this.#f.catch(()=>{}),this.#c=null),this.#u=null),this.#o&&(this.#a&&(await this.#a.close().catch(()=>{}),this.#a=null),this.#o=null),this.#t.close().then(()=>{this.#s=!1,_.debug("> Serial port closed")}).catch(e=>{_.error("Failed to close serial port. Error: "+e)}).finally(()=>{this.#i=!1,this.#r&&(this.#r=!1,this.#e.emit("#disconnected"))})):(_.debug("Serial port already closed"),Promise.resolve()):(_.debug("No Serial Port selected"),Promise.resolve())}#v(e,n,r,i){if(!r)return Promise.reject("WriteFailed");n||(n=[]);const s=new Ui(32),o=(25+n.length/this.#d)*4;return i<o&&(i=o),_.debug(`timeout=${i}`),s.writeUint32(e),s.writeUint32(n.length),s.writeUint32(i),s.writeUint32(YS(n)),s.writeUint32(YS(new Uint8Array(s.bytes.buffer))),this.#a=this.#o.getWriter(),new Promise((l,c)=>{const f=setTimeout(()=>{_.error("ResponseTimeout"),this.#l=null,this.#a&&this.#a.releaseLock(),this.disconnect(),c("ResponseTimeout")},i);return this.#l=h=>{this.#l=null,clearInterval(f),h?setTimeout(()=>{this.#a&&this.#a.releaseLock(),l()},100):(_.debug("Trying to recover..."),setTimeout(()=>{this.#a&&this.#a.releaseLock(),l(this.#v(e,n,r-1,0))},100))},this.#a.write(new Uint8Array(s.bytes.buffer)).then(()=>this.#a.write(new Uint8Array(n))).catch(h=>{_.error(h)})})}#g(e,n,r){return this.#v(this.CODE_WRITE+e,n,3,r)}#_(e,n){let r=null;return this.#m=i=>{r=new DataView(i.buffer),this.#m=null},this.#v(this.CODE_READ+e,null,3,n).then(()=>r)}#y(e,n,r,i){return this.#g(e,n,i).then(()=>r?this.#_(e,i):Promise.resolve(null))}deliver(e,n){return this.#r?e?this.#g(this.CHANNEL_NETWORK,e,n):Promise.resolve():Promise.reject("DeviceDisconnected")}transmit(e,n){return this.#r?e?this.#g(this.CHANNEL_NETWORK,e,n):Promise.resolve():Promise.reject("DeviceDisconnected")}request(e,n,r){return this.#r?e?this.#y(this.CHANNEL_DEVICE,e,n,r):Promise.resolve():Promise.reject("DeviceDisconnected")}setClock(e){return this.#r?new Promise(async(n,r)=>{for(let i=0;i<3;i++)try{await this.#g(this.CHANNEL_CLOCK,[...$h(e.millis(),8)]),_.debug("Clock write success"),n();return}catch{_.warn("Clock write failed"),await ue(1e3)}r("ClockWriteFailed")}):Promise.reject("DeviceDisconnected")}getClock(){return this.#r?new Promise(async(e,n)=>{for(let r=0;r<3;r++){await ue(1e3);try{const i=await this.#_(this.CHANNEL_CLOCK),o=new pt(i).readUint64();_.debug("Clock read success:",o),e(new _o(o));return}catch(i){_.warn("Clock read failed:",i)}}n("ClockReadFailed")}):Promise.reject("DeviceDisconnected")}updateFW(e){return this.#t?this.#n?(_.warn("Communication in proccess"),Promise.reject("UpdateFailed")):(this.#n=!0,new Promise(async(n,r)=>{this.#d=32;let s=0,o=3984,l=0;_.debug("OTA UPDATE"),_.debug(e);const c=new Date().getTime();try{this.#e.emit("ota_status","begin");{_.debug("OTA RESET");const f=[G.FLAG_OTA_RESET,0,...re(0,4)];await this.#g(this.CHANNEL_DEVICE,f)}await ue(100);{_.debug("OTA BEGIN");const f=[G.FLAG_OTA_BEGIN,0,...re(e.length,4)];await this.#g(this.CHANNEL_DEVICE,f,2e4)}for(await ue(8e3),_.debug("OTA WRITE");l<e.length;){o>e.length&&(o=e.length);const f=[G.FLAG_OTA_WRITE,0,...re(l,4),...e.slice(s,o)];await this.#g(this.CHANNEL_DEVICE,f),l+=o-s;const h=Math.floor(l*1e4/e.length)/100;_.debug(h+"%"),this.#e.emit("ota_progress",h),s+=3984,o=s+3984}await ue(100);{_.debug("OTA END");const f=[G.FLAG_OTA_END,0,...re(l,4)];await this.#g(this.CHANNEL_DEVICE,f)}await ue(2e3),_.info("Firmware written in "+(new Date().getTime()-c)/1e3+" seconds"),this.#e.emit("ota_status","success"),n()}catch(f){_.error(f),this.#e.emit("ota_status","fail"),r("UpdateFailed")}}).finally(()=>{this.#d=8,this.#n=!1})):(_.warn("Serial Port is null"),Promise.reject("UpdateFailed"))}destroy(){return this.disconnect().catch(()=>{}).then(()=>this.unselect()).catch(()=>{})}}let vm=(t=21)=>crypto.getRandomValues(new Uint8Array(t)).reduce((e,n)=>(n&=63,n<36?e+=n.toString(36):n<62?e+=(n-26).toString(36).toUpperCase():n>62?e+="-":e+="_",e),"");const JR="https://ws.host.spectoda.com/";class Q6{#e;#t;#n;#r;constructor(e){this.type="websockets",this.#e=e,this.#t=!1,this.#n=!1,this.socket=null,this.#r=null}userSelect(e){return this.#t=!0,Promise.resolve({connector:this.type})}autoSelect(e,n,r){return this.#t=!0,Promise.resolve({connector:this.type})}selected(){return Promise.resolve(this.#t?{connector:this.type}:null)}unselect(){return this.#t=!1,Promise.resolve()}scan(e,n){return Promise.resolve("{}")}connect(e){if(this.#t){if(this.#n)return Promise.resolve({connector:this.type});{const n=setTimeout(()=>{console.error("WebSockets timeout"),reject("ConnectionFailed")},e*1.5);return new Promise((r,i)=>{this.socket?this.socket.connect():(this.socket=uu(JR,{transports:["websocket"]}),window.wssocket=this.socket,_.debug(this.socket),this.socket.on("connect",s=>{_.debug("> Connected to remote control"),this.#n=!0,this.#e.emit("#connected"),clearTimeout(n),r({connector:this.type})}),this.socket.on("disconnect",()=>{_.debug("> Disconnected from remote control"),this.#n=!1,this.#e.emit("#disconnected"),clearTimeout(n),i("ConnectionFailed")}),this.socket.on("connect_error",s=>{_.error(s),this.#n=!1,clearTimeout(n),i("ConnectionFailed")}))})}}else return Promise.reject("NotSelected")}connected(){return Promise.resolve(this.#n?{connector:this.type}:null)}disconnect(){return this.#t?(this.#n&&(this.#n=!1,this.socket.disconnect()),Promise.resolve()):Promise.reject("NotSelected")}deliver(e,n){if(this.#n){const r=vm();this.socket.emit("deliver",r,e);const i=this.socket;return this.#r=new Promise((s,o)=>{const l=setTimeout(()=>f(r,"timeout"),n);function c(h,p){h===h&&(s(p),i.off("response_error",f),clearTimeout(l))}function f(h,p){h===h&&(o(p),i.off("response_success",c),clearTimeout(l))}this.socket.once("response_success",c),this.socket.once("response_error",f)}),this.#r}else return Promise.reject("Disconnected")}transmit(e,n){if(this.#n){const r=vm();this.socket.emit("transmit",r,e);const i=this.socket;return this.#r=new Promise((s,o)=>{const l=setTimeout(()=>f(r,"timeout"),n);function c(h,p){h===h&&(s(p),i.off("response_error",f),clearTimeout(l))}function f(h,p){h===h&&(o(p),i.off("response_success",c),clearTimeout(l))}this.socket.once("response_success",c),this.socket.once("response_error",f)}),this.#r}else return Promise.reject("Disconnected")}request(e,n,r){if(this.#n){const i=vm();this.socket.emit("request",i,e,n);const s=this.socket;return this.#r=new Promise((o,l)=>{const c=setTimeout(()=>h(i,"timeout"),r);function f(p,g){p===p&&(o(new DataView(new Uint8Array(g).buffer)),s.off("response_error",h),clearTimeout(c))}function h(p,g){p===p&&(l(g),s.off("response_success",f),clearTimeout(c))}this.socket.once("response_success",f),this.socket.once("response_error",h)}),this.#r}else return Promise.reject("Disconnected")}setClock(e){return Promise.reject("Not Supported")}getClock(){return this.#n?Promise.resolve(new _o(0)):Promise.reject("Disconnected")}updateFW(e){return Promise.reject("Not supported")}destroy(){return this.disconnect().catch(()=>{}).then(()=>this.unselect()).catch(()=>{})}}class J6{constructor(){if(window.flutterConnection){_.debug("FlutterConnection already inited");return}if(_.debug("Initing FlutterConnection"),window.flutterConnection={},window.flutterConnection.resolve=null,window.flutterConnection.reject=null,window.flutterConnection.emit=null,this.available())_.debug("Flutter Connector available"),window.addEventListener("#resolve",i=>{const s=i.detail.value;_.debug(`Triggered #resolve: [${s}]`),window.flutterConnection.resolve(s)}),window.addEventListener("#reject",i=>{const s=i.detail.value;_.debug(`Triggered #reject: [${s}]`),window.flutterConnection.reject(s)}),window.addEventListener("#emit",i=>{const s=i.detail.value;_.debug(`Triggered #emit: ${s}`,s),window.flutterConnection.emit(s)}),window.addEventListener("#process",i=>{const s=i.detail.value;_.debug(`Triggered #process: [${s}]`,s),window.flutterConnection.process(s)}),window.addEventListener("#network",i=>{const s=i.detail.value;_.debug(`Triggered #network: [${s}]`,s),window.flutterConnection.process(s)}),window.addEventListener("#device",i=>{const s=i.detail.value;_.debug(`Triggered #device: [${s}]`,s)}),window.addEventListener("#clock",i=>{const s=i.detail.value;_.debug(`Triggered #clock: [${s}]`,s)});else{let i=function(s){return!1};var r=i;_.debug("flutter_inappwebview in window NOT detected"),_.info("Simulating Flutter Functions");var e=!1,n=!1;window.flutter_inappwebview={},window.flutter_inappwebview.callHandler=async function(s,o,l,c,f){switch(s){case"userSelect":{if(e&&await window.flutter_inappwebview.callHandler("disconnect"),await ue(Math.random()*5e3),i()){window.flutterConnection.reject("UserCanceledSelection");return}if(i()){window.flutterConnection.reject("SelectionFailed");return}n=!0,window.flutterConnection.resolve('{"connector":"spectodaconnect"}')}break;case"autoSelect":{if(e&&await window.flutter_inappwebview.callHandler("disconnect"),await ue(Math.random()*5e3),i()){window.flutterConnection.reject("SelectionFailed");return}n=!0,window.flutterConnection.resolve('{"connector":"spectodaconnect"}')}break;case"selected":n?window.flutterConnection.resolve('{"connector":"spectodaconnect"}'):window.flutterConnection.resolve();break;case"unselect":e&&await window.flutterConnection.disconnect(),await ue(10),n=!1,window.flutterConnection.resolve();break;case"scan":{if(e&&await window.flutter_inappwebview.callHandler("disconnect"),await ue(Math.random()*5e3),i()){window.flutterConnection.reject("SelectionFailed");return}n=!0,window.flutterConnection.resolve('{"connector":"spectodaconnect"}')}break;case"connect":{if(!n){window.flutterConnection.reject("DeviceNotSelected");return}if(await ue(Math.random()*5e3),i()){window.flutterConnection.reject("ConnectionFailed");return}e=!0,window.flutterConnection.resolve('{"connector":"spectodaconnect"}'),await ue(1e3),window.flutterConnection.emit("#connected"),setTimeout(()=>{window.flutterConnection.emit("#disconnected"),e=!1},6e4)}break;case"disconnect":e&&(await ue(100),e=!1,window.flutterConnection.emit("#disconnected")),window.flutterConnection.resolve();break;case"connected":e?window.flutterConnection.resolve('{"connector":"spectodaconnect"}'):window.flutterConnection.resolve();break;case"deliver":{if(!e){window.flutterConnection.reject("DeviceDisconnected");return}if(await ue(25),i()){window.flutterConnection.reject("DeliverFailed");return}window.flutterConnection.resolve()}break;case"transmit":{if(!e){window.flutterConnection.reject("DeviceDisconnected");return}if(await ue(10),i()){window.flutterConnection.reject("TransmitFailed");return}window.flutterConnection.resolve()}break;case"request":{if(!e){window.flutterConnection.reject("DeviceDisconnected");return}if(await ue(50),i()){window.flutterConnection.reject("RequestFailed");return}window.flutterConnection.resolve([246,1,0,0,0,188,251,18,0,212,247,18,0,0])}break;case"writeClock":{if(!e){window.flutterConnection.reject("DeviceDisconnected");return}if(await ue(10),i()){window.flutterConnection.reject("ClockWriteFailed");return}window.flutterConnection.resolve()}break;case"readClock":{if(!e){window.flutterConnection.reject("DeviceDisconnected");return}if(await ue(50),i()){window.flutterConnection.reject("ClockReadFailed");return}window.flutterConnection.resolve([0,0,0,0])}break;case"updateFW":{if(!e){window.flutterConnection.reject("DeviceDisconnected");return}if(window.flutterConnection.emit("ota_status","begin"),await ue(1e4),i()){window.flutterConnection.emit("ota_status","fail"),window.flutterConnection.reject("UpdateFailed");return}for(let h=1;h<=100;h++)if(window.flutterConnection.emit("ota_progress",h),await ue(25),i()){window.flutterConnection.emit("ota_status","fail"),window.flutterConnection.reject("UpdateFailed");return}if(await ue(1e3),i()){window.flutterConnection.emit("ota_status","fail"),window.flutterConnection.reject("UpdateFailed");return}window.flutterConnection.emit("ota_status","success"),window.flutterConnection.resolve()}break;default:_.error("Unknown handler");break}}}}available(){return"flutter_inappwebview"in window}}class X6 extends J6{#e;#t;constructor(e){super(),this.type="spectodaconnect",this.#e=e,this.#t=null,window.flutterConnection.emit=n=>{this.#e.emit(n,null)},window.flutterConnection.process=n=>{this.#e.process(new DataView(new Uint8Array(n).buffer))}}#n(e,n,r){let i=setTimeout(()=>{window.flutterConnection.reject("ResponseTimeout "+r)},n);return e.finally(()=>{clearTimeout(i)})}async ping(){console.time("ping_measure");for(let e=0;e<1e3;e++)this.#t=new Promise((n,r)=>{window.flutterConnection.resolve=n,window.flutterConnection.reject=r}),window.flutterConnection.ping(),await this.#t;return console.timeEnd("ping_measure"),this.#n(this.#t,1e4,"ping")}userSelect(e,n=6e4){const r=JSON.stringify(e);return _.debug(`userSelect(criteria=${r}, timeout=${n})`),this.#t=new Promise((i,s)=>{window.flutterConnection.resolve=function(o){i(o?JSON.parse(o):null)},window.flutterConnection.reject=s}),window.flutter_inappwebview.callHandler("userSelect",r,n),this.#n(this.#t,n*2,"userSelect")}autoSelect(e,n=1e3,r=1e4){const i=JSON.stringify(e);return _.debug(`autoSelect(criteria=${i}, scan_period=${n}, timeout=${r})`),this.#t=new Promise((s,o)=>{window.flutterConnection.resolve=function(l){s(l?JSON.parse(l):null)},window.flutterConnection.reject=o}),window.flutter_inappwebview.callHandler("autoSelect",i,n,r),this.#n(this.#t,r*2,"autoSelect")}selected(){return _.debug("selected()"),this.#t=new Promise((e,n)=>{window.flutterConnection.resolve=function(r){e(r?JSON.parse(r):null)},window.flutterConnection.reject=n}),window.flutter_inappwebview.callHandler("selected"),this.#n(this.#t,1e3)}unselect(){return _.debug("unselect()"),this.#t=new Promise((e,n)=>{window.flutterConnection.resolve=e,window.flutterConnection.reject=n}),window.flutter_inappwebview.callHandler("unselect"),this.#n(this.#t,1e3,"unselect")}scan(e,n=5e3){const r=JSON.stringify(e);return _.debug(`scan(criteria=${r}, scan_period=${n})`),this.#t=new Promise((i,s)=>{window.flutterConnection.resolve=function(o){i(o?JSON.parse(o):null)},window.flutterConnection.reject=s}),window.flutter_inappwebview.callHandler("scan",r,n),this.#n(this.#t,n*2,"scan")}connect(e=1e4){return _.debug(`connect(timeout=${e})`),e<=0?Promise.reject("ConnectionTimeout"):(this.#t=new Promise((n,r)=>{window.flutterConnection.resolve=function(i){n(i?JSON.parse(i):null)},window.flutterConnection.reject=r}),window.flutter_inappwebview.callHandler("connect",e<1e3?1e3:e),this.#n(this.#t,e<5e3?1e4:e*2,"connect").then(()=>(_.debug("Sleeping for 200ms"),ue(200))))}disconnect(){return _.debug("disconnect()"),this.#t=new Promise((e,n)=>{window.flutterConnection.resolve=e,window.flutterConnection.reject=n}),window.flutter_inappwebview.callHandler("disconnect"),this.#n(this.#t,1e4,"disconnect")}connected(){return _.debug("connected()"),this.#t=new Promise((e,n)=>{window.flutterConnection.resolve=function(r){e(r?JSON.parse(r):null)},window.flutterConnection.reject=n}),window.flutter_inappwebview.callHandler("connected"),this.#n(this.#t,1e3,"connected")}deliver(e,n=5e3){return _.debug(`deliver(payload=[${e}], timeout=${n})`),this.#t=new Promise((r,i)=>{window.flutterConnection.resolve=r,window.flutterConnection.reject=i}),window.flutter_inappwebview.callHandler("deliver",e,n),this.#n(this.#t,n*1.5,"deliver")}transmit(e,n=1e3){return _.debug(`transmit(payload=[${e}], timeout=${n})`),this.#t=new Promise((r,i)=>{window.flutterConnection.resolve=r,window.flutterConnection.reject=i}),window.flutter_inappwebview.callHandler("transmit",e,n),this.#n(this.#t,n*1.5,"transmit")}request(e,n=!0,r=5e3){return _.debug(`request(payload=[${e}], read_response=${n?"true":"false"}, timeout=${r})`),this.#t=new Promise((i,s)=>{window.flutterConnection.resolve=o=>{i(new DataView(new Uint8Array(o).buffer))},window.flutterConnection.reject=s}),window.flutter_inappwebview.callHandler("request",e,n,r),this.#n(this.#t,r*1.5,"request")}setClock(e){return _.debug("setClock()"),new Promise(async(n,r)=>{for(let i=0;i<3;i++){await ue(1e3);try{this.#t=new Promise((l,c)=>{window.flutterConnection.resolve=l,window.flutterConnection.reject=c});const s=e.millis(),o=$h(s,8);window.flutter_inappwebview.callHandler("writeClock",o),await this.#n(this.#t,5e3,"writeClock"),_.debug("Clock write success:",s),n();return}catch(s){_.warn("Clock write failed: "+s)}}r("Clock write failed")})}getClock(){return _.debug("getClock()"),new Promise(async(e,n)=>{for(let r=0;r<3;r++)try{this.#t=new Promise((l,c)=>{window.flutterConnection.resolve=l,window.flutterConnection.reject=c}),window.flutter_inappwebview.callHandler("readClock");const i=await this.#n(this.#t,5e3,"readClock"),o=new pt(new DataView(new Uint8Array(i).buffer)).readUint64();_.debug("Clock read success:",o),e(new _o(o));return}catch(i){_.warn("Clock read failed:",i),await ue(1e3)}n("Clock read failed")})}updateFW(e){return _.debug(`updateFW(firmware_bytes.length=${e.length})`),this.#e.requestWakeLock(),new Promise(async(n,r)=>{const i=Lu()?480:3984;let s=0,o=i,l=0;_.info("OTA UPDATE"),_.verbose(e);const c=new Date().getTime();await ue(100);try{this.#e.emit("ota_status","begin");{_.info("OTA RESET");const h=[G.FLAG_OTA_RESET,0,...re(0,4)];await this.request(h,!1)}await ue(100);{_.info("OTA BEGIN");const h=[G.FLAG_OTA_BEGIN,0,...re(e.length,4)];await this.request(h,!1,2e4)}for(await ue(8e3),_.info("OTA WRITE");l<e.length;){o>e.length&&(o=e.length);const h=[G.FLAG_OTA_WRITE,0,...re(l,4),...e.slice(s,o)];await this.request(h,!1),l+=o-s;const p=Math.floor(l*1e4/e.length)/100;_.debug(p+"%"),this.#e.emit("ota_progress",p),s+=i,o=s+i}await ue(100);{_.info("OTA END");const h=[G.FLAG_OTA_END,0,...re(l,4)];await this.request(h,!1)}await ue(100),_.info("Rebooting device...");const f=[G.FLAG_DEVICE_REBOOT_REQUEST];await this.request(f,!1),_.debug("Firmware written in "+(new Date().getTime()-c)/1e3+" seconds"),this.#e.emit("ota_status","success"),n(null)}catch(f){this.#e.emit("ota_status","fail"),r(f)}}).then(()=>this.disconnect()).finally(()=>{this.#e.releaseWakeLock()})}destroy(){return this.disconnect().catch(()=>{}).then(()=>this.unselect()).catch(()=>{})}}const G=Object.freeze({FLAG_UNSUPPORTED_COMMND_RESPONSE:255,FLAG_OTA_BEGIN:255,FLAG_OTA_WRITE:0,FLAG_OTA_END:254,FLAG_OTA_RESET:253,FLAG_DEVICE_REBOOT_REQUEST:5,FLAG_DEVICE_DISCONNECT_REQUEST:6,FLAG_CONFIG_UPDATE_REQUEST:10,FLAG_CONFIG_UPDATE_RESPONSE:11,FLAG_PEER_CONNECTED:101,FLAG_PEER_DISCONNECTED:102,FLAG_REINTERPRET_TNGL:104,FLAG_SET_TIMELINE:105,FLAG_EMIT_EVENT:111,FLAG_EMIT_TIMESTAMP_EVENT:112,FLAG_EMIT_COLOR_EVENT:113,FLAG_EMIT_PERCENTAGE_EVENT:114,FLAG_EMIT_LABEL_EVENT:115,FLAG_WRITE_CONTROLLER_NAME_REQUEST:202,FLAG_WRITE_CONTROLLER_NAME_RESPONSE:203,FLAG_READ_CONTROLLER_NAME_REQUEST:204,FLAG_READ_CONTROLLER_NAME_RESPONSE:205,FLAG_MERGE_EVENT_HISTORY_REQUEST:206,FLAG_MERGE_EVENT_HISTORY_RESPONSE:207,FLAG_ERASE_EVENT_HISTORY_REQUEST:208,FLAG_ERASE_EVENT_HISTORY_RESPONSE:209,FLAG_REQUEST_PEER_REQUEST:210,FLAG_REQUEST_PEER_RESPONSE:211,FLAG_EVENT_HISTORY_BC_REQUEST:212,FLAG_EVENT_HISTORY_BC_RESPONSE:213,FLAG_VISIBLE_PEERS_REQUEST:214,FLAG_VISIBLE_PEERS_RESPONSE:215,FLAG_FW_UPDATE_PEER_REQUEST:216,FLAG_FW_UPDATE_PEER_RESPONSE:217,FLAG_SYNC_STATE_REQUEST:218,FLAG_SYNC_STATE_RESPONSE:219,FLAG_SAVE_STATE_REQUEST:220,FLAG_SAVE_STATE_RESPONSE:221,FLAG_SLEEP_REQUEST:222,FLAG_SLEEP_RESPONSE:223,FLAG_CONNECTED_PEERS_INFO_REQUEST:224,FLAG_CONNECTED_PEERS_INFO_RESPONSE:225,FLAG_DEVICE_CONFIG_REQUEST:226,FLAG_DEVICE_CONFIG_RESPONSE:227,FLAG_ROM_PHY_VDD33_REQUEST:228,FLAG_ROM_PHY_VDD33_RESPONSE:229,FLAG_VOLTAGE_ON_PIN_REQUEST:230,FLAG_VOLTAGE_ON_PIN_RESPONSE:231,FLAG_CHANGE_DATARATE_REQUEST:232,FLAG_CHANGE_DATARATE_RESPONSE:233,FLAG_FW_VERSION_REQUEST:234,FLAG_FW_VERSION_RESPONSE:235,FLAG_ERASE_OWNER_REQUEST:236,FLAG_ERASE_OWNER_RESPONSE:237,FLAG_TNGL_FINGERPRINT_REQUEST:242,FLAG_TNGL_FINGERPRINT_RESPONSE:243,FLAG_TIMELINE_REQUEST:244,FLAG_TIMELINE_RESPONSE:245,FLAG_CONNECT_REQUEST:238,FLAG_CONNECT_RESPONSE:239,FLAG_ADOPT_REQUEST:240,FLAG_ADOPT_RESPONSE:241});class ve{static TYPE_EXECUTE=1;static TYPE_DELIVER=2;static TYPE_TRANSMIT=3;static TYPE_USERSELECT=4;static TYPE_AUTOSELECT=5;static TYPE_SELECTED=6;static TYPE_UNSELECT=7;static TYPE_SCAN=16;static TYPE_CONNECT=8;static TYPE_CONNECTED=9;static TYPE_DISCONNECT=10;static TYPE_REQUEST=11;static TYPE_SET_CLOCK=12;static TYPE_GET_CLOCK=13;static TYPE_FIRMWARE_UPDATE=14;static TYPE_DESTROY=15;constructor(e,n=null,r=null,i=null,s=null){this.type=e,this.a=n,this.b=r,this.c=i,this.d=s,this.promise=new Promise((o,l)=>{this.reject=l,this.resolve=o})}}class Z6{#e;#t;#n;#r;#s;#i;#o;#a;#u;#c;#f;#d;#h;constructor(e){this.#e=e,this.clock=new _o(0),this.connector=null,this.#t=$_(),this.#n=null,this.#r=[],this.#s=!1,this.#i=208,this.#o=!1,this.#a=null,this.#c=!1,this.#f=new Date().getTime(),this.#d=0,this.#h=[],this.onConnected=n=>{},this.onDisconnected=n=>{},this.#t.on("ota_progress",n=>{const r=new Date().getTime(),i=r-this.lastUpdateTime;_.verbose("time_delta:",i),this.lastUpdateTime=r;const s=n-this.lastUpdatePercentage;_.verbose("percentage_delta:",s),this.lastUpdatePercentage=n;const o=100-n;_.verbose("percentage_left:",o);const l=o/s*i;_.verbose("time_left:",l),this.emit("ota_timeleft",l)}),this.#t.on("#connected",n=>{this.#l(n)}),this.#t.on("#disconnected",n=>{this.#m(n)}),Vo()&&document.querySelector("body").addEventListener("click",function(n){n.preventDefault(),function(i,s,o){i.composedPath||(i.composedPath=function(){if(this.path)return this.path;var l=this.target;for(this.path=[];l.parentNode!==null;)this.path.push(l),l=l.parentNode;return this.path.push(s,o),this.path})}(Event.prototype,document,window);const r=n.path||n.composedPath&&n.composedPath();for(let i of r)if(i.tagName==="A"&&i.getAttribute("target")==="_blank"){n.preventDefault();const s=i.getAttribute("href");_.verbose(s),_.debug("Openning external url",s),window.flutter_inappwebview.callHandler("openExternalUrl",s);break}}),window.addEventListener("beforeunload",n=>{this.destroyConnector()})}addEventListener(e,n){return this.#t.on(e,n)}on(e,n){return this.#t.on(e,n)}emit(e,...n){this.#t.emit(e,...n)}requestWakeLock(){return _.debug("> Activating wakeLock..."),Vo()?window.flutter_inappwebview.callHandler("setWakeLock",!0):Kv.enable()}releaseWakeLock(){return _.debug("> Deactivating wakeLock..."),Vo()?window.flutter_inappwebview.callHandler("setWakeLock",!1):(Kv.disable(),Promise.resolve())}assignConnector(e="default"){return e===null&&(e="none"),e==""&&(e="default"),_.info(`> Assigning ${e} connector...`),(!this.connector&&e==="none"||this.connector&&this.connector.type===e)&&_.warn("Reassigning current connector."),(e=="default"||e=="automatic")&&(Vo()?e="flutter":navigator.bluetooth?e="webbluetooth":e="none"),(this.connector?this.destroyConnector():Promise.resolve()).catch(()=>{}).then(()=>{switch(e){case"none":this.connector=null;break;case"dummy":this.connector=new mm(this,!1);break;case"vdummy":return window.prompt("Simulace FW verze dummy connecoru","VDUMMY_0.8.1_20220301","Zvolte FW verzi dummy connecoru","text",{placeholder:"DUMMY_0.0.0_00000000",regex:/^[\w\d]+_\d.\d.\d_[\d]{8}/,invalidText:"FW verze není správná",maxlength:32}).then(n=>{this.connector=new mm(this,!1,n)});case"edummy":this.connector=new mm(this,!0);break;case"webbluetooth":Lu()&&Nl()||um()&&Nl()||cm()&&Nl()||NU()&&Nl()?this.connector=new K6(this):(AU()?window.confirm(pn("Z tohoto webového prohlížeče bohužel není možné NARU ovládat. Prosím, stáhněte si aplikaci Spectoda Connect."),pn("Prohlížeč není podporován")).then(n=>{n&&window.location.replace("https://apps.apple.com/us/app/id1635118423")}):um()?window.confirm(pn("Z tohoto webového prohlížeče bohužel není možné NARU ovládat. Prosím, otevřete aplikace v prohlížeči Google Chrome."),pn("Prohlížeč není podporován")).then(n=>{n&&window.location.replace("https://www.google.com/intl/cs_CZ/chrome/")}):Lu()?window.confirm(pn("Z tohoto webového prohlížeče bohužel není možné NARU ovládat. Prosím, stáhněte si aplikaci Spectoda Connect."),pn("Prohlížeč není podporován")).then(n=>{n&&window.location.replace("https://play.google.com/store/apps/details?id=com.spectoda.spectodaconnect")}):cm()?window.confirm(pn("Z tohoto webového prohlížeče bohužel není možné NARU ovládat. Prosím, otevřete aplikace v prohlížeči Google Chrome."),pn("Prohlížeč není podporován")).then(n=>{n&&window.location.replace("https://www.google.com/intl/cs_CZ/chrome/")}):window.confirm(pn("Z tohoto webového prohlížeče bohužel nejspíš není možné NARU ovládat.")),_.error("Error: Assigning unsupported connector"),this.connector=null);break;case"webserial":Nl()?this.connector=new Y6(this):(_.error("Error: Assigning unsupported connector"),this.connector=null);break;case"flutter":Vo()||cm()||um()?this.connector=new X6(this):(_.error("Error: Assigning unsupported connector"),this.connector=null);break;case"websockets":this.connector=new Q6(this);break;default:throw _.warn("Selected unknown connector"),"UnknownConnector"}})}userSelect(e,n=6e5){if(n<1e3)return _.error("Timeout is too short."),Promise.reject("InvalidTimeout");if(this.#o)return Promise.reject("SelectingInProgress");this.#o=!0,e===null?e=[]:Array.isArray(e)||(e=[e]),_.debug(`userSelect(criteria=${JSON.stringify(e)}, timeout=${n}`);const r=new ve(ve.TYPE_USERSELECT,e,n);return this.#p(r),r.promise.finally(()=>{this.#o=!1})}autoSelect(e,n=4e3,r=1e4){if(r<1e3)return _.error("Timeout is too short."),Promise.reject("InvalidTimeout");if(this.#o)return Promise.reject("SelectingInProgress");this.#o=!0,e===null?e=[]:Array.isArray(e)||(e=[e]),_.debug(`autoSelect(criteria=${JSON.stringify(e)}, scan_period=${n}, timeout=${r}`);const i=new ve(ve.TYPE_AUTOSELECT,e,n,r);return this.#p(i),i.promise.finally(()=>{this.#o=!1})}unselect(){const e=new ve(ve.TYPE_UNSELECT);return this.#p(e),e.promise}selected(){const e=new ve(ve.TYPE_SELECTED);return this.#p(e),e.promise}scan(e,n=5e3){if(n<1e3)return _.error("Scan period is too short."),Promise.reject("InvalidScanPeriod");if(this.#o)return Promise.reject("SelectingInProgress");this.#o=!0,e===null?e=[]:Array.isArray(e)||(e=[e]);const r=new ve(ve.TYPE_SCAN,e,n);return this.#p(r),r.promise.finally(()=>{this.#o=!1})}connect(e=1e4,n=!1){if(e<1e3)return _.error("Timeout is too short."),Promise.reject("InvalidTimeout");const r=new ve(ve.TYPE_CONNECT,e,n);return this.#p(r),r.promise}#l=e=>{if(this.#c){_.error("Connecting logic error. #connected called when already connected?"),_.warn("Ignoring the #connected event");return}this.#c=!0,this.onConnected(e)};eraseConnectedPeers(){this.#h=[]}setConnectedPeers(e){this.#h=e}disconnect(){const e=new ve(ve.TYPE_DISCONNECT);return this.#p(e),e.promise}#m=e=>{if(!this.#c){_.error("Connecting logic error. #disconnected called when already disconnected?"),_.warn("Ignoring the #disconnected event");return}this.#c=!1,this.onDisconnected(e),this.#a&&this.#a.resolve()};connected(){const e=new ve(ve.TYPE_CONNECTED);return this.#p(e),e.promise}execute(e,n,r=5e3){if(r<100)return _.error("Timeout is too short."),Promise.reject("InvalidTimeout");_.verbose("execute",{bytes:e,bytes_label:n,timeout:r});const i=new ve(ve.TYPE_EXECUTE,e,n,r);if(i.b){for(let s=0;s<this.#r.length;s++)if(this.#r[s].type===ve.TYPE_EXECUTE&&this.#r[s].b===i.b){this.#r[s].resolve(),this.#r.splice(s,1);break}}return this.#p(i),i.promise}request(e,n=!0,r=5e3){if(r<100)return _.error("Timeout is too short."),Promise.reject("InvalidTimeout");_.verbose("request",{bytes:e,read_response:n,timeout:r});const i=new ve(ve.TYPE_REQUEST,e,n,r);return this.#p(i),i.promise}syncClock(){const e=new ve(ve.TYPE_GET_CLOCK,this.clock);for(let n=0;n<this.#r.length;n++)if(this.#r[n].type===ve.TYPE_GET_CLOCK){this.#r[n].reject("MultipleClockReads"),this.#r.splice(n,1);break}return this.#p(e),e.promise.then(n=>{_.debug(`Clock synchronized at time=${n.millis()}ms`),this.clock=n})}updateFW(e){const n=new ve(ve.TYPE_FIRMWARE_UPDATE,e);for(let r=0;r<this.#r.length;r++)if(this.#r[r].type===ve.TYPE_FIRMWARE_UPDATE){this.#r[r].reject("Multiple FW Updates"),this.#r.splice(r,1);break}return this.#p(n),n.promise}destroyConnector(){const e=new ve(ve.TYPE_DESTROY);for(let n=0;n<this.#r.length;n++)if(this.#r[n].type===ve.TYPE_DESTROY){this.#r[n].reject("Multiple Connector destroy()"),this.#r.splice(n,1);break}return this.#p(e),e.promise}#p(e){e&&this.#r.push(e),this.#s||(this.#s=!0,(async()=>{await ue(.001);try{for(;this.#r.length>0;){const n=this.#r.shift();if(this.connector===null||this.connector===void 0){_.warn("Trying to do something while connector is not assigned"),n.reject("ConnectorNotAssigned");continue}switch(n.type){case ve.TYPE_USERSELECT:await this.connector.userSelect(n.a,n.b).then(c=>{n.resolve(c)}).catch(c=>{n.reject(c)});break;case ve.TYPE_AUTOSELECT:await this.connector.autoSelect(n.a,n.b,n.c).then(c=>{n.resolve(c)}).catch(c=>{n.reject(c)});break;case ve.TYPE_SELECTED:await this.connector.selected().then(c=>{n.resolve(c)}).catch(c=>{n.reject(c)});break;case ve.TYPE_UNSELECT:await this.connector.unselect().then(()=>{n.resolve()}).catch(c=>{n.reject(c)});break;case ve.TYPE_SCAN:await this.connector.scan(n.a,n.b).then(c=>{n.resolve(c)}).catch(c=>{n.reject(c)});break;case ve.TYPE_CONNECT:_.verbose("TYPE_CONNECT begin"),await this.connector.connect(n.a,n.b).then(c=>(this.#c||(_.error("Connection logic error. #connected not called during successful connect()?"),_.warn("Emitting #connected"),this.#t.emit("#connected")),this.connector.getClock().then(f=>{this.clock=f,n.resolve(c)}).catch(f=>{_.error(f),this.clock=null,n.resolve(c)}))).catch(c=>{this.disconnect(),n.reject(c)});break;case ve.TYPE_CONNECTED:await this.connector.connected().then(c=>{n.resolve(c)}).catch(c=>{n.reject(c)});break;case ve.TYPE_DISCONNECT:this.#a=new ve,await this.connector.disconnect().then(this.#a.promise).then(()=>{this.#a=null,n.resolve()}).catch(c=>{n.reject(c)});break;case ve.TYPE_EXECUTE:let r=new Uint8Array(65535),i=0;const s=n.c;r.set(n.a,i),i+=n.a.length;let o=[n];for(;this.#r.length&&this.#r[0].type==ve.TYPE_EXECUTE;){const c=this.#r.shift();if(i+c.a.length<=this.#i)r.set(c.a,i),i+=c.a.length,o.push(c);else{this.#r.unshift(c);break}}const l=r.slice(0,i);_.debug("EXECUTE",qS(l)),this.emit("wasm_execute",l),await this.connector.deliver(l,s).then(()=>{try{this.process(new DataView(l.buffer))}catch(c){_.error(c)}o.forEach(c=>c.resolve())}).catch(c=>{o.forEach(f=>f.reject(c))});break;case ve.TYPE_REQUEST:_.debug("REQUEST",qS(n.a)),this.emit("wasm_request",n.a),await this.connector.request(n.a,n.b,n.c).then(c=>{n.resolve(c)}).catch(c=>{_.warn(c),n.reject(c)});break;case ve.TYPE_SET_CLOCK:this.emit("wasm_clock",n.a.millis()),await this.connector.setClock(n.a).then(c=>{n.resolve(c)}).catch(c=>{n.reject(c)});break;case ve.TYPE_GET_CLOCK:await this.connector.getClock().then(c=>{this.emit("wasm_clock",c.millis()),n.resolve(c)}).catch(c=>{n.reject(c)});break;case ve.TYPE_FIRMWARE_UPDATE:try{await this.requestWakeLock()}catch{}await this.connector.updateFW(n.a).then(c=>{n.resolve(c)}).catch(c=>{n.reject(c)}).finally(()=>{this.releaseWakeLock()});break;case ve.TYPE_DESTROY:await this.connector.request([G.FLAG_DEVICE_DISCONNECT_REQUEST],!1).catch(()=>{}).then(()=>this.connector.disconnect()).then(()=>this.connector.destroy()).then(()=>{this.connector=null,n.resolve()}).catch(c=>{this.connector=null,n.reject(c)});break;default:break}}}catch(n){_.error(n)}finally{this.#s=!1}})())}process(e){this.emit("wasm_execute",new Uint8Array(e.buffer));let n=new pt(e),r=new Date().getTime();_.verbose(n);let i=[];for(;n.available>0;)switch(n.peekFlag()){case G.FLAG_REINTERPRET_TNGL:{_.verbose("FLAG_REINTERPRET_TNGL"),n.readFlag(),n.readUint48(),n.readUint8();const s=n.readUint32();n.forward(s),_.verbose(`tngl_size=${s}`)}break;case G.FLAG_EMIT_EVENT:case G.FLAG_EMIT_TIMESTAMP_EVENT:case G.FLAG_EMIT_COLOR_EVENT:case G.FLAG_EMIT_PERCENTAGE_EVENT:case G.FLAG_EMIT_LABEL_EVENT:{let s=null,o="unknown",l="",c="";switch(n.readFlag()){case G.FLAG_EMIT_EVENT:_.verbose("FLAG_EVENT"),s=null,o="none";break;case G.FLAG_EMIT_TIMESTAMP_EVENT:_.verbose("FLAG_TIMESTAMP_EVENT"),s=n.readInt32(),o="timestamp",c="ms";break;case G.FLAG_EMIT_COLOR_EVENT:_.verbose("FLAG_COLOR_EVENT");const g=n.readBytes(3);s=BU(g[0],g[1],g[2]),o="color";break;case G.FLAG_EMIT_PERCENTAGE_EVENT:_.verbose("FLAG_PERCENTAGE_EVENT"),s=Math.round(Oa(n.readInt32(),-268435455,268435455,-100,100)*1e6)/1e6,o="percentage",c="%";break;case G.FLAG_EMIT_LABEL_EVENT:_.verbose("FLAG_LABEL_EVENT"),s=String.fromCharCode(...n.readBytes(5)).match(/[\w\d_]*/g)[0],o="label",l="$";break}_.verbose(`event_value = ${s}`);const f=String.fromCharCode(...n.readBytes(5)).match(/[\w\d_]*/g)[0];_.verbose(`event_label = ${f}`);const h=n.readUint48();_.verbose(`event_timestamp = ${h} ms`);const p=n.readUint8();_.verbose(`event_device_id = ${p}`),i.unshift({type:o,value:s,label:f,timestamp:h,id:p,timestamp_utc:r--,info:`${p.toString().padStart(3)} -> $${f}: ${l+s+c} [${h}ms]`})}break;case G.FLAG_SET_TIMELINE:{_.verbose("FLAG_SET_TIMELINE"),n.readFlag();const s=1<<4,o=n.readUint48(),l=n.readInt32(),c=n.readUint8();_.verbose(`clock_timestamp = ${o} ms`),_.verbose(`timeline_timestamp = ${l} ms`),_.verbose(`timeline_flags = ${c}`);const f=!!(c&s);if(_.verbose(`timeline_paused = ${f?"true":"false"}`),f)this.#e.timeline.pause(),this.#e.timeline.setMillis(l);else{const h=this.clock.millis()-o,p=l+h;this.#e.timeline.unpause(),this.#e.timeline.setMillis(p)}}break;case G.FLAG_PEER_CONNECTED:{_.verbose("FLAG_PEER_CONNECTED"),n.readFlag();const s=n.readBytes(6).map(o=>o.toString(16).padStart(2,"0")).join(":");this.#h.includes(s)===!1&&(this.#h.push(s),this.#t.emit("peer_connected",s))}break;case G.FLAG_PEER_DISCONNECTED:{_.verbose("FLAG_PEER_DISCONNECTED"),n.readFlag();const s=n.readBytes(6).map(o=>o.toString(16).padStart(2,"0")).join(":");this.#t.emit("peer_disconnected",s)}break;case G.FLAG_OTA_BEGIN:_.verbose("FLAG_OTA_BEGIN"),n.readFlag(),n.readUint8(),n.readUint32();break;case G.FLAG_OTA_WRITE:_.verbose("FLAG_OTA_WRITE"),n.readFlag(),n.readUint8(),n.readUint32(),n.forward(n.available);break;case G.FLAG_OTA_END:_.verbose("FLAG_OTA_END"),n.readFlag(),n.readUint8(),n.readUint32();break;case G.FLAG_OTA_RESET:_.verbose("FLAG_OTA_RESET"),n.readFlag(),n.readUint8(),n.readUint32();break;default:_.error(`ERROR flag=${n.readFlag()}, available=${n.available}`),n.forward(n.available);break}if(i.length){this.emit("emitted_events",i);const s=i.map(o=>o.info);_.info(s.join(`
`))}}}const eB=0,tB=16384,nB=32768,Df=Object.freeze({MODIFIER_SWITCH_NONE:0,MODIFIER_SWITCH_RG:1,MODIFIER_SWITCH_GB:2,MODIFIER_SWITCH_BR:3}),H=Object.freeze({NONE:0,DRAWING_SET:1,DRAWING_ADD:2,DRAWING_SUB:3,DRAWING_SCALE:4,DRAWING_FILTER:5,LAYER_SET:6,LAYER_ADD:7,LAYER_SUB:8,LAYER_SCALE:9,LAYER_FILTER:10,SCOPE:11,CLIP:12,SIFTER_DEVICE:13,SIFTER_SEGMENT:14,SIFTER_CANVAS:15,INTERACTIVE:16,EVENT_CATCHER:17,DECLARE_VALUE_ADDRESS:18,DEFINE_DEVICE:24,DEFINE_SEGMENT:25,DEFINE_CANVAS:26,DEFINE_MARKS:27,DEFINE_EMITTER:28,DEFINE_ANIMATION:29,ANIMATION_NONE:32,ANIMATION_FILL:33,ANIMATION_RAINBOW:34,ANIMATION_FADE:35,ANIMATION_PROJECTILE:36,ANIMATION_LOADING:37,ANIMATION_COLOR_ROLL:38,ANIMATION_COLOR_GRADIENT3:39,ANIMATION_COLOR_GRADIENT5:40,ANIMATION_COLOR_GRADIENT2:41,ANIMATION_COLOR_GRADIENT4:42,ANIMATION_INL_ANI:126,ANIMATION_DEFINED:127,MODIFIER_BRIGHTNESS:128,MODIFIER_TIMELINE:129,MODIFIER_FADE_IN:130,MODIFIER_FADE_OUT:131,MODIFIER_SWITCH_COLORS:132,MODIFIER_TIME_LOOP:133,MODIFIER_TIME_SCALE:134,MODIFIER_TIME_SCALE_SMOOTHED:135,MODIFIER_TIME_CHANGE:136,MODIFIER_TIME_SET:137,GENERATOR_LAST_EVENT_VALUE:144,GENERATOR_SMOOTHOUT:145,GENERATOR_LAG_VALUE:146,GENERATOR_SINE:150,GENERATOR_SAW:151,GENERATOR_TRIANGLE:152,GENERATOR_SQUARE:153,GENERATOR_PERLIN_NOISE:154,VALUE_READ_ADDRESS:160,VALUE_ADD:161,VALUE_SUB:162,VALUE_MUL:163,VALUE_DIV:164,VALUE_MOD:165,VALUE_SCALE:166,VALUE_MAP:167,DEVICE:176,SEGMENT:177,SLICE:178,PORT:179,CANVAS:180,MARKS:181,ID:182,EVENT_SET_VALUE:184,EVENT_EMIT_LOCAL:185,EVENT_RANDOM_CHOICE:186,VALUE_ADDRESS:187,TIMESTAMP:188,COLOR:189,PERCENTAGE:190,LABEL:191,PIXELS:192,TUPLE:193,TIMESTAMP_ZERO:194,TIMESTAMP_MAX:195,TIMESTAMP_MIN:196,COLOR_WHITE:197,COLOR_BLACK:198,CONST_PERCENTAGE_ZERO:199,CONST_PERCENTAGE_MAX:200,CONST_PERCENTAGE_MIN:201,END_OF_SCOPE:254,END_OF_TNGL_BYTES:255}),Oe=Object.freeze({OPERATION_BOOLEAN:1,OPERATION_INTEGER:2,OPERATION_PERCENTAGE:3,OPERATION_PULSE:4,OPERATION_AND:5,OPERATION_COMPARATOR_EQUAL:6,OPERATION_COMPARATOR_GREATER:7,OPERATION_COMPARATOR_LESS:8,OPERATION_COUNTER:9,OPERATION_DELAY_STACK:10,OPERATION_DELAY_OVERWRITE:11,OPERATION_OR:12,OPERATION_REPEATER:13,OPERATION_XOR:14,OPERATION_NEGATE:15,OPERATION_EVENT_RELAY:16,OPERATION_EVENT_TOGGLE:17,OPERATION_IF:18,OPERATION_EVENT_VOID:19,OPERATION_EVENT_STEPPER:20,OPERATION_MODULO:21,OPERATION_EVENT_SET:22,PROVIDER_PROXIMITY:151,PROVIDER_BUTTON:152,PROVIDER_TOUCH:153,PROVIDER_VOLTAGE:154,PROVIDER_PIR:155,PROVIDER_SLIDER:156,PROVIDER_SONOFF_ULTIMATE:157,PROVIDER_NETWORKSYNC:158,PROVIDER_AMBIENT_LIGHT:159,PROVIDER_LUXV30B:160,PROVIDER_VEML7700:161,OPERATION_CONNECTION:253});class rB{#e;#t;#n;#r;#s;#i;constructor(){this.#e=new Ui,this.#t=[],this.#n=[],this.#r=[],this.#s=[],this.#i=[]}reset(){this.#t.length=0,this.#n.length=0,this.#r.length=0,this.#s.length=0,this.#i.length=0}compileUndefined(){this.#e.writeUint8(H.NONE)}compileFlag(e){this.#e.writeUint8(e)}compileByte(e){let n=e.match(/0x([0-9a-f][0-9a-f])(?![0-9a-f])/i);if(!n){_.error("Failed to compile a byte");return}this.#e.writeUint8(parseInt(n[1],16))}compileChar(e){let n=e.match(/(-?)'([\W\w])'/);if(!n){_.error("Failed to compile char");return}n[1]==="-"?this.#e.writeUint8(-n[2].charCodeAt(0)):this.#e.writeUint8(n[2].charCodeAt(0))}compileString(e){if(!e.match(/"([\w ]*)"/)){_.error("Failed to compile a string");return}for(let r=0;r<e.length;r++)this.#e.writeUint8(e.charCodeAt(r));this.#e.writeFlag(H.NONE)}compileInfinity(e){let n=e.match(/([+-]?Infinity)/);if(!n){_.error("Failed to compile a infinity");return}n[1]==="Infinity"||n[1]==="+Infinity"?this.#e.writeFlag(H.TIMESTAMP_MAX):n[1]==="-Infinity"?this.#e.writeFlag(H.TIMESTAMP_MIN):_.error("Error while compiling infinity")}compileValueAddress(e){_.verbose(`compileValueAddress(${e})`);let n=e.match(/&([a-z_][\w]*)/i);if(!n){_.error("Failed to compile variable address");return}const r=n[1];let i;for(let s=this.#t.length-1;s>=0;s--){const o=this.#t[s];if(o.name===r){i=o.address;break}}for(let s=this.#r.length-1;s>=0;s--){const o=this.#r[s];if(o.name===r){i=o.address;break}}for(let s=this.#i.length-1;s>=0;s--){const o=this.#i[s];if(o.name===r){i=o.address;break}}if(i===void 0)throw console.error(`Variable ${r} is not declated`),"CompilationError";_.verbose(`VALUE_ADDRESS name=${r}, address=${i}`),this.#e.writeFlag(H.VALUE_ADDRESS),this.#e.writeUint16(i)}compileTimestamp(e){if(!e){this.#e.writeFlag(H.TIMESTAMP_ZERO);return}if(e=e.trim(),e=="inf"||e=="Inf"||e=="infinity"||e=="Infinity"){this.#e.writeFlag(H.TIMESTAMP_MAX);return}if(e=="-inf"||e=="-Inf"||e=="-infinity"||e=="-Infinity"){this.#e.writeFlag(H.TIMESTAMP_MIN);return}isNaN(e)||(e+="s");let n=e.match(/([+-]?[0-9]+[.]?[0-9]*|[.][0-9]+)\s*d/gi),r=e.match(/([+-]?[0-9]+[.]?[0-9]*|[.][0-9]+)\s*h/gi),i=e.match(/([+-]?[0-9]+[.]?[0-9]*|[.][0-9]+)\s*m(?!s)/gi),s=e.match(/([+-]?[0-9]+[.]?[0-9]*|[.][0-9]+)\s*s/gi),o=e.match(/([+-]?[0-9]+[.]?[0-9]*|[.][0-9]+)\s*(t|ms)/gi),l=0;for(;n&&n.length;){let c=parseFloat(n[0]);l+=c*864e5,n.shift()}for(;r&&r.length;){let c=parseFloat(r[0]);l+=c*36e5,r.shift()}for(;i&&i.length;){let c=parseFloat(i[0]);l+=c*6e4,i.shift()}for(;s&&s.length;){let c=parseFloat(s[0]);l+=c*1e3,s.shift()}for(;o&&o.length;){let c=parseFloat(o[0]);l+=c,o.shift()}if(l>=2147483647){this.#e.writeFlag(H.TIMESTAMP_MAX);return}else if(l<=-2147483648){this.#e.writeFlag(H.TIMESTAMP_MIN);return}else if(l===0){this.#e.writeFlag(H.TIMESTAMP_ZERO);return}else{this.#e.writeFlag(H.TIMESTAMP),this.#e.writeInt32(l);return}}compileColor(e){let n=e.match(/#([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])/i);if(!n){_.error("Failed to compile color");return}let r=parseInt(n[1],16),i=parseInt(n[2],16),s=parseInt(n[3],16);r===255&&i===255&&s===255?this.#e.writeFlag(H.COLOR_WHITE):r===0&&i===0&&s===0?this.#e.writeFlag(H.COLOR_BLACK):(this.#e.writeFlag(H.COLOR),this.#e.writeUint8(r),this.#e.writeUint8(i),this.#e.writeUint8(s))}compilePercentage(e){let n=e.match(/([+-]?[\d.]+)%/);if(!n){_.error("Failed to compile percentage");return}let r=parseFloat(n[1]);r>100&&(r=100),r<-100&&(r=-100);const i=268435455,s=-268435455,o=(100- -100)/2**28;if(r>-o&&r<o)this.#e.writeFlag(H.CONST_PERCENTAGE_ZERO);else if(r>100-o)this.#e.writeFlag(H.CONST_PERCENTAGE_MAX);else if(r<-100+o)this.#e.writeFlag(H.CONST_PERCENTAGE_MIN);else{const l=Oa(r,-100,100,s,i);this.#e.writeFlag(H.PERCENTAGE),this.#e.writeInt32(parseInt(l))}}compileLabel(e){let n=e.match(/\$([\w]*)/);if(!n){_.error("Failed to compile a label");return}this.#e.writeFlag(H.LABEL);for(let r=0;r<5;r++)this.#e.writeUint8(n[1].charCodeAt(r))}compilePixels(e){let n=e.match(/(-?[\d]+)px/);if(!n){_.error("Failed to compile pixels");return}let r=parseInt(n[1]);this.#e.writeFlag(H.PIXELS),this.#e.writeInt16(r)}compileConstDeclaration(e){_.verbose(`compileConstDeclaration("${e}")`);let n=e.match(/const +([A-Za-z_][\w]*) *=/);if(!n){_.error("Failed to compile const declaration");return}const r=n[1],i=tB+this.#t.length+1;this.#t.push({name:r,address:i}),_.debug(`DECLARE_VALUE_ADDRESS name=${r} address=${i}`),this.#e.writeFlag(H.DECLARE_VALUE_ADDRESS),this.#e.writeUint16(i)}compileLetDeclaration(e){_.verbose(`compileLetDeclaration(${e})`);let n=e.match(/let +([A-Za-z_][\w]*) *=/);if(!n){_.error("Failed to compile let declaration");return}const r=n[1],i=nB+this.#r.length+1;this.#r.push({name:r,address:i}),_.debug(`DECLARE_VALUE_ADDRESS name=${r} address=${i}`),this.#e.writeFlag(H.DECLARE_VALUE_ADDRESS),this.#e.writeUint16(i)}compileVarDeclaration(e){_.verbose(`compileVarDeclaration(${e})`);let n=e.match(/var +([A-Za-z_][\w]*) *=/);if(!n){_.error("Failed to compile var declaration");return}const r=n[1],i=eB+this.#i.length+1;this.#i.push({name:r,address:i}),_.debug(`DECLARE_VALUE_ADDRESS name=${r} address=${i}`),this.#e.writeFlag(H.DECLARE_VALUE_ADDRESS),this.#e.writeUint16(i)}compileWord(e){switch(e){case"setDrawing":this.#e.writeFlag(H.DRAWING_SET);break;case"addDrawing":this.#e.writeFlag(H.DRAWING_ADD);break;case"subDrawing":this.#e.writeFlag(H.DRAWING_SUB);break;case"scaDrawing":this.#e.writeFlag(H.DRAWING_SCALE);break;case"filDrawing":this.#e.writeFlag(H.DRAWING_FILTER);break;case"setLayer":this.#e.writeFlag(H.LAYER_SET);break;case"addLayer":this.#e.writeFlag(H.LAYER_ADD);break;case"subLayer":this.#e.writeFlag(H.LAYER_SUB);break;case"scaLayer":this.#e.writeFlag(H.LAYER_SCALE);break;case"filLayer":this.#e.writeFlag(H.LAYER_FILTER);break;case"scope":this.#e.writeFlag(H.SCOPE);break;case"animation":this.#e.writeFlag(H.ANIMATION_DEFINED);break;case"animNone":this.#e.writeFlag(H.ANIMATION_NONE);break;case"animFill":this.#e.writeFlag(H.ANIMATION_FILL);break;case"animRainbow":this.#e.writeFlag(H.ANIMATION_RAINBOW);break;case"animPlasmaShot":this.#e.writeFlag(H.ANIMATION_PROJECTILE);break;case"animLoadingBar":this.#e.writeFlag(H.ANIMATION_LOADING);break;case"animFade":this.#e.writeFlag(H.ANIMATION_FADE);break;case"animColorRoll":this.#e.writeFlag(H.ANIMATION_COLOR_ROLL);break;case"animColorGradient2":this.#e.writeFlag(H.ANIMATION_COLOR_GRADIENT2);break;case"animColorGradient3":this.#e.writeFlag(H.ANIMATION_COLOR_GRADIENT3);break;case"animColorGradient4":this.#e.writeFlag(H.ANIMATION_COLOR_GRADIENT4);break;case"animColorGradient5":this.#e.writeFlag(H.ANIMATION_COLOR_GRADIENT5);break;case"interactive":this.#e.writeFlag(H.INTERACTIVE);break;case"clip":this.#e.writeFlag(H.CLIP);break;case"defAnimation":this.#e.writeFlag(H.DEFINE_ANIMATION);break;case"defDevice":this.#e.writeFlag(H.DEFINE_DEVICE);break;case"defSegment":this.#e.writeFlag(H.DEFINE_SEGMENT);break;case"defCanvas":this.#e.writeFlag(H.DEFINE_CANVAS);break;case"defMarks":this.#e.writeFlag(H.DEFINE_MARKS);break;case"siftSegments":this.#e.writeFlag(H.SIFTER_SEGMENT);break;case"siftCanvases":this.#e.writeFlag(H.SIFTER_CANVAS);break;case"device":this.#e.writeFlag(H.DEVICE);break;case"segment":this.#e.writeFlag(H.SEGMENT);break;case"slice":this.#e.writeFlag(H.SLICE);break;case"port":this.#e.writeFlag(H.PORT);break;case"canvas":this.#e.writeFlag(H.CANVAS);break;case"marks":this.#e.writeFlag(H.MARKS);break;case"id":this.#e.writeFlag(H.ID);break;case"modifyBrightness":this.#e.writeFlag(H.MODIFIER_BRIGHTNESS);break;case"modifyTimeline":this.#e.writeFlag(H.MODIFIER_TIMELINE);break;case"modifyFadeIn":this.#e.writeFlag(H.MODIFIER_FADE_IN);break;case"modifyFadeOut":this.#e.writeFlag(H.MODIFIER_FADE_OUT);break;case"modifyColorSwitch":this.#e.writeFlag(H.MODIFIER_SWITCH_COLORS);break;case"modifyTimeLoop":this.#e.writeFlag(H.MODIFIER_TIME_LOOP);break;case"modifyTimeScale":this.#e.writeFlag(H.MODIFIER_TIME_SCALE);break;case"modifyTimeScaleSmoothed":this.#e.writeFlag(H.MODIFIER_TIME_SCALE_SMOOTHED);break;case"modifyTimeChange":this.#e.writeFlag(H.MODIFIER_TIME_CHANGE);break;case"modifyTimeSet":this.#e.writeFlag(H.MODIFIER_TIME_SET);break;case"catchEvent":this.#e.writeFlag(H.EVENT_CATCHER);break;case"setValue":this.#e.writeFlag(H.EVENT_SET_VALUE);break;case"emitAs":this.#e.writeFlag(H.EVENT_EMIT_LOCAL);break;case"randomChoice":this.#e.writeFlag(H.EVENT_RANDOM_CHOICE);break;case"genLastEventParam":this.#e.writeFlag(H.GENERATOR_LAST_EVENT_VALUE);break;case"genSine":this.#e.writeFlag(H.GENERATOR_SINE);break;case"genSaw":this.#e.writeFlag(H.GENERATOR_SAW);break;case"genTriangle":this.#e.writeFlag(H.GENERATOR_TRIANGLE);break;case"genSquare":this.#e.writeFlag(H.GENERATOR_SQUARE);break;case"genPerlinNoise":this.#e.writeFlag(H.GENERATOR_PERLIN_NOISE);break;case"genSmoothOut":this.#e.writeFlag(H.GENERATOR_SMOOTHOUT);break;case"genLagValue":this.#e.writeFlag(H.GENERATOR_LAG_VALUE);break;case"addValues":this.#e.writeFlag(H.VALUE_ADD);break;case"subValues":this.#e.writeFlag(H.VALUE_SUB);break;case"mulValues":this.#e.writeFlag(H.VALUE_MUL);break;case"divValues":this.#e.writeFlag(H.VALUE_DIV);break;case"modValues":this.#e.writeFlag(H.VALUE_MOD);break;case"scaValue":this.#e.writeFlag(H.VALUE_SCALE);break;case"mapValue":this.#e.writeFlag(H.VALUE_MAP);break;case"true":this.#e.writeUint8(1);break;case"false":this.#e.writeUint8(0);break;case"MODIFIER_SWITCH_NONE":this.#e.writeUint8(Df.MODIFIER_SWITCH_NONE);break;case"MODIFIER_SWITCH_RG":case"MODIFIER_SWITCH_GR":this.#e.writeUint8(Df.MODIFIER_SWITCH_RG);break;case"MODIFIER_SWITCH_GB":case"MODIFIER_SWITCH_BG":this.#e.writeUint8(Df.MODIFIER_SWITCH_GB);break;case"MODIFIER_SWITCH_BR":case"MODIFIER_SWITCH_RB":this.#e.writeUint8(Df.MODIFIER_SWITCH_BR);break;case"TouchProvider":this.#e.writeFlag(Oe.PROVIDER_TOUCH);break;case"ButtonProvider":this.#e.writeFlag(Oe.PROVIDER_BUTTON);break;case"ProximityProvider":this.#e.writeFlag(Oe.PROVIDER_PROXIMITY);break;case"Boolean":this.#e.writeFlag(Oe.OPERATION_BOOLEAN);break;case"Integer":this.#e.writeFlag(Oe.OPERATION_INTEGER);break;case"Percentage":this.#e.writeFlag(Oe.OPERATION_PERCENTAGE);break;case"Pulse":this.#e.writeFlag(Oe.OPERATION_PULSE);break;case"And":this.#e.writeFlag(Oe.OPERATION_AND);break;case"ComparatorEqual":this.#e.writeFlag(Oe.OPERATION_COMPARATOR_EQUAL);break;case"ComparatorGreater":this.#e.writeFlag(Oe.OPERATION_COMPARATOR_GREATER);break;case"ComparatorLess":this.#e.writeFlag(Oe.OPERATION_COMPARATOR_LESS);break;case"Counter":this.#e.writeFlag(Oe.OPERATION_COUNTER);break;case"DelayStack":this.#e.writeFlag(Oe.OPERATION_DELAY_STACK);break;case"DelayOverwrite":this.#e.writeFlag(Oe.OPERATION_DELAY_OVERWRITE);break;case"Or":this.#e.writeFlag(Oe.OPERATION_OR);break;case"Repeater":this.#e.writeFlag(Oe.OPERATION_REPEATER);break;case"Xor":this.#e.writeFlag(Oe.OPERATION_XOR);break;case"Negate":this.#e.writeFlag(Oe.OPERATION_NEGATE);break;case"EventRelay":this.#e.writeFlag(Oe.OPERATION_EVENT_RELAY);break;case"EventToggle":this.#e.writeFlag(Oe.OPERATION_EVENT_TOGGLE);break;case"If":this.#e.writeFlag(Oe.OPERATION_IF);break;case"VoltageProvider":this.#e.writeFlag(Oe.PROVIDER_VOLTAGE);break;case"PIRProvider":this.#e.writeFlag(Oe.PROVIDER_PIR);break;case"SliderProvider":this.#e.writeFlag(Oe.PROVIDER_SLIDER);break;case"EventVoid":this.#e.writeFlag(Oe.OPERATION_EVENT_VOID);break;case"EventStepper":this.#e.writeFlag(Oe.OPERATION_EVENT_STEPPER);break;case"Modulo":this.#e.writeFlag(Oe.OPERATION_MODULO);break;case"SonoffUltimateProvider":this.#e.writeFlag(Oe.PROVIDER_SONOFF_ULTIMATE);break;case"EventSet":this.#e.writeFlag(Oe.OPERATION_EVENT_SET);break;case"NetworkSyncProvider":this.#e.writeFlag(Oe.PROVIDER_NETWORKSYNC);break;case"AmbientLightProvider":this.#e.writeFlag(Oe.PROVIDER_AMBIENT_LIGHT);break;case"LUXv30BProvider":this.#e.writeFlag(Oe.PROVIDER_LUXV30B);break;case"VEML7700Provider":this.#e.writeFlag(Oe.PROVIDER_VEML7700);break;default:let n;for(let r=this.#i.length-1;r>=0;r--){const i=this.#i[r];if(i.name===e){n=i.address;break}}if(n!==void 0){_.debug(`VALUE_READ_ADDRESS name=${e}, address=${n}`),this.#e.writeFlag(H.VALUE_READ_ADDRESS),this.#e.writeUint16(n);break}_.warn("Unknown word >",e,"<");break}}compilePunctuation(e){switch(e){case"{":this.#n.push(this.#t.length),this.#s.push(this.#r.length);break;case"}":const n=this.#n.pop();this.#t.length=n;const r=this.#s.pop();this.#r.length=r,this.#e.writeFlag(H.END_OF_SCOPE);break}}compileConnection(e){const n=/([a-zA-Z0-9_]+)->\[0x([0-9a-fA-F]+)\]([a-zA-Z0-9_]+)/,r=e.match(n);if(r===null){_.error("Failed to compile connection");return}const i=r[1],s=r[3],o=parseInt(r[2],16);let l,c;for(let f=this.#t.length-1;f>=0;f--){const h=this.#t[f];if(!l&&h.name===i&&(l=h.address),!c&&h.name===s&&(c=h.address),l&&c)break}if(l===void 0){_.error(`Failed to find origin variable address [${i}]`);return}if(c===void 0){_.error(`Failed to find destination variable address [${s}]`);return}this.#e.writeFlag(Oe.OPERATION_CONNECTION),this.#e.writeUint16(l),this.#e.writeUint16(c),this.#e.writeUint8(o)}get tnglBytes(){return new Uint8Array(this.#e.bytes.buffer,0,this.#e.written)}}class Vd{#e;constructor(){this.#e=new rB}parseTnglCode(e){_.verbose(e),this.#e.reset();const n=this.#n(e,Vd.#t);_.verbose(n);for(let i=0;i<n.length;i++){const s=n[i];switch(s.type){case"undefined":this.#e.compileUndefined();break;case"const_declaration":this.#e.compileConstDeclaration(s.token);break;case"var_declaration":this.#e.compileVarDeclaration(s.token);break;case"comment":break;case"htmlrgb":this.#e.compileColor(s.token);break;case"infinity":this.#e.compileInfinity(s.token);break;case"string":this.#e.compileString(s.token);break;case"value_address":this.#e.compileValueAddress(s.token);break;case"timestamp":this.#e.compileTimestamp(s.token);break;case"label":this.#e.compileLabel(s.token);break;case"char":this.#e.compileChar(s.token);break;case"byte":this.#e.compileByte(s.token);break;case"pixels":this.#e.compilePixels(s.token);break;case"percentage":this.#e.compilePercentage(s.token);break;case"float":_.error('"Naked" float numbers are not permitted.');break;case"number":_.error('"Naked" numbers are not permitted.');break;case"word":this.#e.compileWord(s.token);break;case"whitespace":break;case"punctuation":this.#e.compilePunctuation(s.token);break;case"connection":this.#e.compileConnection(s.token);break;default:_.warn("Unknown token type >",s.type,"<");break}}this.#e.compileFlag(H.END_OF_TNGL_BYTES);let r=this.#e.tnglBytes;return _.verbose(r),_.info("Compiled tnglbytes length:",r.length),r}static#t={connection:/[\w]+->\[\w*\][\w]+\s*;/,undefined:/undefined/,var_declaration:/var +[A-Za-z_][\w]* *=/,const_declaration:/const +[A-Za-z_][\w]* *=/,comment:/\/\/[^\n]*/,htmlrgb:/#[0-9a-f]{6}/i,infinity:/[+-]?Infinity/,string:/"[\w ]*"/,value_address:/&[a-z_][\w]*/i,timestamp:/(_?[+-]?[0-9]*[.]?[0-9]+(d|h|m(?!s)|s|t|ms))+/,label:/\$[\w]*/,char:/-?'[\W\w]'/,byte:/0x[0-9a-f][0-9a-f](?![0-9a-f])/i,pixels:/-?[\d]+px/,percentage:/[+-]?[\d.]+%/,float:/([+-]?[0-9]*[.][0-9]+)/,number:/([+-]?[0-9]+)/,word:/[a-z_][\w]*/i,whitespace:/\s+/,punctuation:/[^\w\s]/};#n(e,n,r){for(var i,s,o,l=[];e;){o=null,i=e.length;for(var c in n)s=n[c].exec(e),s&&s.index<i&&(o={token:s[0],type:c,matches:s.slice(1)},i=s.index);i&&l.push({token:e.substr(0,i),type:r||"unknown"}),o&&l.push(o),e=e.substr(i+(o?o.token.length:0))}return l}}let cr={};class iB{#e;#t;#n;#r;#s;#i;#o;#a;#u;#c;#f;constructor(e="default",n=1e3){typeof window>"u"||(this.timeline=new _o(0,!0),this.#e=Math.floor(Math.random()*4294967295),this.#t=null,this.#n=null,this.interface=new Z6(this),e&&this.interface.assignConnector(e),this.#r=!1,this.#s=!1,this.#i=!1,this.#u=!1,this.#c=n,this.#f="disconnected",this.interface.onConnected=r=>{_.info("> Interface connected")},this.interface.onDisconnected=r=>{_.info("> Interface disconnected");const i=2e3;this.#f==="connected"&&this.#c?(_.info(`Reconnecting in ${i}ms`),this.#d("connecting"),setTimeout(()=>(_.debug("Reconnecting device"),this.interface.connect(this.#c).then(()=>{_.info("Reconnection successful."),this.#d("connected")}).catch(()=>{_.warn("Reconnection failed."),this.#d("disconnected")})),i)):this.#d("disconnected")},setInterval(()=>{!this.#i&&this.interface.connector&&this.connected().then(r=>{r&&this.syncClock().catch(i=>{_.warn(i)})})},3e4))}#d(e){switch(e){case"connected":e!==this.#f&&(console.warn("> Spectoda connected"),this.#f=e,this.interface.emit("connected",{target:this}));break;case"connecting":e!==this.#f&&(console.warn("> Spectoda connecting"),this.#f=e,this.interface.emit("connecting",{target:this}));break;case"disconnecting":e!==this.#f&&(console.warn("> Spectoda disconnecting"),this.#f=e,this.interface.emit("disconnecting",{target:this}));break;case"disconnected":e!==this.#f&&(console.warn("> Spectoda disconnected"),this.#f=e,this.interface.emit("disconnected",{target:this}));break;default:throw"InvalidState"}}#h(){return this.#f}requestWakeLock(){return this.interface.requestWakeLock()}releaseWakeLock(){return this.interface.releaseWakeLock()}setOwnerSignature(e){const n=e.match(/([\dabcdefABCDEF]{32})/g);if(!n[0])throw"InvalidSignature";return this.#t=n[0],!0}assignOwnerSignature(e){return this.setOwnerSignature(e)}getOwnerSignature(){return this.#t}setOwnerKey(e){const n=e.match(/([\dabcdefABCDEF]{32})/g);if(!n[0])throw"InvalidKey";return this.#n=n[0],!0}assignOwnerKey(e){return this.setOwnerKey(e)}getOwnerKey(){return this.#n}setConnector(e){this.interface.assignConnector(e)}assignConnector(e){return this.setConnector(e)}connectRemoteControl(){this.#u=!0,_.debug("> Connecting to Remote Control"),this.socket?this.socket.connect():(this.socket=uu(JR,{transports:["websocket"]}),this.socket.on("connect",()=>{_.debug("> Connected to remote control"),window.alert(pn("Connected to remote control"))}),this.socket.on("disconnect",()=>{_.debug("> Disconnected from remote control"),window.alert(pn("Disconnected from remote control"))}),this.socket.on("request",async(e,n,r)=>{_.warn("request",e,n),this.interface.request(n,r).then(i=>{i=i,_.info({reqId:e,payload:i}),this.socket.emit("response_success",e,i)}).catch(i=>this.socket.emit("response_error",e,i))}),this.socket.on("connect_error",e=>{_.debug("connect_error",e),setTimeout(()=>{this.socket.connect()},1e3)}))}disconnectRemoteControl(){_.debug("> Disonnecting from the Remote Control"),this.#u=!1,this.socket?.disconnect()}#l(){return this.#e>=4294967295&&(this.#e=0),++this.#e}addEventListener(e,n){return this.interface.addEventListener(e,n)}on(e,n){return this.interface.on(e,n)}scan(e=5e3){return _.info(`scan(scan_period=${e})`),this.interface.scan([{}],e)}adopt(e=null,n=null,r=null,i=null,s=null,o=!1){if(_.info(`adopt(newDeviceName=${e}, newDeviceId=${n}, tnglCode=${r}, ownerSignature=${i}, ownerKey=${s}, autoSelect=${o})`),this.#s)return Promise.reject("AdoptingInProgress");if(this.#s=!0,this.#d("connecting"),i&&this.setOwnerSignature(i),s&&this.setOwnerKey(s),!this.#t)throw"OwnerSignatureNotAssigned";if(!this.#n)throw"OwnerKeyNotAssigned";const l=[{adoptionFlag:!0}];return(o?this.interface.autoSelect(l,4e3):this.interface.userSelect(l,6e4)).then(()=>this.interface.connect(1e4,!0)).then(()=>{const c=js(this.#t,16),f=js(this.#n,16);_.info("owner_signature_bytes",c),_.info("owner_key_bytes",f);const h=this.#l(),p=[G.FLAG_ADOPT_REQUEST,...re(h,4),...c,...f];return _.debug("> Adopting device..."),_.verbose(p),this.interface.request(p,!0).then(g=>{let v=new pt(g);if(_.debug("> Got response:",g),v.readFlag()!==G.FLAG_ADOPT_RESPONSE||v.readUint32()!=h)throw"InvalidResponse";const T=v.readUint8();let R="00:00:00:00:00:00";if(T===0){const w=v.readBytes(6);R=Array.from(w,function(E){return("0"+(E&255).toString(16)).slice(-2)}).join(":")}if(_.debug(`error_code=${T}, device_mac=${R}`),T===0)return _.info(`Adopted ${R} successfully`),this.rebootAndDisconnectDevice().catch(w=>{_.error(w)}).then(()=>({mac:R,ownerSignature:this.#t,ownerKey:this.#n}));if(T!==0)throw _.warn("Adoption refused."),window.alert(pn("Zkuste to, prosím, znovu."),pn("Přidání se nezdařilo"),{confirm:pn("OK")}),"AdoptionRefused"}).catch(g=>{_.error(g),this.disconnect().finally(()=>{throw"AdoptionFailed"})})}).catch(c=>{if(_.warn(c),c==="UserCanceledSelection")return this.connected().then(f=>{if(!f)throw"UserCanceledSelection"})}).finally(()=>{this.#s=!1,this.#d("disconnected")})}connect(e=null,n=!0,r=null,i=null,s=!1,o=""){if(_.info(`connect(devices=${e}, autoConnect=${n}, ownerSignature=${r}, ownerKey=${i}, connectAny=${s}, fwVersion=${o})`),this.#r)return Promise.reject("ConnectingInProgress");if(this.#d("connecting"),r&&this.setOwnerSignature(r),i&&this.setOwnerKey(i),!this.#t)throw"OwnerSignatureNotAssigned";if(!this.#n)throw"OwnerKeyNotAssigned";this.#r=!0;let l=[{ownerSignature:this.#t}];if(e&&e.length>0){let c=[];for(let f=0;f<e.length;f++){let h={};e[f].name?(h.ownerSignature=this.#t,h.name=e[f].name.slice(0,11),c.push(h)):e[f].mac&&(h.ownerSignature=this.#t,h.mac=e[f].mac,c.push(h))}c.length!=0&&(l=c)}if(s&&(Vo()?l=[{}]:l=[{},{adoptionFlag:!0},{legacy:!0}]),typeof o=="string"&&o.match(/(!?)([\d]+).([\d]+).([\d]+)/))for(let c=0;c<l.length;c++)l[c].fwVersion=o;return(n?this.interface.autoSelect(l):this.interface.userSelect(l)).then(()=>this.interface.connect()).then(c=>this.requestTimeline().catch(f=>{_.error("Timeline request after reconnection failed.",f)}).then(()=>this.readEventHistory().catch(f=>{_.error("History request after reconnection failed.",f)})).then(()=>(this.#d("connected"),c))).catch(c=>{if(this.#d("disconnected"),_.error(c),c==="UserCanceledSelection")throw"UserCanceledSelection";if(c==="SecurityError"){_.error(c);return}throw c.toString()}).finally(()=>{this.#r=!1})}disconnect(){return this.#f==="disconnected"&&Promise.reject("DeviceAlreadyDisconnected"),this.#d("disconnecting"),this.interface.disconnect().finally(()=>{this.#d("disconnected")})}connected(){return this.#r||this.#s?Promise.resolve(null):this.interface.connected()}syncTngl(e,n=null,r=0){return _.verbose("syncTngl()"),e===null&&n===null?Promise.reject("InvalidParameters"):(n===null&&(n=new Vd().parseTnglCode(e)),this.getTnglFingerprint(r).then(i=>DU(n,"fingerprint").then(s=>{for(let o=0;o<i.length;o++)if(i[o]!==s[o])return this.writeTngl(null,n,r)})))}writeTngl(e,n=null,r=0){if(_.verbose("writeTngl()"),r==null&&(r=0),e===null&&n===null)return Promise.reject("InvalidParameters");n===null&&(n=new Vd().parseTnglCode(e));const i=this.timeline.paused()?16:0,s=[G.FLAG_SET_TIMELINE,...re(this.interface.clock.millis(),6),...re(this.timeline.millis(),4),i],o=[G.FLAG_REINTERPRET_TNGL,...re(this.interface.clock.millis(),6),r,...re(n.length,4),...n],l=[...s,...o];return this.interface.execute(l,"TNGL").then(()=>{})}emitEvent(e,n=[255],r=!0){_.verbose(`emitEvent(label=${e},id=${n},force=${r})`),cr[e]={value:null,type:"none"};const i=s=>{const o=[G.FLAG_EMIT_EVENT,...Mo(e),...re(this.interface.clock.millis()+10,6),re(s,1)];return this.interface.execute(o,r?null:"E"+e+s)};if(typeof n=="object"){let s=n.map(i);return Promise.all(s)}else return i(n)}resendAll(){Object.keys(cr).forEach(e=>{switch(cr[e].type){case"percentage":this.emitPercentageEvent(e,cr[e].value);break;case"timestamp":this.emitTimestampEvent(e,cr[e].value);break;case"color":this.emitColorEvent(e,cr[e].value);break;case"label":this.emitLabelEvent(e,cr[e].value);break;case"none":this.emitEvent(e);break}})}emitTimestampEvent(e,n,r=[255],i=!1){_.verbose(`emitTimestampEvent(label=${e},value=${n},id=${r},force=${i})`),cr[e]={value:n,type:"timestamp"},n>2147483647&&(_.error("Invalid event value"),n=2147483647),n<-2147483648&&(_.error("Invalid event value"),n=-2147483648);const s=o=>{const l=[G.FLAG_EMIT_TIMESTAMP_EVENT,...re(n,4),...Mo(e),...re(this.interface.clock.millis()+10,6),re(o,1)];return this.interface.execute(l,i?null:"E"+e+o)};if(typeof r=="object"){let o=r.map(s);return Promise.all(o)}else return s(r)}emitColorEvent(e,n,r=[255],i=!1){_.verbose(`emitColorEvent(label=${e},value=${n},id=${r},force=${i})`),cr[e]={value:n,type:"color"},(!n||!n.match(/#[\dabcdefABCDEF]{6}/g))&&(_.error("Invalid event value. event_value=",n),n="#000000");const s=o=>{const l=[G.FLAG_EMIT_COLOR_EVENT,...EU(n),...Mo(e),...re(this.interface.clock.millis()+10,6),re(o,1)];return this.interface.execute(l,i?null:"E"+e+o)};if(typeof r=="object"){let o=r.map(s);return Promise.all(o)}else return s(r)}emitPercentageEvent(e,n,r=[255],i=!1){_.info(`emitPercentageEvent(label=${e},value=${n},id=${r},force=${i})`),cr[e]={value:n,type:"percentage"},n>100&&(_.error("Invalid event value"),n=100),n<-100&&(_.error("Invalid event value"),n=-100);const s=o=>{const l=[G.FLAG_EMIT_PERCENTAGE_EVENT,...bU(n),...Mo(e),...re(this.interface.clock.millis()+10,6),re(o,1)];return this.interface.execute(l,i?null:"E"+e+o)};if(typeof r=="object"){let o=r.map(s);return Promise.all(o)}else return s(r)}emitLabelEvent(e,n,r=[255],i=!1){_.verbose(`emitLabelEvent(label=${e},value=${n},id=${r},force=${i})`),cr[e]={value:n,type:"label"},typeof n!="string"&&(_.error("Invalid event value"),n=""),n.length>5&&(_.error("Invalid event value"),n=n.slice(0,5));const s=o=>{const l=[G.FLAG_EMIT_LABEL_EVENT,...Mo(n),...Mo(e),...re(this.interface.clock.millis()+10,6),re(o,1)];return this.interface.execute(l,i?null:"E"+e+o)};if(typeof r=="object"){let o=r.map(s);return Promise.all(o)}else return s(r)}syncTimeline(){_.verbose("syncTimeline()");const e=this.timeline.paused()?16:0,n=[G.FLAG_SET_TIMELINE,...re(this.interface.clock.millis(),6),...re(this.timeline.millis(),4),e];return this.interface.execute(n,"TMLN")}syncClock(){return _.debug("> Syncing clock from device"),this.interface.syncClock().then(()=>{_.debug("> App clock synchronized")})}syncState(e){_.debug("> Synchronizing state...");const n=this.#l(),r=[G.FLAG_SYNC_STATE_REQUEST,...re(n,4),e];return this.interface.request(r,!1)}updateDeviceFirmware(e){return _.verbose(`updateDeviceFirmware(firmware.length=${e?.length})`),!e||e.length<1e4?(_.error("Invalid firmware"),Promise.reject("InvalidFirmware")):this.interface.updateFW(e).then(()=>{this.disconnect()})}updateNetworkFirmware(e){return _.verbose(`updateNetworkFirmware(firmware.length=${e?.length})`),!e||e.length<1e4?(_.error("Invalid firmware"),Promise.reject("InvalidFirmware")):(this.#i=!0,this.interface.requestWakeLock(),new Promise(async(n,r)=>{let s=0,o=480,l=0;_.info("OTA UPDATE"),_.verbose(e);const c=new Date().getTime();await ue(100);try{this.interface.emit("ota_status","begin");{_.info("OTA RESET");const h=[G.FLAG_OTA_RESET,0,...re(0,4)];await this.interface.execute(h,null)}await ue(100);{_.info("OTA BEGIN");const h=[G.FLAG_OTA_BEGIN,0,...re(e.length,4)];await this.interface.execute(h,null,2e4)}for(await ue(2e4),_.info("OTA WRITE");l<e.length;){o>e.length&&(o=e.length);const h=[G.FLAG_OTA_WRITE,0,...re(l,4),...e.slice(s,o)];await this.interface.execute(h,null),l+=o-s;const p=Math.floor(l*1e4/e.length)/100;_.info(p+"%"),this.interface.emit("ota_progress",p),s+=480,o=s+480}await ue(100);{_.info("OTA END");const h=[G.FLAG_OTA_END,0,...re(l,4)];await this.interface.execute(h,null)}await ue(3e3),_.debug("Rebooting whole network...");const f=[G.FLAG_DEVICE_REBOOT_REQUEST];await this.interface.execute(f,null),_.debug("Firmware written in "+(new Date().getTime()-c)/1e3+" seconds"),this.interface.emit("ota_status","success"),n(null);return}catch(f){this.interface.emit("ota_status","fail"),r(f);return}}).then(()=>this.disconnect()).finally(()=>{this.interface.releaseWakeLock(),this.#i=!1}))}async updatePeerFirmware(e){if(_.debug(`updatePeerFirmware(peer=${e})`),e==null&&(e=await prompt("Please enter a valid MAC address:","00:00:00:00:00:00")),!/^([0-9A-Fa-f]{2}[:-]){5}([0-9A-Fa-f]{2})$/.test(e))throw"InvalidMacAdress";const n=this.#l(),r=[G.FLAG_FW_UPDATE_PEER_REQUEST,...re(n,4),...IU(e)];return this.interface.request(r,!0).then(i=>{let s=new pt(i);if(_.info(`response.byteLength=${i.byteLength}`),s.readFlag()!==G.FLAG_FW_UPDATE_PEER_RESPONSE)throw"InvalidResponseFlag";if(s.readUint32()!=n)throw"InvalidResponseUuid";const l=s.readUint8();if(_.verbose(`error_code=${l}`),l===0)_.info("Update sucessful");else throw"Fail"})}readDeviceConfig(e="ee:33:fa:89:08:08"){_.debug("> Reading device config...");const n=this.#l(),r=[G.FLAG_DEVICE_CONFIG_REQUEST,...re(n,4)];return this.interface.request(r,!0).then(i=>{let s=new pt(i);if(_.info(`response.byteLength=${i.byteLength}`),s.readFlag()!==G.FLAG_DEVICE_CONFIG_RESPONSE)throw"InvalidResponseFlag";if(s.readUint32()!=n)throw"InvalidResponseUuid";const l=s.readUint8();if(_.verbose(`error_code=${l}`),l===0){const c=s.readUint32();_.verbose(`config_size=${c}`);const f=s.readBytes(c);_.verbose(`config_bytes=${f}`);const p=new TextDecoder().decode(new Uint8Array(f));return _.verbose(`config=${p}`),p.charAt(p.length-1)=="\0"?(_.warn("NULL config character detected"),p.slice(0,p.length-1)):p}else throw"Fail"})}updateDeviceConfig(e){_.debug("> Updating config..."),_.info(`config_raw=${e}`);const n=JSON.parse(e),r=JSON.stringify(n);_.info(`config=${r}`);const s=new TextEncoder().encode(r),o=r.length,l=this.#l(),c=[G.FLAG_CONFIG_UPDATE_REQUEST,...re(l,4),...re(o,4),...s];return this.interface.request(c,!0).then(f=>{let h=new pt(f);if(_.info(`response.byteLength=${f.byteLength}`),h.readFlag()!==G.FLAG_CONFIG_UPDATE_RESPONSE||h.readUint32()!=l)throw"InvalidResponse";const g=h.readUint8();if(_.verbose(`error_code=${g}`),g===0){_.info("Write Config Success");const v=[G.FLAG_DEVICE_REBOOT_REQUEST];return this.interface.request(v,!1)}else throw"Fail"})}updateNetworkConfig(e){_.debug("> Updating config of whole network...");const r=new TextEncoder().encode(e),i=e.length,s=this.#l(),o=[G.FLAG_CONFIG_UPDATE_REQUEST,...re(s,4),...re(i,4),...r];return this.interface.execute(o,"CONF").then(()=>{_.debug("> Rebooting network...");const l=[G.FLAG_DEVICE_REBOOT_REQUEST];return this.interface.execute(l,null)})}requestTimeline(){_.debug("> Requesting timeline...");const e=this.#l(),n=[G.FLAG_TIMELINE_REQUEST,...re(e,4)];return this.interface.request(n,!0).then(r=>{_.info(`response.byteLength=${r.byteLength}`);let i=new pt(r);if(i.readFlag()!==G.FLAG_TIMELINE_RESPONSE)throw"InvalidResponseFlag";if(i.readUint32()!=e)throw"InvalidResponseUuid";i.readUint8();const o=i.readUint48(),l=i.readInt32(),c=i.readUint8();_.verbose(`clock_timestamp=${o}, timeline_timestamp=${l}, timeline_paused=${c}`),c?this.timeline.setState(l,!0):this.timeline.setState(l+(this.interface.clock.millis()-o),!1)})}rebootNetwork(){_.debug("> Rebooting network...");const e=[G.FLAG_DEVICE_REBOOT_REQUEST];return this.interface.execute(e,null)}rebootDevice(){_.debug("> Rebooting device...");const e=[G.FLAG_DEVICE_REBOOT_REQUEST];return this.interface.request(e,!1)}rebootAndDisconnectDevice(){_.debug("> Rebooting and disconnecting device...");const e=[G.FLAG_DEVICE_REBOOT_REQUEST];return this.interface.request(e,!1).then(()=>this.disconnect())}removeOwner(){_.debug("> Removing owner...");const e=this.#l(),n=[G.FLAG_ERASE_OWNER_REQUEST,...re(e,4)];return this.interface.request(n,!0).then(r=>{let i=new pt(r);if(_.info(`response.byteLength=${r.byteLength}`),i.readFlag()!==G.FLAG_ERASE_OWNER_RESPONSE)throw"InvalidResponseFlag";if(i.readUint32()!=e)throw"InvalidResponseUuid";const o=i.readUint8();if(_.verbose(`error_code=${o}`),o!==0)throw"OwnerEraseFailed";const l=i.readBytes(6);return this.rebootAndDisconnectDevice().catch(()=>{}).then(()=>{let c="00:00:00:00:00:00";return l.length>=6&&(c=Array.from(l,function(f){return("0"+(f&255).toString(16)).slice(-2)}).join(":")),{mac:c!=="00:00:00:00:00:00"?c:null}})})}removeNetworkOwner(){_.debug("> Removing network owner...");const e=this.#l(),n=[G.FLAG_ERASE_OWNER_REQUEST,...re(e,4)];return this.interface.execute(n,!0)}getFwVersion(){_.debug("> Requesting fw version...");const e=this.#l(),n=[G.FLAG_FW_VERSION_REQUEST,...re(e,4)];return _.info("getFwVersion",{bytes:n}),this.interface.request(n,!0).then(r=>{let i=new pt(r);if(_.info(`response.byteLength=${r.byteLength}`),i.readFlag()!==G.FLAG_FW_VERSION_RESPONSE)throw"InvalidResponseFlag";if(i.readUint32()!=e)throw"InvalidResponseUuid";const o=i.readUint8();_.verbose(`error_code=${o}`);let l=null;if(o===0)l=i.readString(32);else throw"Fail";return _.verbose(`version=${l}`),_.debug(`> FW Version: ${l}`),l.trim()})}getTnglFingerprint(e=0){_.debug("> Getting TNGL fingerprint..."),e==null&&(e=0);const n=this.#l(),r=[G.FLAG_TNGL_FINGERPRINT_REQUEST,...re(n,4),e];return this.interface.request(r,!0).then(i=>{let s=new pt(i);if(_.debug("> Got response:",i),s.readFlag()!==G.FLAG_TNGL_FINGERPRINT_RESPONSE)throw"InvalidResponseFlag";if(s.readUint32()!=n)throw"InvalidResponseUuid";const l=s.readUint8();_.verbose(`error_code=${l}`);let c=null;if(l===0)c=s.readBytes(32);else throw"Fail";return _.verbose(`fingerprint=${c}`),new Uint8Array(c)})}setNetworkDatarate(e){_.debug(`> Setting network datarate to ${e} bsp...`);const n=this.#l(),r=[G.FLAG_CHANGE_DATARATE_REQUEST,...re(n,4),...re(e,4)];return this.interface.execute(r,null)}readRomPhyVdd33(){_.debug("> Requesting rom_phy_vdd33 ...");const e=this.#l(),n=[G.FLAG_ROM_PHY_VDD33_REQUEST,...re(e,4)];return this.interface.request(n,!0).then(r=>{let i=new pt(r);if(_.info(`response.byteLength=${r.byteLength}`),i.readFlag()!==G.FLAG_ROM_PHY_VDD33_RESPONSE)throw"InvalidResponseFlag";if(i.readUint32()!=e)throw"InvalidResponseUuid";const o=i.readUint8();_.verbose(`error_code=${o}`);let l=null;if(o===0)l=i.readInt32();else throw"Fail";return _.info(`vdd_reading=${l}`),l})}readPinVoltage(e){_.debug(`> Requesting pin ${e} voltage ...`);const n=this.#l(),r=[G.FLAG_VOLTAGE_ON_PIN_REQUEST,...re(n,4),e];return this.interface.request(r,!0).then(i=>{let s=new pt(i);if(_.info(`response.byteLength=${i.byteLength}`),s.readFlag()!==G.FLAG_VOLTAGE_ON_PIN_RESPONSE)throw"InvalidResponseFlag";if(s.readUint32()!=n)throw"InvalidResponseUuid";const l=s.readUint8();_.verbose(`error_code=${l}`);let c=null;if(l===0)c=s.readUint32();else throw"Fail";return _.info(`pin_reading=${c}`),c})}setLanguage(e){E6(e)}setDebugLevel(e){B_(e)}getConnectedPeersInfo(){_.debug("> Requesting connected peers info...");const e=this.#l(),n=[G.FLAG_CONNECTED_PEERS_INFO_REQUEST,...re(e,4)];return this.interface.request(n,!0).then(r=>{let i=new pt(r);if(_.info(`response.byteLength=${r.byteLength}`),i.readFlag()!==G.FLAG_CONNECTED_PEERS_INFO_RESPONSE)throw"InvalidResponseFlag";if(i.readUint32()!=e)throw"InvalidResponseUuid";const o=i.readUint8();_.verbose(`error_code=${o}`);let l=[];if(o===0){let c=i.readUint16();for(let f=0;f<c;f++){const h=i.readBytes(6).map(g=>g.toString(16).padStart(2,"0")).join(":"),p=i.readUint16()/(65535/512)-256;l.push({mac:h,rssi:p})}return _.info(`count=${c}, peers=
${l.map(f=>`mac:${f.mac},rssi:${f.rssi}`).join(`
`)}`),this.interface.eraseConnectedPeers(),this.interface.setConnectedPeers(l.map(f=>f.mac)),l}else throw"Fail"})}readEventHistory(){_.debug("> Requesting event history bytecode...");const e=this.#l(),n=[G.FLAG_EVENT_HISTORY_BC_REQUEST,...re(e,4)];return this.interface.request(n,!0).then(r=>{let i=new pt(r);if(_.info(`response.byteLength=${r.byteLength}`),i.readFlag()!==G.FLAG_EVENT_HISTORY_BC_RESPONSE)throw _.error("InvalidResponseFlag"),"InvalidResponseFlag";if(i.readUint32()!=e)throw _.error("InvalidResponseUuid"),"InvalidResponseUuid";const o=i.readUint8();if(_.info(`error_code=${o}`),o===0){const l=i.readUint16();_.info(`historic_events_bytecode_size=${l}`);const c=i.readBytes(l);_.verbose(`historic_events_bytecode=[${c}]`),this.interface.process(new DataView(new Uint8Array(c).buffer))}else throw"Fail"})}eraseEventHistory(){_.debug("> Erasing event history...");const e=this.#l(),n=[G.FLAG_ERASE_EVENT_HISTORY_REQUEST,...re(e,4)];return this.interface.execute(n,!0)}deviceSleep(){_.debug("> Sleep device...");const e=this.#l(),n=[G.FLAG_SLEEP_REQUEST,...re(e,4)];return this.interface.request(n,!1)}networkSleep(){_.debug("> Sleep device...");const e=this.#l(),n=[G.FLAG_SLEEP_REQUEST,...re(e,4)];return this.interface.execute(n,null)}saveState(){throw"WorkInProgress"}getControllerInfo(){_.debug("> Requesting controller info ...");const e=this.#l(),n=[DEVICE_FLAGS.FLAG_CONTROLLER_INFO_REQUEST,...re(e,4)];return this.interface.request(n,!0).then(r=>{let i=new pt(r);if(_.verbose("response=",r),i.readFlag()!==DEVICE_FLAGS.FLAG_CONTROLLER_INFO_RESPONSE)throw"InvalidResponseFlag";if(i.readUint32()!=e)throw"InvalidResponseUuid";const o=i.readUint8();_.verbose(`error_code=${o}`);let l=null,c=null;if(o===0)l=i.readUint16(),c=i.readUint16();else throw"Fail";return _.info(`pcb_code=${l}`),_.info(`product_code=${c}`),{pcb_code:l,product_code:c}})}writeOwner(e="00000000000000000000000000000000",n="00000000000000000000000000000000"){_.debug("> Writing owner to device...");const r=js(e,16),i=js(n,16);_.info("owner_signature_bytes",r),_.info("owner_key_bytes",i);const s=this.#l(),o=[G.FLAG_ADOPT_REQUEST,...re(s,4),...r,...i];return _.verbose(o),this.interface.request(o,!0).then(l=>{let c=new pt(l);if(_.debug("> Got response:",l),c.readFlag()!==G.FLAG_ADOPT_RESPONSE||c.readUint32()!=s)throw"InvalidResponse";let h="null";const p=c.readUint8();if(p===0){const g=c.readBytes(6);h=Array.from(g,function(v){return("0"+(v&255).toString(16)).slice(-2)}).join(":")}if(_.debug(`error_code=${p}, device_mac=${h}`),p===0)return _.info(`Adopted ${h} successfully`),{mac:h,ownerSignature:this.#t,ownerKey:this.#n};throw _.warn("Adoption refused by device."),"AdoptionRefused"}).catch(l=>{throw _.error(l),"AdoptionFailed"})}writeNetworkOwner(e="00000000000000000000000000000000",n="00000000000000000000000000000000"){_.debug("> Writing owner to network...");const r=js(e,16),i=js(n,16);_.info("owner_signature_bytes",r),_.info("owner_key_bytes",i);const s=this.#l(),o=[G.FLAG_ADOPT_REQUEST,...re(s,4),...r,...i];return _.verbose(o),this.interface.execute(o,!0)}writeControllerName(e){_.debug("> Writing Controller Name...");const n=this.#l(),r=[G.FLAG_WRITE_CONTROLLER_NAME_REQUEST,...re(n,4),...j_(e,16)];return this.interface.request(r,!1)}readControllerName(){_.debug("> Reading Controller Name...");const e=this.#l(),n=[G.FLAG_READ_CONTROLLER_NAME_REQUEST,...re(e,4)];return this.interface.request(n,!0).then(r=>{let i=new pt(r);if(_.info(`response.byteLength=${r.byteLength}`),i.readFlag()!==G.FLAG_READ_CONTROLLER_NAME_RESPONSE)throw"InvalidResponseFlag";if(i.readUint32()!=e)throw"InvalidResponseUuid";const o=i.readUint8();_.verbose(`error_code=${o}`);let l=null;if(o===0)l=i.readString(16);else throw"Fail";return _.verbose(`name=${l}`),_.debug(`> Controller Name: ${l}`),l})}}const Qe=new iB("default");Qe.assignOwnerSignature(localStorage.getItem("ownerSignature")||"a06cd5c4d5741b61fee69422f2590926");Qe.assignOwnerKey(localStorage.getItem("ownerKey")||"bfd39c89ccc2869f240508e9a0609420");Qe.setDebugLevel(3);localStorage.getItem("env")==="dev"&&Qe.setDebugLevel(4);let sB=new URL(location.href),oB=new URLSearchParams(sB.search);oB.get("demo")&&setTimeout(()=>{Qe.assignConnector("dummy"),Qe.connect()},300);window.spectoda=Qe;const aB=k.createContext(),XR=({children:t})=>{const[e,n]=k.useState("disconnected"),[r,i]=k.useState(!1),[s,o]=k.useState(!1),[l,c]=k.useState([]),[f,h]=k.useState([]),p=()=>{Qe.getConnectedPeersInfo().then(D=>{c(D),h(F=>F.filter(Y=>D.find(X=>X.mac!==Y.mac))),console.log({peers:D})})};k.useEffect(()=>{Qe.on("connected",D=>{e!=="connected"&&(n("connected"),console.log("connected device",D),p(),setTimeout(async()=>{Qe.syncTngl(`
          catchEvent($INIT).setValue(100%).emitAs($brigh);
          catchEvent($toggl).emitAs($brigh);
          const top = genSmoothOut(genLastEventParam($top), 1s);
          const bot = genSmoothOut(genLastEventParam($bot), 1s);
          const brightess = genSmoothOut(genLastEventParam($brigh), 2s);
          addLayer(0s, Infinity, {
            siftSegments({ segment($PORTA); }, {
              addLayer(0s, Infinity, {
                addDrawing(0s, Infinity, animFill(Infinity, #ffffff));
              }).modifyBrightness(&top);
            });
            siftSegments({ segment($PORTB); }, {
              addLayer(0s, Infinity, {
                addDrawing(0s, Infinity, animFill(Infinity, #ffffff));
              }).modifyBrightness(&bot);
            });
          }).modifyBrightness(&brightess);
          
          `),window.localStorage.setItem("login_pass","true")},300))}),Qe.on("disconnected",D=>{n("disconnected"),c(F=>(console.log(JSON.stringify(f),JSON.stringify(F)),h(Y=>{console.log("Settings macs...",JSON.stringify([Y,F]));const X="mac",le=[...Y,...F];return[...new Map(le.map(fe=>[fe[X],fe])).values()]}),[]))}),Qe.on("peer_connected",D=>{console.log("peer_connected",D),c(F=>[...F,{mac:D}]),h(F=>F.filter(Y=>Y.mac!==D))}),Qe.on("peer_disconnected",D=>{console.log("peer_disconnected",D),c(F=>F.filter(Y=>Y.mac!==D)),h(F=>(F.find(Y=>Y.mac===D)||(F=[...F,{mac:D}]),console.log("peer___disconnected"),F))})},[]);const g=async function(){try{return o(!0),await Qe.connect(null,!0,null,null,!0).catch(D=>{}).finally(()=>{o(!1)})}catch(D){console.error("Connection failed",D)}},v=async function(){try{o(!0),await Qe.disconnect()}finally{o(!1)}},I=async(...D)=>{i(!0);let F;try{F=await Qe.adopt(...D).catch(Y=>{})}finally{i(!1)}return F},T=D=>typeof D=="string"?!!l.find(F=>F.mac===D):!!l.find(F=>D.includes(F.mac));function R(D){console.log("macss",D);const F=D.map(Y=>({mac:Y}));return Qe?.interface?.connector.type==="dummy"?(c(Y=>[...Y,...F]),!0):!1}const[w,E]=k.useState("unknown"),[b,O]=k.useState("unknown");k.useEffect(()=>{const D=Qe.on("version",F=>{E(F)});return()=>D()},[]),k.useEffect(()=>{(async()=>{if(e==="connected")try{const D=await Qe.getFwVersion();console.log("FW version:",D);const[F,Y,X]=D.split("_");E(Y),O(D)}catch{console.error("Failed to get FW version"),E("Failed to get FW version")}})()},[e]);const B="0.9.0",q=w!=="unknown"&&w!=="0.0.0",V=e==="connected",J=q&&V&&!B;return L.jsx(aB.Provider,{value:{connectionStatus:e,connect:g,disconnect:v,adopt:I,isActiveMac:T,activateFakeDevice:R,isConnecting:s,connectedMacs:l,disconnectedMacs:f,version:w,fullVersion:b,versionAvailable:q,isLimitedMode:J,isConnected:V},children:t})},lB=k.createContext(null),uB=typeof document<"u",ZR=uB?k.useLayoutEffect:k.useEffect;function cB(t){const e=k.useRef(null);return e.current===null&&(e.current=t()),e.current}const fB=k.createContext({}),cu={delta:0,timestamp:0},eA=1/60*1e3,dB=typeof performance<"u"?()=>performance.now():()=>Date.now(),tA=typeof window<"u"?t=>window.requestAnimationFrame(t):t=>setTimeout(()=>t(dB()),eA);function hB(t){let e=[],n=[],r=0,i=!1,s=!1;const o=new WeakSet,l={schedule:(c,f=!1,h=!1)=>{const p=h&&i,g=p?e:n;return f&&o.add(c),g.indexOf(c)===-1&&(g.push(c),p&&i&&(r=e.length)),c},cancel:c=>{const f=n.indexOf(c);f!==-1&&n.splice(f,1),o.delete(c)},process:c=>{if(i){s=!0;return}if(i=!0,[e,n]=[n,e],n.length=0,r=e.length,r)for(let f=0;f<r;f++){const h=e[f];h(c),o.has(h)&&(l.schedule(h),t())}i=!1,s&&(s=!1,l.process(c))}};return l}const pB=40;let r0=!0,Fu=!1,i0=!1;const uc=["read","update","preRender","render","postRender"],Gh=uc.reduce((t,e)=>(t[e]=hB(()=>Fu=!0),t),{}),gB=uc.reduce((t,e)=>{const n=Gh[e];return t[e]=(r,i=!1,s=!1)=>(Fu||vB(),n.schedule(r,i,s)),t},{});uc.reduce((t,e)=>(t[e]=Gh[e].cancel,t),{});uc.reduce((t,e)=>(t[e]=()=>Gh[e].process(cu),t),{});const mB=t=>Gh[t].process(cu),nA=t=>{Fu=!1,cu.delta=r0?eA:Math.max(Math.min(t-cu.timestamp,pB),1),cu.timestamp=t,i0=!0,uc.forEach(mB),i0=!1,Fu&&(r0=!1,tA(nA))},vB=()=>{Fu=!0,r0=!0,i0||tA(nA)};function rA(){const t=k.useRef(!1);return ZR(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function _B(){const t=rA(),[e,n]=k.useState(0),r=k.useCallback(()=>{t.current&&n(e+1)},[e]);return[k.useCallback(()=>gB.postRender(r),[r]),e]}class yB extends k.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function wB({children:t,isPresent:e}){const n=k.useId(),r=k.useRef(null),i=k.useRef({width:0,height:0,top:0,left:0});return k.useInsertionEffect(()=>{const{width:s,height:o,top:l,left:c}=i.current;if(e||!r.current||!s||!o)return;r.current.dataset.motionPopId=n;const f=document.createElement("style");return document.head.appendChild(f),f.sheet&&f.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${s}px !important;
            height: ${o}px !important;
            top: ${l}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(f)}},[e]),k.createElement(yB,{isPresent:e,childRef:r,sizeRef:i},k.cloneElement(t,{ref:r}))}const _m=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:o})=>{const l=cB(EB),c=k.useId(),f=k.useMemo(()=>({id:c,initial:e,isPresent:n,custom:i,onExitComplete:h=>{l.set(h,!0);for(const p of l.values())if(!p)return;r&&r()},register:h=>(l.set(h,!1),()=>l.delete(h))}),s?void 0:[n]);return k.useMemo(()=>{l.forEach((h,p)=>l.set(p,!1))},[n]),k.useEffect(()=>{!n&&!l.size&&r&&r()},[n]),o==="popLayout"&&(t=k.createElement(wB,{isPresent:n},t)),k.createElement(lB.Provider,{value:f},t)};function EB(){return new Map}function SB(t){return k.useEffect(()=>()=>t(),[])}const Go=t=>t.key||"";function CB(t,e){t.forEach(n=>{const r=Go(n);e.set(r,n)})}function bB(t){const e=[];return k.Children.forEach(t,n=>{k.isValidElement(n)&&e.push(n)}),e}const IB=({children:t,custom:e,initial:n=!0,onExitComplete:r,exitBeforeEnter:i,presenceAffectsLayout:s=!0,mode:o="sync"})=>{i&&(o="wait");let[l]=_B();const c=k.useContext(fB).forceRender;c&&(l=c);const f=rA(),h=bB(t);let p=h;const g=new Set,v=k.useRef(p),I=k.useRef(new Map).current,T=k.useRef(!0);if(ZR(()=>{T.current=!1,CB(h,I),v.current=p}),SB(()=>{T.current=!0,I.clear(),g.clear()}),T.current)return k.createElement(k.Fragment,null,p.map(b=>k.createElement(_m,{key:Go(b),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:s,mode:o},b)));p=[...p];const R=v.current.map(Go),w=h.map(Go),E=R.length;for(let b=0;b<E;b++){const O=R[b];w.indexOf(O)===-1&&g.add(O)}return o==="wait"&&g.size&&(p=[]),g.forEach(b=>{if(w.indexOf(b)!==-1)return;const O=I.get(b);if(!O)return;const B=R.indexOf(b),q=()=>{I.delete(b),g.delete(b);const V=v.current.findIndex(J=>J.key===b);if(v.current.splice(V,1),!g.size){if(v.current=h,f.current===!1)return;l(),r&&r()}};p.splice(B,0,k.createElement(_m,{key:Go(O),isPresent:!1,onExitComplete:q,custom:e,presenceAffectsLayout:s,mode:o},O))}),p=p.map(b=>{const O=b.key;return g.has(O)?b:k.createElement(_m,{key:Go(b),isPresent:!0,presenceAffectsLayout:s,mode:o},b)}),k.createElement(k.Fragment,null,g.size?p:p.map(b=>k.cloneElement(b)))};function H_(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iA={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q=function(t,e){if(!t)throw Ya(e)},Ya=function(t){return new Error("Firebase Database ("+iA.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sA=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},TB=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],l=t[n++],c=((i&7)<<18|(s&63)<<12|(o&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},K_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,l=o?t[i+1]:0,c=i+2<t.length,f=c?t[i+2]:0,h=s>>2,p=(s&3)<<4|l>>4;let g=(l&15)<<2|f>>6,v=f&63;c||(v=64,o||(g=64)),r.push(n[h],n[p],n[g],n[v])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(sA(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):TB(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const f=i<t.length?n[t.charAt(i)]:64;++i;const p=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||l==null||f==null||p==null)throw Error();const g=s<<2|l>>4;if(r.push(g),f!==64){const v=l<<4&240|f>>2;if(r.push(v),p!==64){const I=f<<6&192|p;r.push(I)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},oA=function(t){const e=sA(t);return K_.encodeByteArray(e,!0)},Wd=function(t){return oA(t).replace(/\./g,"")},zd=function(t){try{return K_.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RB(t){return aA(void 0,t)}function aA(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!AB(n)||(t[n]=aA(t[n],e[n]));return t}function AB(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kB(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xB=()=>kB().__FIREBASE_DEFAULTS__,OB=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},NB=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&zd(t[1]);return e&&JSON.parse(e)},q_=()=>{try{return xB()||OB()||NB()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},lA=t=>{var e,n;return(n=(e=q_())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},PB=t=>{const e=lA(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},DB=()=>{var t;return(t=q_())===null||t===void 0?void 0:t.config},uA=t=>{var e;return(e=q_())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y_{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LB(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),l="";return[Wd(JSON.stringify(n)),Wd(JSON.stringify(o)),l].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ht(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Q_(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ht())}function FB(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function cA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function MB(){const t=Ht();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function fA(){return iA.NODE_ADMIN===!0}function UB(){try{return typeof indexedDB=="object"}catch{return!1}}function BB(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $B="FirebaseError";class Rs extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=$B,Object.setPrototypeOf(this,Rs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,cc.prototype.create)}}class cc{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?jB(s,r):"Error",l=`${this.serviceName}: ${o} (${i}).`;return new Rs(i,l,r)}}function jB(t,e){return t.replace(VB,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const VB=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mu(t){return JSON.parse(t)}function wt(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dA=function(t){let e={},n={},r={},i="";try{const s=t.split(".");e=Mu(zd(s[0])||""),n=Mu(zd(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}},WB=function(t){const e=dA(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},zB=function(t){const e=dA(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wi(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Na(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function s0(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Gd(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function Hd(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(IC(s)&&IC(o)){if(!Hd(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function IC(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qa(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ql(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Jl(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GB{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let p=0;p<16;p++)r[p]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let p=0;p<16;p++)r[p]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let p=16;p<80;p++){const g=r[p-3]^r[p-8]^r[p-14]^r[p-16];r[p]=(g<<1|g>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],l=this.chain_[3],c=this.chain_[4],f,h;for(let p=0;p<80;p++){p<40?p<20?(f=l^s&(o^l),h=1518500249):(f=s^o^l,h=1859775393):p<60?(f=s&o|l&(s|o),h=2400959708):(f=s^o^l,h=3395469782);const g=(i<<5|i>>>27)+f+c+h+r[p]&4294967295;c=l,l=o,o=(s<<30|s>>>2)&4294967295,s=i,i=g}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let i=0;const s=this.buf_;let o=this.inbuf_;for(;i<n;){if(o===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}}function HB(t,e){const n=new KB(t,e);return n.subscribe.bind(n)}class KB{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");qB(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=ym),i.error===void 0&&(i.error=ym),i.complete===void 0&&(i.complete=ym);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function qB(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function ym(){}function hA(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YB=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,Q(r<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(r)-56320;i=65536+(s<<10)+o}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Hh=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function er(t){return t&&t._delegate?t._delegate:t}class ao{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QB{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Y_;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(XB(e))try{this.getOrInitializeService({instanceIdentifier:Vs})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Vs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Vs){return this.instances.has(e)}getOptions(e=Vs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(s);r===l&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:JB(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Vs){return this.component?this.component.multipleInstances?e:Vs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function JB(t){return t===Vs?void 0:t}function XB(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZB{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new QB(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ve;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ve||(Ve={}));const e$={debug:Ve.DEBUG,verbose:Ve.VERBOSE,info:Ve.INFO,warn:Ve.WARN,error:Ve.ERROR,silent:Ve.SILENT},t$=Ve.INFO,n$={[Ve.DEBUG]:"log",[Ve.VERBOSE]:"log",[Ve.INFO]:"info",[Ve.WARN]:"warn",[Ve.ERROR]:"error"},r$=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=n$[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class J_{constructor(e){this.name=e,this._logLevel=t$,this._logHandler=r$,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?e$[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ve.DEBUG,...e),this._logHandler(this,Ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ve.VERBOSE,...e),this._logHandler(this,Ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ve.INFO,...e),this._logHandler(this,Ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ve.WARN,...e),this._logHandler(this,Ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ve.ERROR,...e),this._logHandler(this,Ve.ERROR,...e)}}const i$=(t,e)=>e.some(n=>t instanceof n);let TC,RC;function s$(){return TC||(TC=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function o$(){return RC||(RC=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const pA=new WeakMap,o0=new WeakMap,gA=new WeakMap,wm=new WeakMap,X_=new WeakMap;function a$(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(ls(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&pA.set(n,t)}).catch(()=>{}),X_.set(e,t),e}function l$(t){if(o0.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});o0.set(t,e)}let a0={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return o0.get(t);if(e==="objectStoreNames")return t.objectStoreNames||gA.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ls(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function u$(t){a0=t(a0)}function c$(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Em(this),e,...n);return gA.set(r,e.sort?e.sort():[e]),ls(r)}:o$().includes(t)?function(...e){return t.apply(Em(this),e),ls(pA.get(this))}:function(...e){return ls(t.apply(Em(this),e))}}function f$(t){return typeof t=="function"?c$(t):(t instanceof IDBTransaction&&l$(t),i$(t,s$())?new Proxy(t,a0):t)}function ls(t){if(t instanceof IDBRequest)return a$(t);if(wm.has(t))return wm.get(t);const e=f$(t);return e!==t&&(wm.set(t,e),X_.set(e,t)),e}const Em=t=>X_.get(t);function d$(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),l=ls(o);return r&&o.addEventListener("upgradeneeded",c=>{r(ls(o.result),c.oldVersion,c.newVersion,ls(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),l.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",()=>i())}).catch(()=>{}),l}const h$=["get","getKey","getAll","getAllKeys","count"],p$=["put","add","delete","clear"],Sm=new Map;function AC(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Sm.get(e))return Sm.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=p$.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||h$.includes(n)))return;const s=async function(o,...l){const c=this.transaction(o,i?"readwrite":"readonly");let f=c.store;return r&&(f=f.index(l.shift())),(await Promise.all([f[n](...l),i&&c.done]))[0]};return Sm.set(e,s),s}u$(t=>({...t,get:(e,n,r)=>AC(e,n)||t.get(e,n,r),has:(e,n)=>!!AC(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g${constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(m$(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function m$(t){const e=t.getComponent();return e?.type==="VERSION"}const l0="@firebase/app",kC="0.9.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lo=new J_("@firebase/app"),v$="@firebase/app-compat",_$="@firebase/analytics-compat",y$="@firebase/analytics",w$="@firebase/app-check-compat",E$="@firebase/app-check",S$="@firebase/auth",C$="@firebase/auth-compat",b$="@firebase/database",I$="@firebase/database-compat",T$="@firebase/functions",R$="@firebase/functions-compat",A$="@firebase/installations",k$="@firebase/installations-compat",x$="@firebase/messaging",O$="@firebase/messaging-compat",N$="@firebase/performance",P$="@firebase/performance-compat",D$="@firebase/remote-config",L$="@firebase/remote-config-compat",F$="@firebase/storage",M$="@firebase/storage-compat",U$="@firebase/firestore",B$="@firebase/firestore-compat",$$="firebase",j$="9.17.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u0="[DEFAULT]",V$={[l0]:"fire-core",[v$]:"fire-core-compat",[y$]:"fire-analytics",[_$]:"fire-analytics-compat",[E$]:"fire-app-check",[w$]:"fire-app-check-compat",[S$]:"fire-auth",[C$]:"fire-auth-compat",[b$]:"fire-rtdb",[I$]:"fire-rtdb-compat",[T$]:"fire-fn",[R$]:"fire-fn-compat",[A$]:"fire-iid",[k$]:"fire-iid-compat",[x$]:"fire-fcm",[O$]:"fire-fcm-compat",[N$]:"fire-perf",[P$]:"fire-perf-compat",[D$]:"fire-rc",[L$]:"fire-rc-compat",[F$]:"fire-gcs",[M$]:"fire-gcs-compat",[U$]:"fire-fst",[B$]:"fire-fst-compat","fire-js":"fire-js",[$$]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kd=new Map,c0=new Map;function W$(t,e){try{t.container.addComponent(e)}catch(n){lo.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Pa(t){const e=t.name;if(c0.has(e))return lo.debug(`There were multiple attempts to register component ${e}.`),!1;c0.set(e,t);for(const n of Kd.values())W$(n,t);return!0}function Z_(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z$={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},us=new cc("app","Firebase",z$);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G${constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ao("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw us.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fc=j$;function mA(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:u0,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw us.create("bad-app-name",{appName:String(i)});if(n||(n=DB()),!n)throw us.create("no-options");const s=Kd.get(i);if(s){if(Hd(n,s.options)&&Hd(r,s.config))return s;throw us.create("duplicate-app",{appName:i})}const o=new ZB(i);for(const c of c0.values())o.addComponent(c);const l=new G$(n,r,o);return Kd.set(i,l),l}function vA(t=u0){const e=Kd.get(t);if(!e&&t===u0)return mA();if(!e)throw us.create("no-app",{appName:t});return e}function cs(t,e,n){var r;let i=(r=V$[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const l=[`Unable to register library "${i}" with version "${e}":`];s&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),lo.warn(l.join(" "));return}Pa(new ao(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H$="firebase-heartbeat-database",K$=1,Uu="firebase-heartbeat-store";let Cm=null;function _A(){return Cm||(Cm=d$(H$,K$,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Uu)}}}).catch(t=>{throw us.create("idb-open",{originalErrorMessage:t.message})})),Cm}async function q$(t){try{return(await _A()).transaction(Uu).objectStore(Uu).get(yA(t))}catch(e){if(e instanceof Rs)lo.warn(e.message);else{const n=us.create("idb-get",{originalErrorMessage:e?.message});lo.warn(n.message)}}}async function xC(t,e){try{const r=(await _A()).transaction(Uu,"readwrite");return await r.objectStore(Uu).put(e,yA(t)),r.done}catch(n){if(n instanceof Rs)lo.warn(n.message);else{const r=us.create("idb-set",{originalErrorMessage:n?.message});lo.warn(r.message)}}}function yA(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y$=1024,Q$=30*24*60*60*1e3;class J${constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Z$(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=OC();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const s=new Date(i.date).valueOf();return Date.now()-s<=Q$}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=OC(),{heartbeatsToSend:n,unsentEntries:r}=X$(this._heartbeatsCache.heartbeats),i=Wd(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function OC(){return new Date().toISOString().substring(0,10)}function X$(t,e=Y$){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),NC(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),NC(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Z${constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return UB()?BB().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await q$(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return xC(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return xC(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function NC(t){return Wd(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e8(t){Pa(new ao("platform-logger",e=>new g$(e),"PRIVATE")),Pa(new ao("heartbeat",e=>new J$(e),"PRIVATE")),cs(l0,kC,t),cs(l0,kC,"esm2017"),cs("fire-js","")}e8("");const PC="@firebase/database",DC="0.14.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wA="";function t8(t){wA=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n8{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),wt(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Mu(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r8{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return wi(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EA=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new n8(e)}}catch{}return new r8},qs=EA("localStorage"),f0=EA("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _a=new J_("@firebase/database"),i8=function(){let t=1;return function(){return t++}}(),SA=function(t){const e=YB(t),n=new GB;n.update(e);const r=n.digest();return K_.encodeByteArray(r)},dc=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=dc.apply(null,r):typeof r=="object"?e+=wt(r):e+=r,e+=" "}return e};let eo=null,LC=!0;const s8=function(t,e){Q(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(_a.logLevel=Ve.VERBOSE,eo=_a.log.bind(_a),e&&f0.set("logging_enabled",!0)):typeof t=="function"?eo=t:(eo=null,f0.remove("logging_enabled"))},zt=function(...t){if(LC===!0&&(LC=!1,eo===null&&f0.get("logging_enabled")===!0&&s8(!0)),eo){const e=dc.apply(null,t);eo(e)}},hc=function(t){return function(...e){zt(t,...e)}},d0=function(...t){const e="FIREBASE INTERNAL ERROR: "+dc(...t);_a.error(e)},mi=function(...t){const e=`FIREBASE FATAL ERROR: ${dc(...t)}`;throw _a.error(e),new Error(e)},Pn=function(...t){const e="FIREBASE WARNING: "+dc(...t);_a.warn(e)},o8=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Pn("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},CA=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},a8=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Da="[MIN_NAME]",uo="[MAX_NAME]",Ja=function(t,e){if(t===e)return 0;if(t===Da||e===uo)return-1;if(e===Da||t===uo)return 1;{const n=FC(t),r=FC(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},l8=function(t,e){return t===e?0:t<e?-1:1},Fl=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+wt(e))},ey=function(t){if(typeof t!="object"||t===null)return wt(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=wt(e[r]),n+=":",n+=ey(t[e[r]]);return n+="}",n},bA=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function En(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const IA=function(t){Q(!CA(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let i,s,o,l,c;t===0?(s=0,o=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(l=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=l+r,o=Math.round(t*Math.pow(2,n-l)-Math.pow(2,n))):(s=0,o=Math.round(t/Math.pow(2,1-r-n))));const f=[];for(c=n;c;c-=1)f.push(o%2?1:0),o=Math.floor(o/2);for(c=e;c;c-=1)f.push(s%2?1:0),s=Math.floor(s/2);f.push(i?1:0),f.reverse();const h=f.join("");let p="";for(c=0;c<64;c+=8){let g=parseInt(h.substr(c,8),2).toString(16);g.length===1&&(g="0"+g),p=p+g}return p.toLowerCase()},u8=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},c8=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function f8(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}const d8=new RegExp("^-?(0*)\\d{1,10}$"),h8=-2147483648,p8=2147483647,FC=function(t){if(d8.test(t)){const e=Number(t);if(e>=h8&&e<=p8)return e}return null},pc=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw Pn("Exception was thrown by user callback.",n),e},Math.floor(0))}},g8=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},fu=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m8{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n?.getImmediate({optional:!0}),this.appCheck||n?.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){Pn(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v8{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(zt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Pn(e)}}class ya{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}ya.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ty="5",TA="v",RA="s",AA="r",kA="f",xA=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,OA="ls",NA="p",h0="ac",PA="websocket",DA="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LA{constructor(e,n,r,i,s=!1,o="",l=!1,c=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=l,this.isUsingEmulator=c,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=qs.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&qs.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function _8(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function FA(t,e,n){Q(typeof e=="string","typeof type must == string"),Q(typeof n=="object","typeof params must == object");let r;if(e===PA)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===DA)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);_8(t)&&(n.ns=t.namespace);const i=[];return En(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y8{constructor(){this.counters_={}}incrementCounter(e,n=1){wi(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return RB(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bm={},Im={};function ny(t){const e=t.toString();return bm[e]||(bm[e]=new y8),bm[e]}function w8(t,e){const n=t.toString();return Im[n]||(Im[n]=e()),Im[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E8{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&pc(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MC="start",S8="close",C8="pLPCommand",b8="pRTLPCB",MA="id",UA="pw",BA="ser",I8="cb",T8="seg",R8="ts",A8="d",k8="dframe",$A=1870,jA=30,x8=$A-jA,O8=25e3,N8=3e4;class ia{constructor(e,n,r,i,s,o,l){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=l,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=hc(e),this.stats_=ny(n),this.urlFn=c=>(this.appCheckToken&&(c[h0]=this.appCheckToken),FA(n,DA,c))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new E8(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(N8)),a8(()=>{if(this.isClosed_)return;this.scriptTagHolder=new ry((...s)=>{const[o,l,c,f,h]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===MC)this.id=l,this.password=c;else if(o===S8)l?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(l,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{const[o,l]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,l)},()=>{this.onClosed_()},this.urlFn);const r={};r[MC]="t",r[BA]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[I8]=this.scriptTagHolder.uniqueCallbackIdentifier),r[TA]=ty,this.transportSessionId&&(r[RA]=this.transportSessionId),this.lastSessionId&&(r[OA]=this.lastSessionId),this.applicationId&&(r[NA]=this.applicationId),this.appCheckToken&&(r[h0]=this.appCheckToken),typeof location<"u"&&location.hostname&&xA.test(location.hostname)&&(r[AA]=kA);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){ia.forceAllow_=!0}static forceDisallow(){ia.forceDisallow_=!0}static isAvailable(){return ia.forceAllow_?!0:!ia.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!u8()&&!c8()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=wt(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=oA(n),i=bA(r,x8);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[k8]="t",r[MA]=e,r[UA]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=wt(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class ry{constructor(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=i8(),window[C8+this.uniqueCallbackIdentifier]=e,window[b8+this.uniqueCallbackIdentifier]=n,this.myIFrame=ry.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(l){zt("frame writing exception"),l.stack&&zt(l.stack),zt(l)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||zt("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[MA]=this.myID,e[UA]=this.myPW,e[BA]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+jA+r.length<=$A;){const o=this.pendingSegs.shift();r=r+"&"+T8+i+"="+o.seg+"&"+R8+i+"="+o.ts+"&"+A8+i+"="+o.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(O8)),s=()=>{clearTimeout(i),r()};this.addTag(e,s)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{zt("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P8=16384,D8=45e3;let qd=null;typeof MozWebSocket<"u"?qd=MozWebSocket:typeof WebSocket<"u"&&(qd=WebSocket);class vr{constructor(e,n,r,i,s,o,l){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=hc(this.connId),this.stats_=ny(n),this.connURL=vr.connectionURL_(n,o,l,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,i,s){const o={};return o[TA]=ty,typeof location<"u"&&location.hostname&&xA.test(location.hostname)&&(o[AA]=kA),n&&(o[RA]=n),r&&(o[OA]=r),i&&(o[h0]=i),s&&(o[NA]=s),FA(e,PA,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,qs.set("previous_websocket_failure",!0);try{let r;fA(),this.mySock=new qd(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){vr.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&qd!==null&&!vr.forceDisallow_}static previouslyFailed(){return qs.isInMemoryStorage||qs.get("previous_websocket_failure")===!0}markConnectionHealthy(){qs.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=Mu(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(Q(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=wt(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=bA(n,P8);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(D8))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}vr.responsesRequiredToBeHealthy=2;vr.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bu{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[ia,vr]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=vr&&vr.isAvailable();let r=n&&!vr.previouslyFailed();if(e.webSocketOnly&&(n||Pn("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[vr];else{const i=this.transports_=[];for(const s of Bu.ALL_TRANSPORTS)s&&s.isAvailable()&&i.push(s);Bu.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Bu.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L8=6e4,F8=5e3,M8=10*1024,U8=100*1024,Tm="t",UC="d",B8="s",BC="r",$8="e",$C="o",jC="a",VC="n",WC="p",j8="h";class V8{constructor(e,n,r,i,s,o,l,c,f,h){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=l,this.onDisconnect_=c,this.onKill_=f,this.lastSessionId=h,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=hc("c:"+this.id+":"),this.transportManager_=new Bu(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=fu(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>U8?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>M8?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Tm in e){const n=e[Tm];n===jC?this.upgradeIfSecondaryHealthy_():n===BC?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===$C&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Fl("t",e),r=Fl("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:WC,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:jC,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:VC,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Fl("t",e),r=Fl("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Fl(Tm,e);if(UC in e){const r=e[UC];if(n===j8){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===VC){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===B8?this.onConnectionShutdown_(r):n===BC?this.onReset_(r):n===$8?d0("Server Error: "+r):n===$C?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):d0("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),ty!==r&&Pn("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),fu(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(L8))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):fu(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(F8))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:WC,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(qs.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VA{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WA{constructor(e){this.allowedEvents_=e,this.listeners_={},Q(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(e){Q(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yd extends WA{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Q_()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Yd}getInitialEvent(e){return Q(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zC=32,GC=768;class ze{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function Le(){return new ze("")}function Ie(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function _s(t){return t.pieces_.length-t.pieceNum_}function He(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new ze(t.pieces_,e)}function zA(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function W8(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function GA(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function HA(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new ze(e,0)}function Et(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof ze)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new ze(n,0)}function Te(t){return t.pieceNum_>=t.pieces_.length}function tn(t,e){const n=Ie(t),r=Ie(e);if(n===null)return e;if(n===r)return tn(He(t),He(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function iy(t,e){if(_s(t)!==_s(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function _r(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(_s(t)>_s(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class z8{constructor(e,n){this.errorPrefix_=n,this.parts_=GA(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Hh(this.parts_[r]);KA(this)}}function G8(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Hh(e),KA(t)}function H8(t){const e=t.parts_.pop();t.byteLength_-=Hh(e),t.parts_.length>0&&(t.byteLength_-=1)}function KA(t){if(t.byteLength_>GC)throw new Error(t.errorPrefix_+"has a key path longer than "+GC+" bytes ("+t.byteLength_+").");if(t.parts_.length>zC)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+zC+") or object contains a cycle "+Ws(t))}function Ws(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sy extends WA{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new sy}getInitialEvent(e){return Q(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ml=1e3,K8=60*5*1e3,HC=30*1e3,q8=1.3,Y8=3e4,Q8="server_kill",KC=3;class fi extends VA{constructor(e,n,r,i,s,o,l,c){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=s,this.authTokenProvider_=o,this.appCheckTokenProvider_=l,this.authOverride_=c,this.id=fi.nextPersistentConnectionId_++,this.log_=hc("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Ml,this.maxReconnectDelay_=K8,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,c&&!fA())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");sy.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Yd.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const i=++this.requestNumber_,s={r:i,a:e,b:n};this.log_(wt(s)),Q(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[i]=r)}get(e){this.initConnection_();const n=new Y_,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const l=o.d;o.s==="ok"?n.resolve(l):n.reject(l)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(e,n,r,i){this.initConnection_();const s=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+s),this.listens.has(o)||this.listens.set(o,new Map),Q(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),Q(!this.listens.get(o).has(s),"listen() called twice for same path/queryId.");const l={onComplete:i,hashFn:n,query:e,tag:r};this.listens.get(o).set(s,l),this.connected_&&this.sendListen_(l)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const s={p:r},o="q";e.tag&&(s.q=n._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest(o,s,l=>{const c=l.d,f=l.s;fi.warnOnListenWarnings_(c,n),(this.listens.get(r)&&this.listens.get(r).get(i))===e&&(this.log_("listen response",l),f!=="ok"&&this.removeListen_(r,i),e.onComplete&&e.onComplete(f,c))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&wi(e,"w")){const r=Na(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();Pn(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||zB(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=HC)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=WB(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const s=i.s,o=i.d||"error";this.authToken_===e&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),Q(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,e._queryObject,n)}sendUnlisten_(e,n,r,i){this.log_("Unlisten on "+e+" for "+n);const s={p:e},o="n";i&&(s.q=r,s.t=i),this.sendRequest(o,s)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,i){const s={p:n,d:r};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,o=>{i&&setTimeout(()=>{i(o.s,o.d)},Math.floor(0))})}put(e,n,r,i){this.putInternal("p",e,n,r,i)}merge(e,n,r,i){this.putInternal("m",e,n,r,i)}putInternal(e,n,r,i,s){this.initConnection_();const o={p:n,d:r};s!==void 0&&(o.h=s),this.outstandingPuts_.push({action:e,request:o,onComplete:i}),this.outstandingPutCount_++;const l=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(l):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(s.s,s.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+wt(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):d0("Unrecognized action received from server: "+wt(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){Q(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Ml,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Ml,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>Y8&&(this.reconnectDelay_=Ml),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*q8)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+fi.nextConnectionId_++,s=this.lastSessionId;let o=!1,l=null;const c=function(){l?l.close():(o=!0,r())},f=function(p){Q(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(p)};this.realtime_={close:c,sendRequest:f};const h=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[p,g]=await Promise.all([this.authTokenProvider_.getToken(h),this.appCheckTokenProvider_.getToken(h)]);o?zt("getToken() completed but was canceled"):(zt("getToken() completed. Creating connection."),this.authToken_=p&&p.accessToken,this.appCheckToken_=g&&g.token,l=new V8(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,v=>{Pn(v+" ("+this.repoInfo_.toString()+")"),this.interrupt(Q8)},s))}catch(p){this.log_("Failed to get token: "+p),o||(this.repoInfo_.nodeAdmin&&Pn(p),c())}}}interrupt(e){zt("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){zt("Resuming connection for reason: "+e),delete this.interruptReasons_[e],s0(this.interruptReasons_)&&(this.reconnectDelay_=Ml,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(s=>ey(s)).join("$"):r="default";const i=this.removeListen_(e,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,n){const r=new ze(e).toString();let i;if(this.listens.has(r)){const s=this.listens.get(r);i=s.get(n),s.delete(n),s.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(e,n){zt("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=KC&&(this.reconnectDelay_=HC,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){zt("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=KC&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+wA.replace(/\./g,"-")]=1,Q_()?e["framework.cordova"]=1:cA()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Yd.getInstance().currentlyOnline();return s0(this.interruptReasons_)&&e}}fi.nextPersistentConnectionId_=0;fi.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new Ce(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new Ce(Da,e),i=new Ce(Da,n);return this.compare(r,i)!==0}minPost(){return Ce.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lf;class qA extends Kh{static get __EMPTY_NODE(){return Lf}static set __EMPTY_NODE(e){Lf=e}compare(e,n){return Ja(e.name,n.name)}isDefinedOn(e){throw Ya("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return Ce.MIN}maxPost(){return new Ce(uo,Lf)}makePost(e,n){return Q(typeof e=="string","KeyIndex indexValue must always be a string."),new Ce(e,Lf)}toString(){return".key"}}const wa=new qA;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ff{constructor(e,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,i&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class kt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??kt.RED,this.left=i??vn.EMPTY_NODE,this.right=s??vn.EMPTY_NODE}copy(e,n,r,i,s){return new kt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return vn.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,i;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return vn.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,kt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,kt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}kt.RED=!0;kt.BLACK=!1;class J8{copy(e,n,r,i,s){return this}insert(e,n,r){return new kt(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class vn{constructor(e,n=vn.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new vn(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,kt.BLACK,null,null))}remove(e){return new vn(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,kt.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Ff(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Ff(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Ff(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Ff(this.root_,null,this.comparator_,!0,e)}}vn.EMPTY_NODE=new J8;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X8(t,e){return Ja(t.name,e.name)}function oy(t,e){return Ja(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let p0;function Z8(t){p0=t}const YA=function(t){return typeof t=="number"?"number:"+IA(t):"string:"+t},QA=function(t){if(t.isLeafNode()){const e=t.val();Q(typeof e=="string"||typeof e=="number"||typeof e=="object"&&wi(e,".sv"),"Priority must be a string or number.")}else Q(t===p0||t.isEmpty(),"priority of unexpected type.");Q(t===p0||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qC;class Rt{constructor(e,n=Rt.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,Q(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),QA(this.priorityNode_)}static set __childrenNodeConstructor(e){qC=e}static get __childrenNodeConstructor(){return qC}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Rt(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Rt.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Te(e)?this:Ie(e)===".priority"?this.priorityNode_:Rt.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:Rt.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=Ie(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(Q(r!==".priority"||_s(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,Rt.__childrenNodeConstructor.EMPTY_NODE.updateChild(He(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+YA(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=IA(this.value_):e+=this.value_,this.lazyHash_=SA(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Rt.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Rt.__childrenNodeConstructor?-1:(Q(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,i=Rt.VALUE_TYPE_ORDER.indexOf(n),s=Rt.VALUE_TYPE_ORDER.indexOf(r);return Q(i>=0,"Unknown leaf type: "+n),Q(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}Rt.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let JA,XA;function ej(t){JA=t}function tj(t){XA=t}class nj extends Kh{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?Ja(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return Ce.MIN}maxPost(){return new Ce(uo,new Rt("[PRIORITY-POST]",XA))}makePost(e,n){const r=JA(e);return new Ce(n,new Rt("[PRIORITY-POST]",r))}toString(){return".priority"}}const ut=new nj;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rj=Math.log(2);class ij{constructor(e){const n=s=>parseInt(Math.log(s)/rj,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Qd=function(t,e,n,r){t.sort(e);const i=function(c,f){const h=f-c;let p,g;if(h===0)return null;if(h===1)return p=t[c],g=n?n(p):p,new kt(g,p.node,kt.BLACK,null,null);{const v=parseInt(h/2,10)+c,I=i(c,v),T=i(v+1,f);return p=t[v],g=n?n(p):p,new kt(g,p.node,kt.BLACK,I,T)}},s=function(c){let f=null,h=null,p=t.length;const g=function(I,T){const R=p-I,w=p;p-=I;const E=i(R+1,w),b=t[R],O=n?n(b):b;v(new kt(O,b.node,T,null,E))},v=function(I){f?(f.left=I,f=I):(h=I,f=I)};for(let I=0;I<c.count;++I){const T=c.nextBitIsOne(),R=Math.pow(2,c.count-(I+1));T?g(R,kt.BLACK):(g(R,kt.BLACK),g(R,kt.RED))}return h},o=new ij(t.length),l=s(o);return new vn(r||e,l)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rm;const $o={};class ai{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return Q($o&&ut,"ChildrenNode.ts has not been loaded"),Rm=Rm||new ai({".priority":$o},{".priority":ut}),Rm}get(e){const n=Na(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof vn?n:null}hasIndex(e){return wi(this.indexSet_,e.toString())}addIndex(e,n){Q(e!==wa,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=n.getIterator(Ce.Wrap);let o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();let l;i?l=Qd(r,e.getCompare()):l=$o;const c=e.toString(),f=Object.assign({},this.indexSet_);f[c]=e;const h=Object.assign({},this.indexes_);return h[c]=l,new ai(h,f)}addToIndexes(e,n){const r=Gd(this.indexes_,(i,s)=>{const o=Na(this.indexSet_,s);if(Q(o,"Missing index implementation for "+s),i===$o)if(o.isDefinedOn(e.node)){const l=[],c=n.getIterator(Ce.Wrap);let f=c.getNext();for(;f;)f.name!==e.name&&l.push(f),f=c.getNext();return l.push(e),Qd(l,o.getCompare())}else return $o;else{const l=n.get(e.name);let c=i;return l&&(c=c.remove(new Ce(e.name,l))),c.insert(e,e.node)}});return new ai(r,this.indexSet_)}removeFromIndexes(e,n){const r=Gd(this.indexes_,i=>{if(i===$o)return i;{const s=n.get(e.name);return s?i.remove(new Ce(e.name,s)):i}});return new ai(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ul;class ge{constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&QA(this.priorityNode_),this.children_.isEmpty()&&Q(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Ul||(Ul=new ge(new vn(oy),null,ai.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Ul}updatePriority(e){return this.children_.isEmpty()?this:new ge(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?Ul:n}}getChild(e){const n=Ie(e);return n===null?this:this.getImmediateChild(n).getChild(He(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(Q(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new Ce(e,n);let i,s;n.isEmpty()?(i=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(r,this.children_));const o=i.isEmpty()?Ul:this.priorityNode_;return new ge(i,o,s)}}updateChild(e,n){const r=Ie(e);if(r===null)return n;{Q(Ie(e)!==".priority"||_s(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(He(e),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,i=0,s=!0;if(this.forEachChild(ut,(o,l)=>{n[o]=l.val(e),r++,s&&ge.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):s=!1}),!e&&s&&i<2*r){const o=[];for(const l in n)o[l]=n[l];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+YA(this.getPriority().val())+":"),this.forEachChild(ut,(n,r)=>{const i=r.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":SA(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const i=this.resolveIndex_(r);if(i){const s=i.getPredecessorKey(new Ce(e,n));return s?s.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new Ce(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new Ce(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,Ce.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)<0;)i.getNext(),s=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,Ce.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)>0;)i.getNext(),s=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===gc?-1:0}withIndex(e){if(e===wa||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new ge(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===wa||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(ut),i=n.getIterator(ut);let s=r.getNext(),o=i.getNext();for(;s&&o;){if(s.name!==o.name||!s.node.equals(o.node))return!1;s=r.getNext(),o=i.getNext()}return s===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===wa?null:this.indexMap_.get(e.toString())}}ge.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class sj extends ge{constructor(){super(new vn(oy),ge.EMPTY_NODE,ai.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return ge.EMPTY_NODE}isEmpty(){return!1}}const gc=new sj;Object.defineProperties(Ce,{MIN:{value:new Ce(Da,ge.EMPTY_NODE)},MAX:{value:new Ce(uo,gc)}});qA.__EMPTY_NODE=ge.EMPTY_NODE;Rt.__childrenNodeConstructor=ge;Z8(gc);tj(gc);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oj=!0;function Lt(t,e=null){if(t===null)return ge.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),Q(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new Rt(n,Lt(e))}if(!(t instanceof Array)&&oj){const n=[];let r=!1;if(En(t,(o,l)=>{if(o.substring(0,1)!=="."){const c=Lt(l);c.isEmpty()||(r=r||!c.getPriority().isEmpty(),n.push(new Ce(o,c)))}}),n.length===0)return ge.EMPTY_NODE;const s=Qd(n,X8,o=>o.name,oy);if(r){const o=Qd(n,ut.getCompare());return new ge(s,Lt(e),new ai({".priority":o},{".priority":ut}))}else return new ge(s,Lt(e),ai.Default)}else{let n=ge.EMPTY_NODE;return En(t,(r,i)=>{if(wi(t,r)&&r.substring(0,1)!=="."){const s=Lt(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(Lt(e))}}ej(Lt);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aj extends Kh{constructor(e){super(),this.indexPath_=e,Q(!Te(e)&&Ie(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?Ja(e.name,n.name):s}makePost(e,n){const r=Lt(e),i=ge.EMPTY_NODE.updateChild(this.indexPath_,r);return new Ce(n,i)}maxPost(){const e=ge.EMPTY_NODE.updateChild(this.indexPath_,gc);return new Ce(uo,e)}toString(){return GA(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lj extends Kh{compare(e,n){const r=e.node.compareTo(n.node);return r===0?Ja(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return Ce.MIN}maxPost(){return Ce.MAX}makePost(e,n){const r=Lt(e);return new Ce(n,r)}toString(){return".value"}}const uj=new lj;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZA(t){return{type:"value",snapshotNode:t}}function La(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function $u(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function ju(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function cj(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ay{constructor(e){this.index_=e}updateChild(e,n,r,i,s,o){Q(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const l=e.getImmediateChild(n);return l.getChild(i).equals(r.getChild(i))&&l.isEmpty()===r.isEmpty()||(o!=null&&(r.isEmpty()?e.hasChild(n)?o.trackChildChange($u(n,l)):Q(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):l.isEmpty()?o.trackChildChange(La(n,r)):o.trackChildChange(ju(n,r,l))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(ut,(i,s)=>{n.hasChild(i)||r.trackChildChange($u(i,s))}),n.isLeafNode()||n.forEachChild(ut,(i,s)=>{if(e.hasChild(i)){const o=e.getImmediateChild(i);o.equals(s)||r.trackChildChange(ju(i,s,o))}else r.trackChildChange(La(i,s))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?ge.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vu{constructor(e){this.indexedFilter_=new ay(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Vu.getStartPost_(e),this.endPost_=Vu.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,i,s,o){return this.matches(new Ce(n,r))||(r=ge.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,i,s,o)}updateFullNode(e,n,r){n.isLeafNode()&&(n=ge.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(ge.EMPTY_NODE);const s=this;return n.forEachChild(ut,(o,l)=>{s.matches(new Ce(o,l))||(i=i.updateImmediateChild(o,ge.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fj{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new Vu(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,i,s,o){return this.rangedFilter_.matches(new Ce(n,r))||(r=ge.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,i,s,o):this.fullLimitUpdateChild_(e,n,r,s,o)}updateFullNode(e,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=ge.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=ge.EMPTY_NODE.withIndex(this.index_);let s;this.reverse_?s=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;s.hasNext()&&o<this.limit_;){const l=s.getNext();if(this.withinDirectionalStart(l))if(this.withinDirectionalEnd(l))i=i.updateImmediateChild(l.name,l.node),o++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(ge.EMPTY_NODE);let s;this.reverse_?s=i.getReverseIterator(this.index_):s=i.getIterator(this.index_);let o=0;for(;s.hasNext();){const l=s.getNext();o<this.limit_&&this.withinDirectionalStart(l)&&this.withinDirectionalEnd(l)?o++:i=i.updateImmediateChild(l.name,ge.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,i,s){let o;if(this.reverse_){const p=this.index_.getCompare();o=(g,v)=>p(v,g)}else o=this.index_.getCompare();const l=e;Q(l.numChildren()===this.limit_,"");const c=new Ce(n,r),f=this.reverse_?l.getFirstChild(this.index_):l.getLastChild(this.index_),h=this.rangedFilter_.matches(c);if(l.hasChild(n)){const p=l.getImmediateChild(n);let g=i.getChildAfterChild(this.index_,f,this.reverse_);for(;g!=null&&(g.name===n||l.hasChild(g.name));)g=i.getChildAfterChild(this.index_,g,this.reverse_);const v=g==null?1:o(g,c);if(h&&!r.isEmpty()&&v>=0)return s?.trackChildChange(ju(n,r,p)),l.updateImmediateChild(n,r);{s?.trackChildChange($u(n,p));const T=l.updateImmediateChild(n,ge.EMPTY_NODE);return g!=null&&this.rangedFilter_.matches(g)?(s?.trackChildChange(La(g.name,g.node)),T.updateImmediateChild(g.name,g.node)):T}}else return r.isEmpty()?e:h&&o(f,c)>=0?(s!=null&&(s.trackChildChange($u(f.name,f.node)),s.trackChildChange(La(n,r))),l.updateImmediateChild(n,r).updateImmediateChild(f.name,ge.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ly{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=ut}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return Q(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return Q(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Da}hasEnd(){return this.endSet_}getIndexEndValue(){return Q(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return Q(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:uo}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return Q(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===ut}copy(){const e=new ly;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function dj(t){return t.loadsAllData()?new ay(t.getIndex()):t.hasLimit()?new fj(t):new Vu(t)}function YC(t){const e={};if(t.isDefault())return e;let n;if(t.index_===ut?n="$priority":t.index_===uj?n="$value":t.index_===wa?n="$key":(Q(t.index_ instanceof aj,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=wt(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=wt(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+wt(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=wt(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+wt(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function QC(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==ut&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jd extends VA{constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=hc("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(Q(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=Jd.getListenId_(e,r),l={};this.listens_[o]=l;const c=YC(e._queryParams);this.restRequest_(s+".json",c,(f,h)=>{let p=h;if(f===404&&(p=null,f=null),f===null&&this.onDataUpdate_(s,p,!1,r),Na(this.listens_,o)===l){let g;f?f===401?g="permission_denied":g="rest_error:"+f:g="ok",i(g,null)}})}unlisten(e,n){const r=Jd.getListenId_(e,n);delete this.listens_[r]}get(e){const n=YC(e._queryParams),r=e._path.toString(),i=new Y_;return this.restRequest_(r+".json",n,(s,o)=>{let l=o;s===404&&(l=null,s=null),s===null?(this.onDataUpdate_(r,l,!1,null),i.resolve(l)):i.reject(new Error(l))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Qa(n);this.log_("Sending REST request for "+o);const l=new XMLHttpRequest;l.onreadystatechange=()=>{if(r&&l.readyState===4){this.log_("REST Response for "+o+" received. status:",l.status,"response:",l.responseText);let c=null;if(l.status>=200&&l.status<300){try{c=Mu(l.responseText)}catch{Pn("Failed to parse JSON response for "+o+": "+l.responseText)}r(null,c)}else l.status!==401&&l.status!==404&&Pn("Got unsuccessful REST response for "+o+" Status: "+l.status),r(l.status);r=null}},l.open("GET",o,!0),l.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hj{constructor(){this.rootNode_=ge.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xd(){return{value:null,children:new Map}}function ek(t,e,n){if(Te(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=Ie(e);t.children.has(r)||t.children.set(r,Xd());const i=t.children.get(r);e=He(e),ek(i,e,n)}}function g0(t,e,n){t.value!==null?n(e,t.value):pj(t,(r,i)=>{const s=new ze(e.toString()+"/"+r);g0(i,s,n)})}function pj(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gj{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&En(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JC=10*1e3,mj=30*1e3,vj=5*60*1e3;class _j{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new gj(e);const r=JC+(mj-JC)*Math.random();fu(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;En(e,(i,s)=>{s>0&&wi(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),fu(this.reportStats_.bind(this),Math.floor(Math.random()*2*vj))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yr;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(yr||(yr={}));function tk(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function uy(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function cy(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zd{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=yr.ACK_USER_WRITE,this.source=tk()}operationForChild(e){if(Te(this.path)){if(this.affectedTree.value!=null)return Q(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new ze(e));return new Zd(Le(),n,this.revert)}}else return Q(Ie(this.path)===e,"operationForChild called for unrelated child."),new Zd(He(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wu{constructor(e,n){this.source=e,this.path=n,this.type=yr.LISTEN_COMPLETE}operationForChild(e){return Te(this.path)?new Wu(this.source,Le()):new Wu(this.source,He(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=yr.OVERWRITE}operationForChild(e){return Te(this.path)?new co(this.source,Le(),this.snap.getImmediateChild(e)):new co(this.source,He(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zu{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=yr.MERGE}operationForChild(e){if(Te(this.path)){const n=this.children.subtree(new ze(e));return n.isEmpty()?null:n.value?new co(this.source,Le(),n.value):new zu(this.source,Le(),n)}else return Q(Ie(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new zu(this.source,He(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Te(e))return this.isFullyInitialized()&&!this.filtered_;const n=Ie(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yj{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function wj(t,e,n,r){const i=[],s=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(cj(o.childName,o.snapshotNode))}),Bl(t,i,"child_removed",e,r,n),Bl(t,i,"child_added",e,r,n),Bl(t,i,"child_moved",s,r,n),Bl(t,i,"child_changed",e,r,n),Bl(t,i,"value",e,r,n),i}function Bl(t,e,n,r,i,s){const o=r.filter(l=>l.type===n);o.sort((l,c)=>Sj(t,l,c)),o.forEach(l=>{const c=Ej(t,l,s);i.forEach(f=>{f.respondsTo(l.type)&&e.push(f.createEvent(c,t.query_))})})}function Ej(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function Sj(t,e,n){if(e.childName==null||n.childName==null)throw Ya("Should only compare child_ events.");const r=new Ce(e.childName,e.snapshotNode),i=new Ce(n.childName,n.snapshotNode);return t.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qh(t,e){return{eventCache:t,serverCache:e}}function du(t,e,n,r){return qh(new ys(e,n,r),t.serverCache)}function nk(t,e,n,r){return qh(t.eventCache,new ys(e,n,r))}function eh(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function fo(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Am;const Cj=()=>(Am||(Am=new vn(l8)),Am);class Je{constructor(e,n=Cj()){this.value=e,this.children=n}static fromObject(e){let n=new Je(null);return En(e,(r,i)=>{n=n.set(new ze(r),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:Le(),value:this.value};if(Te(e))return null;{const r=Ie(e),i=this.children.get(r);if(i!==null){const s=i.findRootMostMatchingPathAndValue(He(e),n);return s!=null?{path:Et(new ze(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Te(e))return this;{const n=Ie(e),r=this.children.get(n);return r!==null?r.subtree(He(e)):new Je(null)}}set(e,n){if(Te(e))return new Je(n,this.children);{const r=Ie(e),s=(this.children.get(r)||new Je(null)).set(He(e),n),o=this.children.insert(r,s);return new Je(this.value,o)}}remove(e){if(Te(e))return this.children.isEmpty()?new Je(null):new Je(null,this.children);{const n=Ie(e),r=this.children.get(n);if(r){const i=r.remove(He(e));let s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new Je(null):new Je(this.value,s)}else return this}}get(e){if(Te(e))return this.value;{const n=Ie(e),r=this.children.get(n);return r?r.get(He(e)):null}}setTree(e,n){if(Te(e))return n;{const r=Ie(e),s=(this.children.get(r)||new Je(null)).setTree(He(e),n);let o;return s.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,s),new Je(this.value,o)}}fold(e){return this.fold_(Le(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(Et(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,Le(),n)}findOnPath_(e,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(Te(e))return null;{const s=Ie(e),o=this.children.get(s);return o?o.findOnPath_(He(e),Et(n,s),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,Le(),n)}foreachOnPath_(e,n,r){if(Te(e))return this;{this.value&&r(n,this.value);const i=Ie(e),s=this.children.get(i);return s?s.foreachOnPath_(He(e),Et(n,i),r):new Je(null)}}foreach(e){this.foreach_(Le(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(Et(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr{constructor(e){this.writeTree_=e}static empty(){return new Cr(new Je(null))}}function hu(t,e,n){if(Te(e))return new Cr(new Je(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const i=r.path;let s=r.value;const o=tn(i,e);return s=s.updateChild(o,n),new Cr(t.writeTree_.set(i,s))}else{const i=new Je(n),s=t.writeTree_.setTree(e,i);return new Cr(s)}}}function XC(t,e,n){let r=t;return En(n,(i,s)=>{r=hu(r,Et(e,i),s)}),r}function ZC(t,e){if(Te(e))return Cr.empty();{const n=t.writeTree_.setTree(e,new Je(null));return new Cr(n)}}function m0(t,e){return yo(t,e)!=null}function yo(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(tn(n.path,e)):null}function eb(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(ut,(r,i)=>{e.push(new Ce(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new Ce(r,i.value))}),e}function fs(t,e){if(Te(e))return t;{const n=yo(t,e);return n!=null?new Cr(new Je(n)):new Cr(t.writeTree_.subtree(e))}}function v0(t){return t.writeTree_.isEmpty()}function Fa(t,e){return rk(Le(),t.writeTree_,e)}function rk(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{i===".priority"?(Q(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=rk(Et(t,i),s,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(Et(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yh(t,e){return ak(e,t)}function bj(t,e,n,r,i){Q(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=hu(t.visibleWrites,e,n)),t.lastWriteId=r}function Ij(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function Tj(t,e){const n=t.allWrites.findIndex(l=>l.writeId===e);Q(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,s=!1,o=t.allWrites.length-1;for(;i&&o>=0;){const l=t.allWrites[o];l.visible&&(o>=n&&Rj(l,r.path)?i=!1:_r(r.path,l.path)&&(s=!0)),o--}if(i){if(s)return Aj(t),!0;if(r.snap)t.visibleWrites=ZC(t.visibleWrites,r.path);else{const l=r.children;En(l,c=>{t.visibleWrites=ZC(t.visibleWrites,Et(r.path,c))})}return!0}else return!1}function Rj(t,e){if(t.snap)return _r(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&_r(Et(t.path,n),e))return!0;return!1}function Aj(t){t.visibleWrites=ik(t.allWrites,kj,Le()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function kj(t){return t.visible}function ik(t,e,n){let r=Cr.empty();for(let i=0;i<t.length;++i){const s=t[i];if(e(s)){const o=s.path;let l;if(s.snap)_r(n,o)?(l=tn(n,o),r=hu(r,l,s.snap)):_r(o,n)&&(l=tn(o,n),r=hu(r,Le(),s.snap.getChild(l)));else if(s.children){if(_r(n,o))l=tn(n,o),r=XC(r,l,s.children);else if(_r(o,n))if(l=tn(o,n),Te(l))r=XC(r,Le(),s.children);else{const c=Na(s.children,Ie(l));if(c){const f=c.getChild(He(l));r=hu(r,Le(),f)}}}else throw Ya("WriteRecord should have .snap or .children")}}return r}function sk(t,e,n,r,i){if(!r&&!i){const s=yo(t.visibleWrites,e);if(s!=null)return s;{const o=fs(t.visibleWrites,e);if(v0(o))return n;if(n==null&&!m0(o,Le()))return null;{const l=n||ge.EMPTY_NODE;return Fa(o,l)}}}else{const s=fs(t.visibleWrites,e);if(!i&&v0(s))return n;if(!i&&n==null&&!m0(s,Le()))return null;{const o=function(f){return(f.visible||i)&&(!r||!~r.indexOf(f.writeId))&&(_r(f.path,e)||_r(e,f.path))},l=ik(t.allWrites,o,e),c=n||ge.EMPTY_NODE;return Fa(l,c)}}}function xj(t,e,n){let r=ge.EMPTY_NODE;const i=yo(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(ut,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){const s=fs(t.visibleWrites,e);return n.forEachChild(ut,(o,l)=>{const c=Fa(fs(s,new ze(o)),l);r=r.updateImmediateChild(o,c)}),eb(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const s=fs(t.visibleWrites,e);return eb(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function Oj(t,e,n,r,i){Q(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=Et(e,n);if(m0(t.visibleWrites,s))return null;{const o=fs(t.visibleWrites,s);return v0(o)?i.getChild(n):Fa(o,i.getChild(n))}}function Nj(t,e,n,r){const i=Et(e,n),s=yo(t.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){const o=fs(t.visibleWrites,i);return Fa(o,r.getNode().getImmediateChild(n))}else return null}function Pj(t,e){return yo(t.visibleWrites,e)}function Dj(t,e,n,r,i,s,o){let l;const c=fs(t.visibleWrites,e),f=yo(c,Le());if(f!=null)l=f;else if(n!=null)l=Fa(c,n);else return[];if(l=l.withIndex(o),!l.isEmpty()&&!l.isLeafNode()){const h=[],p=o.getCompare(),g=s?l.getReverseIteratorFrom(r,o):l.getIteratorFrom(r,o);let v=g.getNext();for(;v&&h.length<i;)p(v,r)!==0&&h.push(v),v=g.getNext();return h}else return[]}function Lj(){return{visibleWrites:Cr.empty(),allWrites:[],lastWriteId:-1}}function th(t,e,n,r){return sk(t.writeTree,t.treePath,e,n,r)}function fy(t,e){return xj(t.writeTree,t.treePath,e)}function tb(t,e,n,r){return Oj(t.writeTree,t.treePath,e,n,r)}function nh(t,e){return Pj(t.writeTree,Et(t.treePath,e))}function Fj(t,e,n,r,i,s){return Dj(t.writeTree,t.treePath,e,n,r,i,s)}function dy(t,e,n){return Nj(t.writeTree,t.treePath,e,n)}function ok(t,e){return ak(Et(t.treePath,e),t.writeTree)}function ak(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mj{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;Q(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),Q(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,ju(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,$u(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,La(r,e.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,ju(r,e.snapshotNode,i.oldSnap));else throw Ya("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uj{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const lk=new Uj;class hy{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new ys(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return dy(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:fo(this.viewCache_),s=Fj(this.writes_,i,n,1,r,e);return s.length===0?null:s[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bj(t){return{filter:t}}function $j(t,e){Q(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),Q(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function jj(t,e,n,r,i){const s=new Mj;let o,l;if(n.type===yr.OVERWRITE){const f=n;f.source.fromUser?o=_0(t,e,f.path,f.snap,r,i,s):(Q(f.source.fromServer,"Unknown source."),l=f.source.tagged||e.serverCache.isFiltered()&&!Te(f.path),o=rh(t,e,f.path,f.snap,r,i,l,s))}else if(n.type===yr.MERGE){const f=n;f.source.fromUser?o=Wj(t,e,f.path,f.children,r,i,s):(Q(f.source.fromServer,"Unknown source."),l=f.source.tagged||e.serverCache.isFiltered(),o=y0(t,e,f.path,f.children,r,i,l,s))}else if(n.type===yr.ACK_USER_WRITE){const f=n;f.revert?o=Hj(t,e,f.path,r,i,s):o=zj(t,e,f.path,f.affectedTree,r,i,s)}else if(n.type===yr.LISTEN_COMPLETE)o=Gj(t,e,n.path,r,s);else throw Ya("Unknown operation type: "+n.type);const c=s.getChanges();return Vj(e,o,c),{viewCache:o,changes:c}}function Vj(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=eh(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(ZA(eh(e)))}}function uk(t,e,n,r,i,s){const o=e.eventCache;if(nh(r,n)!=null)return e;{let l,c;if(Te(n))if(Q(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const f=fo(e),h=f instanceof ge?f:ge.EMPTY_NODE,p=fy(r,h);l=t.filter.updateFullNode(e.eventCache.getNode(),p,s)}else{const f=th(r,fo(e));l=t.filter.updateFullNode(e.eventCache.getNode(),f,s)}else{const f=Ie(n);if(f===".priority"){Q(_s(n)===1,"Can't have a priority with additional path components");const h=o.getNode();c=e.serverCache.getNode();const p=tb(r,n,h,c);p!=null?l=t.filter.updatePriority(h,p):l=o.getNode()}else{const h=He(n);let p;if(o.isCompleteForChild(f)){c=e.serverCache.getNode();const g=tb(r,n,o.getNode(),c);g!=null?p=o.getNode().getImmediateChild(f).updateChild(h,g):p=o.getNode().getImmediateChild(f)}else p=dy(r,f,e.serverCache);p!=null?l=t.filter.updateChild(o.getNode(),f,p,h,i,s):l=o.getNode()}}return du(e,l,o.isFullyInitialized()||Te(n),t.filter.filtersNodes())}}function rh(t,e,n,r,i,s,o,l){const c=e.serverCache;let f;const h=o?t.filter:t.filter.getIndexedFilter();if(Te(n))f=h.updateFullNode(c.getNode(),r,null);else if(h.filtersNodes()&&!c.isFiltered()){const v=c.getNode().updateChild(n,r);f=h.updateFullNode(c.getNode(),v,null)}else{const v=Ie(n);if(!c.isCompleteForPath(n)&&_s(n)>1)return e;const I=He(n),R=c.getNode().getImmediateChild(v).updateChild(I,r);v===".priority"?f=h.updatePriority(c.getNode(),R):f=h.updateChild(c.getNode(),v,R,I,lk,null)}const p=nk(e,f,c.isFullyInitialized()||Te(n),h.filtersNodes()),g=new hy(i,p,s);return uk(t,p,n,i,g,l)}function _0(t,e,n,r,i,s,o){const l=e.eventCache;let c,f;const h=new hy(i,e,s);if(Te(n))f=t.filter.updateFullNode(e.eventCache.getNode(),r,o),c=du(e,f,!0,t.filter.filtersNodes());else{const p=Ie(n);if(p===".priority")f=t.filter.updatePriority(e.eventCache.getNode(),r),c=du(e,f,l.isFullyInitialized(),l.isFiltered());else{const g=He(n),v=l.getNode().getImmediateChild(p);let I;if(Te(g))I=r;else{const T=h.getCompleteChild(p);T!=null?zA(g)===".priority"&&T.getChild(HA(g)).isEmpty()?I=T:I=T.updateChild(g,r):I=ge.EMPTY_NODE}if(v.equals(I))c=e;else{const T=t.filter.updateChild(l.getNode(),p,I,g,h,o);c=du(e,T,l.isFullyInitialized(),t.filter.filtersNodes())}}}return c}function nb(t,e){return t.eventCache.isCompleteForChild(e)}function Wj(t,e,n,r,i,s,o){let l=e;return r.foreach((c,f)=>{const h=Et(n,c);nb(e,Ie(h))&&(l=_0(t,l,h,f,i,s,o))}),r.foreach((c,f)=>{const h=Et(n,c);nb(e,Ie(h))||(l=_0(t,l,h,f,i,s,o))}),l}function rb(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function y0(t,e,n,r,i,s,o,l){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let c=e,f;Te(n)?f=r:f=new Je(null).setTree(n,r);const h=e.serverCache.getNode();return f.children.inorderTraversal((p,g)=>{if(h.hasChild(p)){const v=e.serverCache.getNode().getImmediateChild(p),I=rb(t,v,g);c=rh(t,c,new ze(p),I,i,s,o,l)}}),f.children.inorderTraversal((p,g)=>{const v=!e.serverCache.isCompleteForChild(p)&&g.value===null;if(!h.hasChild(p)&&!v){const I=e.serverCache.getNode().getImmediateChild(p),T=rb(t,I,g);c=rh(t,c,new ze(p),T,i,s,o,l)}}),c}function zj(t,e,n,r,i,s,o){if(nh(i,n)!=null)return e;const l=e.serverCache.isFiltered(),c=e.serverCache;if(r.value!=null){if(Te(n)&&c.isFullyInitialized()||c.isCompleteForPath(n))return rh(t,e,n,c.getNode().getChild(n),i,s,l,o);if(Te(n)){let f=new Je(null);return c.getNode().forEachChild(wa,(h,p)=>{f=f.set(new ze(h),p)}),y0(t,e,n,f,i,s,l,o)}else return e}else{let f=new Je(null);return r.foreach((h,p)=>{const g=Et(n,h);c.isCompleteForPath(g)&&(f=f.set(h,c.getNode().getChild(g)))}),y0(t,e,n,f,i,s,l,o)}}function Gj(t,e,n,r,i){const s=e.serverCache,o=nk(e,s.getNode(),s.isFullyInitialized()||Te(n),s.isFiltered());return uk(t,o,n,r,lk,i)}function Hj(t,e,n,r,i,s){let o;if(nh(r,n)!=null)return e;{const l=new hy(r,e,i),c=e.eventCache.getNode();let f;if(Te(n)||Ie(n)===".priority"){let h;if(e.serverCache.isFullyInitialized())h=th(r,fo(e));else{const p=e.serverCache.getNode();Q(p instanceof ge,"serverChildren would be complete if leaf node"),h=fy(r,p)}h=h,f=t.filter.updateFullNode(c,h,s)}else{const h=Ie(n);let p=dy(r,h,e.serverCache);p==null&&e.serverCache.isCompleteForChild(h)&&(p=c.getImmediateChild(h)),p!=null?f=t.filter.updateChild(c,h,p,He(n),l,s):e.eventCache.getNode().hasChild(h)?f=t.filter.updateChild(c,h,ge.EMPTY_NODE,He(n),l,s):f=c,f.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=th(r,fo(e)),o.isLeafNode()&&(f=t.filter.updateFullNode(f,o,s)))}return o=e.serverCache.isFullyInitialized()||nh(r,Le())!=null,du(e,f,o,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kj{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new ay(r.getIndex()),s=dj(r);this.processor_=Bj(s);const o=n.serverCache,l=n.eventCache,c=i.updateFullNode(ge.EMPTY_NODE,o.getNode(),null),f=s.updateFullNode(ge.EMPTY_NODE,l.getNode(),null),h=new ys(c,o.isFullyInitialized(),i.filtersNodes()),p=new ys(f,l.isFullyInitialized(),s.filtersNodes());this.viewCache_=qh(p,h),this.eventGenerator_=new yj(this.query_)}get query(){return this.query_}}function qj(t){return t.viewCache_.serverCache.getNode()}function Yj(t){return eh(t.viewCache_)}function Qj(t,e){const n=fo(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!Te(e)&&!n.getImmediateChild(Ie(e)).isEmpty())?n.getChild(e):null}function ib(t){return t.eventRegistrations_.length===0}function Jj(t,e){t.eventRegistrations_.push(e)}function sb(t,e,n){const r=[];if(n){Q(e==null,"A cancel should cancel all event registrations.");const i=t.query._path;t.eventRegistrations_.forEach(s=>{const o=s.createCancelEvent(n,i);o&&r.push(o)})}if(e){let i=[];for(let s=0;s<t.eventRegistrations_.length;++s){const o=t.eventRegistrations_[s];if(!o.matches(e))i.push(o);else if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(s+1));break}}t.eventRegistrations_=i}else t.eventRegistrations_=[];return r}function ob(t,e,n,r){e.type===yr.MERGE&&e.source.queryId!==null&&(Q(fo(t.viewCache_),"We should always have a full cache before handling merges"),Q(eh(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,s=jj(t.processor_,i,e,n,r);return $j(t.processor_,s.viewCache),Q(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,ck(t,s.changes,s.viewCache.eventCache.getNode(),null)}function Xj(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(ut,(s,o)=>{r.push(La(s,o))}),n.isFullyInitialized()&&r.push(ZA(n.getNode())),ck(t,r,n.getNode(),e)}function ck(t,e,n,r){const i=r?[r]:t.eventRegistrations_;return wj(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ih;class fk{constructor(){this.views=new Map}}function Zj(t){Q(!ih,"__referenceConstructor has already been defined"),ih=t}function e7(){return Q(ih,"Reference.ts has not been loaded"),ih}function t7(t){return t.views.size===0}function py(t,e,n,r){const i=e.source.queryId;if(i!==null){const s=t.views.get(i);return Q(s!=null,"SyncTree gave us an op for an invalid query."),ob(s,e,n,r)}else{let s=[];for(const o of t.views.values())s=s.concat(ob(o,e,n,r));return s}}function dk(t,e,n,r,i){const s=e._queryIdentifier,o=t.views.get(s);if(!o){let l=th(n,i?r:null),c=!1;l?c=!0:r instanceof ge?(l=fy(n,r),c=!1):(l=ge.EMPTY_NODE,c=!1);const f=qh(new ys(l,c,!1),new ys(r,i,!1));return new Kj(e,f)}return o}function n7(t,e,n,r,i,s){const o=dk(t,e,r,i,s);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,o),Jj(o,n),Xj(o,n)}function r7(t,e,n,r){const i=e._queryIdentifier,s=[];let o=[];const l=ws(t);if(i==="default")for(const[c,f]of t.views.entries())o=o.concat(sb(f,n,r)),ib(f)&&(t.views.delete(c),f.query._queryParams.loadsAllData()||s.push(f.query));else{const c=t.views.get(i);c&&(o=o.concat(sb(c,n,r)),ib(c)&&(t.views.delete(i),c.query._queryParams.loadsAllData()||s.push(c.query)))}return l&&!ws(t)&&s.push(new(e7())(e._repo,e._path)),{removed:s,events:o}}function hk(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function ds(t,e){let n=null;for(const r of t.views.values())n=n||Qj(r,e);return n}function pk(t,e){if(e._queryParams.loadsAllData())return Qh(t);{const r=e._queryIdentifier;return t.views.get(r)}}function gk(t,e){return pk(t,e)!=null}function ws(t){return Qh(t)!=null}function Qh(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sh;function i7(t){Q(!sh,"__referenceConstructor has already been defined"),sh=t}function s7(){return Q(sh,"Reference.ts has not been loaded"),sh}let o7=1;class ab{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Je(null),this.pendingWriteTree_=Lj(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function a7(t,e,n,r,i){return bj(t.pendingWriteTree_,e,n,r,i),i?vc(t,new co(tk(),e,n)):[]}function sa(t,e,n=!1){const r=Ij(t.pendingWriteTree_,e);if(Tj(t.pendingWriteTree_,e)){let s=new Je(null);return r.snap!=null?s=s.set(Le(),!0):En(r.children,o=>{s=s.set(new ze(o),!0)}),vc(t,new Zd(r.path,s,n))}else return[]}function mc(t,e,n){return vc(t,new co(uy(),e,n))}function l7(t,e,n){const r=Je.fromObject(n);return vc(t,new zu(uy(),e,r))}function u7(t,e){return vc(t,new Wu(uy(),e))}function c7(t,e,n){const r=gy(t,n);if(r){const i=my(r),s=i.path,o=i.queryId,l=tn(s,e),c=new Wu(cy(o),l);return vy(t,s,c)}else return[]}function oh(t,e,n,r,i=!1){const s=e._path,o=t.syncPointTree_.get(s);let l=[];if(o&&(e._queryIdentifier==="default"||gk(o,e))){const c=r7(o,e,n,r);t7(o)&&(t.syncPointTree_=t.syncPointTree_.remove(s));const f=c.removed;if(l=c.events,!i){const h=f.findIndex(g=>g._queryParams.loadsAllData())!==-1,p=t.syncPointTree_.findOnPath(s,(g,v)=>ws(v));if(h&&!p){const g=t.syncPointTree_.subtree(s);if(!g.isEmpty()){const v=h7(g);for(let I=0;I<v.length;++I){const T=v[I],R=T.query,w=wk(t,T);t.listenProvider_.startListening(pu(R),Gu(t,R),w.hashFn,w.onComplete)}}}!p&&f.length>0&&!r&&(h?t.listenProvider_.stopListening(pu(e),null):f.forEach(g=>{const v=t.queryToTagMap.get(Jh(g));t.listenProvider_.stopListening(pu(g),v)}))}p7(t,f)}return l}function mk(t,e,n,r){const i=gy(t,r);if(i!=null){const s=my(i),o=s.path,l=s.queryId,c=tn(o,e),f=new co(cy(l),c,n);return vy(t,o,f)}else return[]}function f7(t,e,n,r){const i=gy(t,r);if(i){const s=my(i),o=s.path,l=s.queryId,c=tn(o,e),f=Je.fromObject(n),h=new zu(cy(l),c,f);return vy(t,o,h)}else return[]}function w0(t,e,n,r=!1){const i=e._path;let s=null,o=!1;t.syncPointTree_.foreachOnPath(i,(g,v)=>{const I=tn(g,i);s=s||ds(v,I),o=o||ws(v)});let l=t.syncPointTree_.get(i);l?(o=o||ws(l),s=s||ds(l,Le())):(l=new fk,t.syncPointTree_=t.syncPointTree_.set(i,l));let c;s!=null?c=!0:(c=!1,s=ge.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((v,I)=>{const T=ds(I,Le());T&&(s=s.updateImmediateChild(v,T))}));const f=gk(l,e);if(!f&&!e._queryParams.loadsAllData()){const g=Jh(e);Q(!t.queryToTagMap.has(g),"View does not exist, but we have a tag");const v=g7();t.queryToTagMap.set(g,v),t.tagToQueryMap.set(v,g)}const h=Yh(t.pendingWriteTree_,i);let p=n7(l,e,n,h,s,c);if(!f&&!o&&!r){const g=pk(l,e);p=p.concat(m7(t,e,g))}return p}function vk(t,e,n){const i=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(o,l)=>{const c=tn(o,e),f=ds(l,c);if(f)return f});return sk(i,e,s,n,!0)}function d7(t,e){const n=e._path;let r=null;t.syncPointTree_.foreachOnPath(n,(f,h)=>{const p=tn(f,n);r=r||ds(h,p)});let i=t.syncPointTree_.get(n);i?r=r||ds(i,Le()):(i=new fk,t.syncPointTree_=t.syncPointTree_.set(n,i));const s=r!=null,o=s?new ys(r,!0,!1):null,l=Yh(t.pendingWriteTree_,e._path),c=dk(i,e,l,s?o.getNode():ge.EMPTY_NODE,s);return Yj(c)}function vc(t,e){return _k(e,t.syncPointTree_,null,Yh(t.pendingWriteTree_,Le()))}function _k(t,e,n,r){if(Te(t.path))return yk(t,e,n,r);{const i=e.get(Le());n==null&&i!=null&&(n=ds(i,Le()));let s=[];const o=Ie(t.path),l=t.operationForChild(o),c=e.children.get(o);if(c&&l){const f=n?n.getImmediateChild(o):null,h=ok(r,o);s=s.concat(_k(l,c,f,h))}return i&&(s=s.concat(py(i,t,r,n))),s}}function yk(t,e,n,r){const i=e.get(Le());n==null&&i!=null&&(n=ds(i,Le()));let s=[];return e.children.inorderTraversal((o,l)=>{const c=n?n.getImmediateChild(o):null,f=ok(r,o),h=t.operationForChild(o);h&&(s=s.concat(yk(h,l,c,f)))}),i&&(s=s.concat(py(i,t,r,n))),s}function wk(t,e){const n=e.query,r=Gu(t,n);return{hashFn:()=>(qj(e)||ge.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?c7(t,n._path,r):u7(t,n._path);{const s=f8(i,n);return oh(t,n,null,s)}}}}function Gu(t,e){const n=Jh(e);return t.queryToTagMap.get(n)}function Jh(t){return t._path.toString()+"$"+t._queryIdentifier}function gy(t,e){return t.tagToQueryMap.get(e)}function my(t){const e=t.indexOf("$");return Q(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new ze(t.substr(0,e))}}function vy(t,e,n){const r=t.syncPointTree_.get(e);Q(r,"Missing sync point for query tag that we're tracking");const i=Yh(t.pendingWriteTree_,e);return py(r,n,i,null)}function h7(t){return t.fold((e,n,r)=>{if(n&&ws(n))return[Qh(n)];{let i=[];return n&&(i=hk(n)),En(r,(s,o)=>{i=i.concat(o)}),i}})}function pu(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(s7())(t._repo,t._path):t}function p7(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const i=Jh(r),s=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(s)}}}function g7(){return o7++}function m7(t,e,n){const r=e._path,i=Gu(t,e),s=wk(t,n),o=t.listenProvider_.startListening(pu(e),i,s.hashFn,s.onComplete),l=t.syncPointTree_.subtree(r);if(i)Q(!ws(l.value),"If we're adding a query, it shouldn't be shadowed");else{const c=l.fold((f,h,p)=>{if(!Te(f)&&h&&ws(h))return[Qh(h).query];{let g=[];return h&&(g=g.concat(hk(h).map(v=>v.query))),En(p,(v,I)=>{g=g.concat(I)}),g}});for(let f=0;f<c.length;++f){const h=c[f];t.listenProvider_.stopListening(pu(h),Gu(t,h))}}return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _y{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new _y(n)}node(){return this.node_}}class yy{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=Et(this.path_,e);return new yy(this.syncTree_,n)}node(){return vk(this.syncTree_,this.path_)}}const v7=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},lb=function(t,e,n){if(!t||typeof t!="object")return t;if(Q(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return _7(t[".sv"],e,n);if(typeof t[".sv"]=="object")return y7(t[".sv"],e);Q(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},_7=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:Q(!1,"Unexpected server value: "+t)}},y7=function(t,e,n){t.hasOwnProperty("increment")||Q(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&Q(!1,"Unexpected increment value: "+r);const i=e.node();if(Q(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return typeof o!="number"?r:o+r},w7=function(t,e,n,r){return wy(e,new yy(n,t),r)},E7=function(t,e,n){return wy(t,new _y(e),n)};function wy(t,e,n){const r=t.getPriority().val(),i=lb(r,e.getImmediateChild(".priority"),n);let s;if(t.isLeafNode()){const o=t,l=lb(o.getValue(),e,n);return l!==o.getValue()||i!==o.getPriority().val()?new Rt(l,Lt(i)):t}else{const o=t;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new Rt(i))),o.forEachChild(ut,(l,c)=>{const f=wy(c,e.getImmediateChild(l),n);f!==c&&(s=s.updateImmediateChild(l,f))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ey{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function Sy(t,e){let n=e instanceof ze?e:new ze(e),r=t,i=Ie(n);for(;i!==null;){const s=Na(r.node.children,i)||{children:{},childCount:0};r=new Ey(i,r,s),n=He(n),i=Ie(n)}return r}function Xa(t){return t.node.value}function Ek(t,e){t.node.value=e,E0(t)}function Sk(t){return t.node.childCount>0}function S7(t){return Xa(t)===void 0&&!Sk(t)}function Xh(t,e){En(t.node.children,(n,r)=>{e(new Ey(n,t,r))})}function Ck(t,e,n,r){n&&!r&&e(t),Xh(t,i=>{Ck(i,e,!0,r)}),n&&r&&e(t)}function C7(t,e,n){let r=n?t:t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function _c(t){return new ze(t.parent===null?t.name:_c(t.parent)+"/"+t.name)}function E0(t){t.parent!==null&&b7(t.parent,t.name,t)}function b7(t,e,n){const r=S7(n),i=wi(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,E0(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,E0(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I7=/[\[\].#$\/\u0000-\u001F\u007F]/,T7=/[\[\].#$\u0000-\u001F\u007F]/,km=10*1024*1024,bk=function(t){return typeof t=="string"&&t.length!==0&&!I7.test(t)},Ik=function(t){return typeof t=="string"&&t.length!==0&&!T7.test(t)},R7=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),Ik(t)},Tk=function(t,e,n){const r=n instanceof ze?new z8(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Ws(r));if(typeof e=="function")throw new Error(t+"contains a function "+Ws(r)+" with contents = "+e.toString());if(CA(e))throw new Error(t+"contains "+e.toString()+" "+Ws(r));if(typeof e=="string"&&e.length>km/3&&Hh(e)>km)throw new Error(t+"contains a string greater than "+km+" utf8 bytes "+Ws(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,s=!1;if(En(e,(o,l)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!bk(o)))throw new Error(t+" contains an invalid key ("+o+") "+Ws(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);G8(r,o),Tk(t,l,r),H8(r)}),i&&s)throw new Error(t+' contains ".value" child '+Ws(r)+" in addition to actual children.")}},Rk=function(t,e,n,r){if(!(r&&n===void 0)&&!Ik(n))throw new Error(hA(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},A7=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Rk(t,e,n,r)},k7=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!bk(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!R7(n))throw new Error(hA(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x7{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Ak(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();n!==null&&!iy(s,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&t.eventLists_.push(n)}function kk(t,e,n){Ak(t,n),xk(t,r=>iy(r,e))}function As(t,e,n){Ak(t,n),xk(t,r=>_r(r,e)||_r(e,r))}function xk(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];if(i){const s=i.path;e(s)?(O7(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function O7(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();eo&&zt("event: "+n.toString()),pc(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N7="repo_interrupt",P7=25;class D7{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new x7,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Xd(),this.transactionQueueTree_=new Ey,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function L7(t,e,n){if(t.stats_=ny(t.repoInfo_),t.forceRestClient_||g8())t.server_=new Jd(t.repoInfo_,(r,i,s,o)=>{ub(t,r,i,s,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>cb(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{wt(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new fi(t.repoInfo_,e,(r,i,s,o)=>{ub(t,r,i,s,o)},r=>{cb(t,r)},r=>{M7(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=w8(t.repoInfo_,()=>new _j(t.stats_,t.server_)),t.infoData_=new hj,t.infoSyncTree_=new ab({startListening:(r,i,s,o)=>{let l=[];const c=t.infoData_.getNode(r._path);return c.isEmpty()||(l=mc(t.infoSyncTree_,r._path,c),setTimeout(()=>{o("ok")},0)),l},stopListening:()=>{}}),Cy(t,"connected",!1),t.serverSyncTree_=new ab({startListening:(r,i,s,o)=>(t.server_.listen(r,s,i,(l,c)=>{const f=o(l,c);As(t.eventQueue_,r._path,f)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function F7(t){const n=t.infoData_.getNode(new ze(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function Ok(t){return v7({timestamp:F7(t)})}function ub(t,e,n,r,i){t.dataUpdateCount++;const s=new ze(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(i)if(r){const c=Gd(n,f=>Lt(f));o=f7(t.serverSyncTree_,s,c,i)}else{const c=Lt(n);o=mk(t.serverSyncTree_,s,c,i)}else if(r){const c=Gd(n,f=>Lt(f));o=l7(t.serverSyncTree_,s,c)}else{const c=Lt(n);o=mc(t.serverSyncTree_,s,c)}let l=s;o.length>0&&(l=Ty(t,s)),As(t.eventQueue_,l,o)}function cb(t,e){Cy(t,"connected",e),e===!1&&$7(t)}function M7(t,e){En(e,(n,r)=>{Cy(t,n,r)})}function Cy(t,e,n){const r=new ze("/.info/"+e),i=Lt(n);t.infoData_.updateSnapshot(r,i);const s=mc(t.infoSyncTree_,r,i);As(t.eventQueue_,r,s)}function U7(t){return t.nextWriteId_++}function B7(t,e,n){const r=d7(t.serverSyncTree_,e);return r!=null?Promise.resolve(r):t.server_.get(e).then(i=>{const s=Lt(i).withIndex(e._queryParams.getIndex());w0(t.serverSyncTree_,e,n,!0);let o;if(e._queryParams.loadsAllData())o=mc(t.serverSyncTree_,e._path,s);else{const l=Gu(t.serverSyncTree_,e);o=mk(t.serverSyncTree_,e._path,s,l)}return As(t.eventQueue_,e._path,o),oh(t.serverSyncTree_,e,n,null,!0),s},i=>(by(t,"get for query "+wt(e)+" failed: "+i),Promise.reject(new Error(i))))}function $7(t){by(t,"onDisconnectEvents");const e=Ok(t),n=Xd();g0(t.onDisconnect_,Le(),(i,s)=>{const o=w7(i,s,t.serverSyncTree_,e);ek(n,i,o)});let r=[];g0(n,Le(),(i,s)=>{r=r.concat(mc(t.serverSyncTree_,i,s));const o=G7(t,i);Ty(t,o)}),t.onDisconnect_=Xd(),As(t.eventQueue_,Le(),r)}function j7(t,e,n){let r;Ie(e._path)===".info"?r=w0(t.infoSyncTree_,e,n):r=w0(t.serverSyncTree_,e,n),kk(t.eventQueue_,e._path,r)}function fb(t,e,n){let r;Ie(e._path)===".info"?r=oh(t.infoSyncTree_,e,n):r=oh(t.serverSyncTree_,e,n),kk(t.eventQueue_,e._path,r)}function V7(t){t.persistentConnection_&&t.persistentConnection_.interrupt(N7)}function by(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),zt(n,...e)}function Nk(t,e,n){return vk(t.serverSyncTree_,e,n)||ge.EMPTY_NODE}function Iy(t,e=t.transactionQueueTree_){if(e||Zh(t,e),Xa(e)){const n=Dk(t,e);Q(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&W7(t,_c(e),n)}else Sk(e)&&Xh(e,n=>{Iy(t,n)})}function W7(t,e,n){const r=n.map(f=>f.currentWriteId),i=Nk(t,e,r);let s=i;const o=i.hash();for(let f=0;f<n.length;f++){const h=n[f];Q(h.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),h.status=1,h.retryCount++;const p=tn(e,h.path);s=s.updateChild(p,h.currentOutputSnapshotRaw)}const l=s.val(!0),c=e;t.server_.put(c.toString(),l,f=>{by(t,"transaction put response",{path:c.toString(),status:f});let h=[];if(f==="ok"){const p=[];for(let g=0;g<n.length;g++)n[g].status=2,h=h.concat(sa(t.serverSyncTree_,n[g].currentWriteId)),n[g].onComplete&&p.push(()=>n[g].onComplete(null,!0,n[g].currentOutputSnapshotResolved)),n[g].unwatcher();Zh(t,Sy(t.transactionQueueTree_,e)),Iy(t,t.transactionQueueTree_),As(t.eventQueue_,e,h);for(let g=0;g<p.length;g++)pc(p[g])}else{if(f==="datastale")for(let p=0;p<n.length;p++)n[p].status===3?n[p].status=4:n[p].status=0;else{Pn("transaction at "+c.toString()+" failed: "+f);for(let p=0;p<n.length;p++)n[p].status=4,n[p].abortReason=f}Ty(t,e)}},o)}function Ty(t,e){const n=Pk(t,e),r=_c(n),i=Dk(t,n);return z7(t,i,r),r}function z7(t,e,n){if(e.length===0)return;const r=[];let i=[];const o=e.filter(l=>l.status===0).map(l=>l.currentWriteId);for(let l=0;l<e.length;l++){const c=e[l],f=tn(n,c.path);let h=!1,p;if(Q(f!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),c.status===4)h=!0,p=c.abortReason,i=i.concat(sa(t.serverSyncTree_,c.currentWriteId,!0));else if(c.status===0)if(c.retryCount>=P7)h=!0,p="maxretry",i=i.concat(sa(t.serverSyncTree_,c.currentWriteId,!0));else{const g=Nk(t,c.path,o);c.currentInputSnapshot=g;const v=e[l].update(g.val());if(v!==void 0){Tk("transaction failed: Data returned ",v,c.path);let I=Lt(v);typeof v=="object"&&v!=null&&wi(v,".priority")||(I=I.updatePriority(g.getPriority()));const R=c.currentWriteId,w=Ok(t),E=E7(I,g,w);c.currentOutputSnapshotRaw=I,c.currentOutputSnapshotResolved=E,c.currentWriteId=U7(t),o.splice(o.indexOf(R),1),i=i.concat(a7(t.serverSyncTree_,c.path,E,c.currentWriteId,c.applyLocally)),i=i.concat(sa(t.serverSyncTree_,R,!0))}else h=!0,p="nodata",i=i.concat(sa(t.serverSyncTree_,c.currentWriteId,!0))}As(t.eventQueue_,n,i),i=[],h&&(e[l].status=2,function(g){setTimeout(g,Math.floor(0))}(e[l].unwatcher),e[l].onComplete&&(p==="nodata"?r.push(()=>e[l].onComplete(null,!1,e[l].currentInputSnapshot)):r.push(()=>e[l].onComplete(new Error(p),!1,null))))}Zh(t,t.transactionQueueTree_);for(let l=0;l<r.length;l++)pc(r[l]);Iy(t,t.transactionQueueTree_)}function Pk(t,e){let n,r=t.transactionQueueTree_;for(n=Ie(e);n!==null&&Xa(r)===void 0;)r=Sy(r,n),e=He(e),n=Ie(e);return r}function Dk(t,e){const n=[];return Lk(t,e,n),n.sort((r,i)=>r.order-i.order),n}function Lk(t,e,n){const r=Xa(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);Xh(e,i=>{Lk(t,i,n)})}function Zh(t,e){const n=Xa(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,Ek(e,n.length>0?n:void 0)}Xh(e,r=>{Zh(t,r)})}function G7(t,e){const n=_c(Pk(t,e)),r=Sy(t.transactionQueueTree_,e);return C7(r,i=>{xm(t,i)}),xm(t,r),Ck(r,i=>{xm(t,i)}),n}function xm(t,e){const n=Xa(e);if(n){const r=[];let i=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(Q(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(Q(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(sa(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?Ek(e,void 0):n.length=s+1,As(t.eventQueue_,_c(e),i);for(let o=0;o<r.length;o++)pc(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H7(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function K7(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Pn(`Invalid query segment '${n}' in query '${t}'`)}return e}const db=function(t,e){const n=q7(t),r=n.namespace;n.domain==="firebase.com"&&mi(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&mi("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||o8();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new LA(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new ze(n.pathString)}},q7=function(t){let e="",n="",r="",i="",s="",o=!0,l="https",c=443;if(typeof t=="string"){let f=t.indexOf("//");f>=0&&(l=t.substring(0,f-1),t=t.substring(f+2));let h=t.indexOf("/");h===-1&&(h=t.length);let p=t.indexOf("?");p===-1&&(p=t.length),e=t.substring(0,Math.min(h,p)),h<p&&(i=H7(t.substring(h,p)));const g=K7(t.substring(Math.min(t.length,p)));f=e.indexOf(":"),f>=0?(o=l==="https"||l==="wss",c=parseInt(e.substring(f+1),10)):f=e.length;const v=e.slice(0,f);if(v.toLowerCase()==="localhost")n="localhost";else if(v.split(".").length<=2)n=v;else{const I=e.indexOf(".");r=e.substring(0,I).toLowerCase(),n=e.substring(I+1),s=r}"ns"in g&&(s=g.ns)}return{host:e,port:c,domain:n,subdomain:r,secure:o,scheme:l,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fk{constructor(e,n,r,i){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+wt(this.snapshot.exportVal())}}class Mk{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uk{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return Q(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ry{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return Te(this._path)?null:zA(this._path)}get ref(){return new zr(this._repo,this._path)}get _queryIdentifier(){const e=QC(this._queryParams),n=ey(e);return n==="{}"?"default":n}get _queryObject(){return QC(this._queryParams)}isEqual(e){if(e=er(e),!(e instanceof Ry))return!1;const n=this._repo===e._repo,r=iy(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+W8(this._path)}}class zr extends Ry{constructor(e,n){super(e,n,new ly,!1)}get parent(){const e=HA(this._path);return e===null?null:new zr(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class Ma{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new ze(e),r=lh(this.ref,e);return new Ma(this._node.getChild(n),r,ut)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>e(new Ma(i,lh(this.ref,r),ut)))}hasChild(e){const n=new ze(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function ah(t,e){return t=er(t),t._checkNotDeleted("ref"),e!==void 0?lh(t._root,e):t._root}function lh(t,e){return t=er(t),Ie(t._path)===null?A7("child","path",e,!1):Rk("child","path",e,!1),new zr(t._repo,Et(t._path,e))}function Y7(t){t=er(t);const e=new Uk(()=>{}),n=new ep(e);return B7(t._repo,t,n).then(r=>new Ma(r,new zr(t._repo,t._path),t._queryParams.getIndex()))}class ep{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const r=n._queryParams.getIndex();return new Fk("value",this,new Ma(e.snapshotNode,new zr(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new Mk(this,e,n):null}matches(e){return e instanceof ep?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}class Ay{constructor(e,n){this.eventType=e,this.callbackContext=n}respondsTo(e){let n=e==="children_added"?"child_added":e;return n=n==="children_removed"?"child_removed":n,this.eventType===n}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new Mk(this,e,n):null}createEvent(e,n){Q(e.childName!=null,"Child events should have a childName.");const r=lh(new zr(n._repo,n._path),e.childName),i=n._queryParams.getIndex();return new Fk(e.type,this,new Ma(e.snapshotNode,r,i),e.prevName)}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof Ay?this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}}function Q7(t,e,n,r,i){let s;if(typeof r=="object"&&(s=void 0,i=r),typeof r=="function"&&(s=r),i&&i.onlyOnce){const c=n,f=(h,p)=>{fb(t._repo,t,l),c(h,p)};f.userCallback=n.userCallback,f.context=n.context,n=f}const o=new Uk(n,s||void 0),l=e==="value"?new ep(o):new Ay(e,o);return j7(t._repo,t,l),()=>fb(t._repo,t,l)}function J7(t,e,n,r){return Q7(t,"value",e,n,r)}Zj(zr);i7(zr);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X7="FIREBASE_DATABASE_EMULATOR_HOST",S0={};let Z7=!1;function eV(t,e,n,r){t.repoInfo_=new LA(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}function tV(t,e,n,r,i){let s=r||t.options.databaseURL;s===void 0&&(t.options.projectId||mi("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),zt("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=db(s,i),l=o.repoInfo,c,f;typeof process<"u"&&process.env&&(f=process.env[X7]),f?(c=!0,s=`http://${f}?ns=${l.namespace}`,o=db(s,i),l=o.repoInfo):c=!o.repoInfo.secure;const h=i&&c?new ya(ya.OWNER):new v8(t.name,t.options,e);k7("Invalid Firebase Database URL",o),Te(o.path)||mi("Database URL must point to the root of a Firebase Database (not including a child path).");const p=rV(l,t,h,new m8(t.name,n));return new iV(p,t)}function nV(t,e){const n=S0[e];(!n||n[t.key]!==t)&&mi(`Database ${e}(${t.repoInfo_}) has already been deleted.`),V7(t),delete n[t.key]}function rV(t,e,n,r){let i=S0[e.name];i||(i={},S0[e.name]=i);let s=i[t.toURLString()];return s&&mi("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new D7(t,Z7,n,r),i[t.toURLString()]=s,s}class iV{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(L7(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new zr(this._repo,Le())),this._rootInternal}_delete(){return this._rootInternal!==null&&(nV(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&mi("Cannot call "+e+" on a deleted database.")}}function Bk(t=vA(),e){const n=Z_(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=PB("database");r&&sV(n,...r)}return n}function sV(t,e,n,r={}){t=er(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&mi("Cannot call useEmulator() after instance has already been initialized.");const i=t._repoInternal;let s;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&mi('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new ya(ya.OWNER);else if(r.mockUserToken){const o=typeof r.mockUserToken=="string"?r.mockUserToken:LB(r.mockUserToken,t.app.options.projectId);s=new ya(o)}eV(i,e,n,s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oV(t){t8(fc),Pa(new ao("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return tV(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),cs(PC,DC,t),cs(PC,DC,"esm2017")}fi.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};fi.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};oV();var Hu={},aV={get exports(){return Hu},set exports(t){Hu=t}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(t,e){(function(){var n,r="4.17.21",i=200,s="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",o="Expected a function",l="Invalid `variable` option passed into `_.template`",c="__lodash_hash_undefined__",f=500,h="__lodash_placeholder__",p=1,g=2,v=4,I=1,T=2,R=1,w=2,E=4,b=8,O=16,B=32,q=64,V=128,J=256,D=512,F=30,Y="...",X=800,le=16,Z=1,fe=2,ke=3,ce=1/0,z=9007199254740991,ee=17976931348623157e292,se=0/0,oe=4294967295,De=oe-1,Ot=oe>>>1,mt=[["ary",V],["bind",R],["bindKey",w],["curry",b],["curryRight",O],["flip",D],["partial",B],["partialRight",q],["rearg",J]],Cn="[object Arguments]",bt="[object Array]",tr="[object AsyncFunction]",Gr="[object Boolean]",Ei="[object Date]",tl="[object DOMException]",nr="[object Error]",Si="[object Function]",nl="[object GeneratorFunction]",on="[object Map]",rl="[object Number]",aO="[object Null]",Hr="[object Object]",ew="[object Promise]",lO="[object Proxy]",il="[object RegExp]",rr="[object Set]",sl="[object String]",bc="[object Symbol]",uO="[object Undefined]",ol="[object WeakMap]",cO="[object WeakSet]",al="[object ArrayBuffer]",Eo="[object DataView]",pp="[object Float32Array]",gp="[object Float64Array]",mp="[object Int8Array]",vp="[object Int16Array]",_p="[object Int32Array]",yp="[object Uint8Array]",wp="[object Uint8ClampedArray]",Ep="[object Uint16Array]",Sp="[object Uint32Array]",fO=/\b__p \+= '';/g,dO=/\b(__p \+=) '' \+/g,hO=/(__e\(.*?\)|\b__t\)) \+\n'';/g,tw=/&(?:amp|lt|gt|quot|#39);/g,nw=/[&<>"']/g,pO=RegExp(tw.source),gO=RegExp(nw.source),mO=/<%-([\s\S]+?)%>/g,vO=/<%([\s\S]+?)%>/g,rw=/<%=([\s\S]+?)%>/g,_O=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,yO=/^\w*$/,wO=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Cp=/[\\^$.*+?()[\]{}|]/g,EO=RegExp(Cp.source),bp=/^\s+/,SO=/\s/,CO=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,bO=/\{\n\/\* \[wrapped with (.+)\] \*/,IO=/,? & /,TO=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,RO=/[()=,{}\[\]\/\s]/,AO=/\\(\\)?/g,kO=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,iw=/\w*$/,xO=/^[-+]0x[0-9a-f]+$/i,OO=/^0b[01]+$/i,NO=/^\[object .+?Constructor\]$/,PO=/^0o[0-7]+$/i,DO=/^(?:0|[1-9]\d*)$/,LO=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Ic=/($^)/,FO=/['\n\r\u2028\u2029\\]/g,Tc="\\ud800-\\udfff",MO="\\u0300-\\u036f",UO="\\ufe20-\\ufe2f",BO="\\u20d0-\\u20ff",sw=MO+UO+BO,ow="\\u2700-\\u27bf",aw="a-z\\xdf-\\xf6\\xf8-\\xff",$O="\\xac\\xb1\\xd7\\xf7",jO="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",VO="\\u2000-\\u206f",WO=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",lw="A-Z\\xc0-\\xd6\\xd8-\\xde",uw="\\ufe0e\\ufe0f",cw=$O+jO+VO+WO,Ip="['’]",zO="["+Tc+"]",fw="["+cw+"]",Rc="["+sw+"]",dw="\\d+",GO="["+ow+"]",hw="["+aw+"]",pw="[^"+Tc+cw+dw+ow+aw+lw+"]",Tp="\\ud83c[\\udffb-\\udfff]",HO="(?:"+Rc+"|"+Tp+")",gw="[^"+Tc+"]",Rp="(?:\\ud83c[\\udde6-\\uddff]){2}",Ap="[\\ud800-\\udbff][\\udc00-\\udfff]",So="["+lw+"]",mw="\\u200d",vw="(?:"+hw+"|"+pw+")",KO="(?:"+So+"|"+pw+")",_w="(?:"+Ip+"(?:d|ll|m|re|s|t|ve))?",yw="(?:"+Ip+"(?:D|LL|M|RE|S|T|VE))?",ww=HO+"?",Ew="["+uw+"]?",qO="(?:"+mw+"(?:"+[gw,Rp,Ap].join("|")+")"+Ew+ww+")*",YO="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",QO="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Sw=Ew+ww+qO,JO="(?:"+[GO,Rp,Ap].join("|")+")"+Sw,XO="(?:"+[gw+Rc+"?",Rc,Rp,Ap,zO].join("|")+")",ZO=RegExp(Ip,"g"),eN=RegExp(Rc,"g"),kp=RegExp(Tp+"(?="+Tp+")|"+XO+Sw,"g"),tN=RegExp([So+"?"+hw+"+"+_w+"(?="+[fw,So,"$"].join("|")+")",KO+"+"+yw+"(?="+[fw,So+vw,"$"].join("|")+")",So+"?"+vw+"+"+_w,So+"+"+yw,QO,YO,dw,JO].join("|"),"g"),nN=RegExp("["+mw+Tc+sw+uw+"]"),rN=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,iN=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],sN=-1,qe={};qe[pp]=qe[gp]=qe[mp]=qe[vp]=qe[_p]=qe[yp]=qe[wp]=qe[Ep]=qe[Sp]=!0,qe[Cn]=qe[bt]=qe[al]=qe[Gr]=qe[Eo]=qe[Ei]=qe[nr]=qe[Si]=qe[on]=qe[rl]=qe[Hr]=qe[il]=qe[rr]=qe[sl]=qe[ol]=!1;var Ge={};Ge[Cn]=Ge[bt]=Ge[al]=Ge[Eo]=Ge[Gr]=Ge[Ei]=Ge[pp]=Ge[gp]=Ge[mp]=Ge[vp]=Ge[_p]=Ge[on]=Ge[rl]=Ge[Hr]=Ge[il]=Ge[rr]=Ge[sl]=Ge[bc]=Ge[yp]=Ge[wp]=Ge[Ep]=Ge[Sp]=!0,Ge[nr]=Ge[Si]=Ge[ol]=!1;var oN={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},aN={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},lN={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},uN={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},cN=parseFloat,fN=parseInt,Cw=typeof Cl=="object"&&Cl&&Cl.Object===Object&&Cl,dN=typeof self=="object"&&self&&self.Object===Object&&self,Nt=Cw||dN||Function("return this")(),xp=e&&!e.nodeType&&e,ks=xp&&!0&&t&&!t.nodeType&&t,bw=ks&&ks.exports===xp,Op=bw&&Cw.process,Un=function(){try{var N=ks&&ks.require&&ks.require("util").types;return N||Op&&Op.binding&&Op.binding("util")}catch{}}(),Iw=Un&&Un.isArrayBuffer,Tw=Un&&Un.isDate,Rw=Un&&Un.isMap,Aw=Un&&Un.isRegExp,kw=Un&&Un.isSet,xw=Un&&Un.isTypedArray;function bn(N,U,M){switch(M.length){case 0:return N.call(U);case 1:return N.call(U,M[0]);case 2:return N.call(U,M[0],M[1]);case 3:return N.call(U,M[0],M[1],M[2])}return N.apply(U,M)}function hN(N,U,M,ne){for(var _e=-1,Fe=N==null?0:N.length;++_e<Fe;){var vt=N[_e];U(ne,vt,M(vt),N)}return ne}function Bn(N,U){for(var M=-1,ne=N==null?0:N.length;++M<ne&&U(N[M],M,N)!==!1;);return N}function pN(N,U){for(var M=N==null?0:N.length;M--&&U(N[M],M,N)!==!1;);return N}function Ow(N,U){for(var M=-1,ne=N==null?0:N.length;++M<ne;)if(!U(N[M],M,N))return!1;return!0}function Ci(N,U){for(var M=-1,ne=N==null?0:N.length,_e=0,Fe=[];++M<ne;){var vt=N[M];U(vt,M,N)&&(Fe[_e++]=vt)}return Fe}function Ac(N,U){var M=N==null?0:N.length;return!!M&&Co(N,U,0)>-1}function Np(N,U,M){for(var ne=-1,_e=N==null?0:N.length;++ne<_e;)if(M(U,N[ne]))return!0;return!1}function Ze(N,U){for(var M=-1,ne=N==null?0:N.length,_e=Array(ne);++M<ne;)_e[M]=U(N[M],M,N);return _e}function bi(N,U){for(var M=-1,ne=U.length,_e=N.length;++M<ne;)N[_e+M]=U[M];return N}function Pp(N,U,M,ne){var _e=-1,Fe=N==null?0:N.length;for(ne&&Fe&&(M=N[++_e]);++_e<Fe;)M=U(M,N[_e],_e,N);return M}function gN(N,U,M,ne){var _e=N==null?0:N.length;for(ne&&_e&&(M=N[--_e]);_e--;)M=U(M,N[_e],_e,N);return M}function Dp(N,U){for(var M=-1,ne=N==null?0:N.length;++M<ne;)if(U(N[M],M,N))return!0;return!1}var mN=Lp("length");function vN(N){return N.split("")}function _N(N){return N.match(TO)||[]}function Nw(N,U,M){var ne;return M(N,function(_e,Fe,vt){if(U(_e,Fe,vt))return ne=Fe,!1}),ne}function kc(N,U,M,ne){for(var _e=N.length,Fe=M+(ne?1:-1);ne?Fe--:++Fe<_e;)if(U(N[Fe],Fe,N))return Fe;return-1}function Co(N,U,M){return U===U?xN(N,U,M):kc(N,Pw,M)}function yN(N,U,M,ne){for(var _e=M-1,Fe=N.length;++_e<Fe;)if(ne(N[_e],U))return _e;return-1}function Pw(N){return N!==N}function Dw(N,U){var M=N==null?0:N.length;return M?Mp(N,U)/M:se}function Lp(N){return function(U){return U==null?n:U[N]}}function Fp(N){return function(U){return N==null?n:N[U]}}function Lw(N,U,M,ne,_e){return _e(N,function(Fe,vt,je){M=ne?(ne=!1,Fe):U(M,Fe,vt,je)}),M}function wN(N,U){var M=N.length;for(N.sort(U);M--;)N[M]=N[M].value;return N}function Mp(N,U){for(var M,ne=-1,_e=N.length;++ne<_e;){var Fe=U(N[ne]);Fe!==n&&(M=M===n?Fe:M+Fe)}return M}function Up(N,U){for(var M=-1,ne=Array(N);++M<N;)ne[M]=U(M);return ne}function EN(N,U){return Ze(U,function(M){return[M,N[M]]})}function Fw(N){return N&&N.slice(0,$w(N)+1).replace(bp,"")}function In(N){return function(U){return N(U)}}function Bp(N,U){return Ze(U,function(M){return N[M]})}function ll(N,U){return N.has(U)}function Mw(N,U){for(var M=-1,ne=N.length;++M<ne&&Co(U,N[M],0)>-1;);return M}function Uw(N,U){for(var M=N.length;M--&&Co(U,N[M],0)>-1;);return M}function SN(N,U){for(var M=N.length,ne=0;M--;)N[M]===U&&++ne;return ne}var CN=Fp(oN),bN=Fp(aN);function IN(N){return"\\"+uN[N]}function TN(N,U){return N==null?n:N[U]}function bo(N){return nN.test(N)}function RN(N){return rN.test(N)}function AN(N){for(var U,M=[];!(U=N.next()).done;)M.push(U.value);return M}function $p(N){var U=-1,M=Array(N.size);return N.forEach(function(ne,_e){M[++U]=[_e,ne]}),M}function Bw(N,U){return function(M){return N(U(M))}}function Ii(N,U){for(var M=-1,ne=N.length,_e=0,Fe=[];++M<ne;){var vt=N[M];(vt===U||vt===h)&&(N[M]=h,Fe[_e++]=M)}return Fe}function xc(N){var U=-1,M=Array(N.size);return N.forEach(function(ne){M[++U]=ne}),M}function kN(N){var U=-1,M=Array(N.size);return N.forEach(function(ne){M[++U]=[ne,ne]}),M}function xN(N,U,M){for(var ne=M-1,_e=N.length;++ne<_e;)if(N[ne]===U)return ne;return-1}function ON(N,U,M){for(var ne=M+1;ne--;)if(N[ne]===U)return ne;return ne}function Io(N){return bo(N)?PN(N):mN(N)}function ir(N){return bo(N)?DN(N):vN(N)}function $w(N){for(var U=N.length;U--&&SO.test(N.charAt(U)););return U}var NN=Fp(lN);function PN(N){for(var U=kp.lastIndex=0;kp.test(N);)++U;return U}function DN(N){return N.match(kp)||[]}function LN(N){return N.match(tN)||[]}var FN=function N(U){U=U==null?Nt:To.defaults(Nt.Object(),U,To.pick(Nt,iN));var M=U.Array,ne=U.Date,_e=U.Error,Fe=U.Function,vt=U.Math,je=U.Object,jp=U.RegExp,MN=U.String,$n=U.TypeError,Oc=M.prototype,UN=Fe.prototype,Ro=je.prototype,Nc=U["__core-js_shared__"],Pc=UN.toString,Be=Ro.hasOwnProperty,BN=0,jw=function(){var a=/[^.]+$/.exec(Nc&&Nc.keys&&Nc.keys.IE_PROTO||"");return a?"Symbol(src)_1."+a:""}(),Dc=Ro.toString,$N=Pc.call(je),jN=Nt._,VN=jp("^"+Pc.call(Be).replace(Cp,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Lc=bw?U.Buffer:n,Ti=U.Symbol,Fc=U.Uint8Array,Vw=Lc?Lc.allocUnsafe:n,Mc=Bw(je.getPrototypeOf,je),Ww=je.create,zw=Ro.propertyIsEnumerable,Uc=Oc.splice,Gw=Ti?Ti.isConcatSpreadable:n,ul=Ti?Ti.iterator:n,xs=Ti?Ti.toStringTag:n,Bc=function(){try{var a=Ls(je,"defineProperty");return a({},"",{}),a}catch{}}(),WN=U.clearTimeout!==Nt.clearTimeout&&U.clearTimeout,zN=ne&&ne.now!==Nt.Date.now&&ne.now,GN=U.setTimeout!==Nt.setTimeout&&U.setTimeout,$c=vt.ceil,jc=vt.floor,Vp=je.getOwnPropertySymbols,HN=Lc?Lc.isBuffer:n,Hw=U.isFinite,KN=Oc.join,qN=Bw(je.keys,je),_t=vt.max,Ut=vt.min,YN=ne.now,QN=U.parseInt,Kw=vt.random,JN=Oc.reverse,Wp=Ls(U,"DataView"),cl=Ls(U,"Map"),zp=Ls(U,"Promise"),Ao=Ls(U,"Set"),fl=Ls(U,"WeakMap"),dl=Ls(je,"create"),Vc=fl&&new fl,ko={},XN=Fs(Wp),ZN=Fs(cl),eP=Fs(zp),tP=Fs(Ao),nP=Fs(fl),Wc=Ti?Ti.prototype:n,hl=Wc?Wc.valueOf:n,qw=Wc?Wc.toString:n;function S(a){if(at(a)&&!ye(a)&&!(a instanceof Re)){if(a instanceof jn)return a;if(Be.call(a,"__wrapped__"))return YE(a)}return new jn(a)}var xo=function(){function a(){}return function(u){if(!nt(u))return{};if(Ww)return Ww(u);a.prototype=u;var d=new a;return a.prototype=n,d}}();function zc(){}function jn(a,u){this.__wrapped__=a,this.__actions__=[],this.__chain__=!!u,this.__index__=0,this.__values__=n}S.templateSettings={escape:mO,evaluate:vO,interpolate:rw,variable:"",imports:{_:S}},S.prototype=zc.prototype,S.prototype.constructor=S,jn.prototype=xo(zc.prototype),jn.prototype.constructor=jn;function Re(a){this.__wrapped__=a,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=oe,this.__views__=[]}function rP(){var a=new Re(this.__wrapped__);return a.__actions__=an(this.__actions__),a.__dir__=this.__dir__,a.__filtered__=this.__filtered__,a.__iteratees__=an(this.__iteratees__),a.__takeCount__=this.__takeCount__,a.__views__=an(this.__views__),a}function iP(){if(this.__filtered__){var a=new Re(this);a.__dir__=-1,a.__filtered__=!0}else a=this.clone(),a.__dir__*=-1;return a}function sP(){var a=this.__wrapped__.value(),u=this.__dir__,d=ye(a),m=u<0,y=d?a.length:0,C=v2(0,y,this.__views__),A=C.start,x=C.end,P=x-A,$=m?x:A-1,j=this.__iteratees__,W=j.length,te=0,ae=Ut(P,this.__takeCount__);if(!d||!m&&y==P&&ae==P)return _E(a,this.__actions__);var he=[];e:for(;P--&&te<ae;){$+=u;for(var Ee=-1,pe=a[$];++Ee<W;){var be=j[Ee],xe=be.iteratee,An=be.type,Qt=xe(pe);if(An==fe)pe=Qt;else if(!Qt){if(An==Z)continue e;break e}}he[te++]=pe}return he}Re.prototype=xo(zc.prototype),Re.prototype.constructor=Re;function Os(a){var u=-1,d=a==null?0:a.length;for(this.clear();++u<d;){var m=a[u];this.set(m[0],m[1])}}function oP(){this.__data__=dl?dl(null):{},this.size=0}function aP(a){var u=this.has(a)&&delete this.__data__[a];return this.size-=u?1:0,u}function lP(a){var u=this.__data__;if(dl){var d=u[a];return d===c?n:d}return Be.call(u,a)?u[a]:n}function uP(a){var u=this.__data__;return dl?u[a]!==n:Be.call(u,a)}function cP(a,u){var d=this.__data__;return this.size+=this.has(a)?0:1,d[a]=dl&&u===n?c:u,this}Os.prototype.clear=oP,Os.prototype.delete=aP,Os.prototype.get=lP,Os.prototype.has=uP,Os.prototype.set=cP;function Kr(a){var u=-1,d=a==null?0:a.length;for(this.clear();++u<d;){var m=a[u];this.set(m[0],m[1])}}function fP(){this.__data__=[],this.size=0}function dP(a){var u=this.__data__,d=Gc(u,a);if(d<0)return!1;var m=u.length-1;return d==m?u.pop():Uc.call(u,d,1),--this.size,!0}function hP(a){var u=this.__data__,d=Gc(u,a);return d<0?n:u[d][1]}function pP(a){return Gc(this.__data__,a)>-1}function gP(a,u){var d=this.__data__,m=Gc(d,a);return m<0?(++this.size,d.push([a,u])):d[m][1]=u,this}Kr.prototype.clear=fP,Kr.prototype.delete=dP,Kr.prototype.get=hP,Kr.prototype.has=pP,Kr.prototype.set=gP;function qr(a){var u=-1,d=a==null?0:a.length;for(this.clear();++u<d;){var m=a[u];this.set(m[0],m[1])}}function mP(){this.size=0,this.__data__={hash:new Os,map:new(cl||Kr),string:new Os}}function vP(a){var u=rf(this,a).delete(a);return this.size-=u?1:0,u}function _P(a){return rf(this,a).get(a)}function yP(a){return rf(this,a).has(a)}function wP(a,u){var d=rf(this,a),m=d.size;return d.set(a,u),this.size+=d.size==m?0:1,this}qr.prototype.clear=mP,qr.prototype.delete=vP,qr.prototype.get=_P,qr.prototype.has=yP,qr.prototype.set=wP;function Ns(a){var u=-1,d=a==null?0:a.length;for(this.__data__=new qr;++u<d;)this.add(a[u])}function EP(a){return this.__data__.set(a,c),this}function SP(a){return this.__data__.has(a)}Ns.prototype.add=Ns.prototype.push=EP,Ns.prototype.has=SP;function sr(a){var u=this.__data__=new Kr(a);this.size=u.size}function CP(){this.__data__=new Kr,this.size=0}function bP(a){var u=this.__data__,d=u.delete(a);return this.size=u.size,d}function IP(a){return this.__data__.get(a)}function TP(a){return this.__data__.has(a)}function RP(a,u){var d=this.__data__;if(d instanceof Kr){var m=d.__data__;if(!cl||m.length<i-1)return m.push([a,u]),this.size=++d.size,this;d=this.__data__=new qr(m)}return d.set(a,u),this.size=d.size,this}sr.prototype.clear=CP,sr.prototype.delete=bP,sr.prototype.get=IP,sr.prototype.has=TP,sr.prototype.set=RP;function Yw(a,u){var d=ye(a),m=!d&&Ms(a),y=!d&&!m&&Oi(a),C=!d&&!m&&!y&&Do(a),A=d||m||y||C,x=A?Up(a.length,MN):[],P=x.length;for(var $ in a)(u||Be.call(a,$))&&!(A&&($=="length"||y&&($=="offset"||$=="parent")||C&&($=="buffer"||$=="byteLength"||$=="byteOffset")||Xr($,P)))&&x.push($);return x}function Qw(a){var u=a.length;return u?a[tg(0,u-1)]:n}function AP(a,u){return sf(an(a),Ps(u,0,a.length))}function kP(a){return sf(an(a))}function Gp(a,u,d){(d!==n&&!or(a[u],d)||d===n&&!(u in a))&&Yr(a,u,d)}function pl(a,u,d){var m=a[u];(!(Be.call(a,u)&&or(m,d))||d===n&&!(u in a))&&Yr(a,u,d)}function Gc(a,u){for(var d=a.length;d--;)if(or(a[d][0],u))return d;return-1}function xP(a,u,d,m){return Ri(a,function(y,C,A){u(m,y,d(y),A)}),m}function Jw(a,u){return a&&Rr(u,It(u),a)}function OP(a,u){return a&&Rr(u,un(u),a)}function Yr(a,u,d){u=="__proto__"&&Bc?Bc(a,u,{configurable:!0,enumerable:!0,value:d,writable:!0}):a[u]=d}function Hp(a,u){for(var d=-1,m=u.length,y=M(m),C=a==null;++d<m;)y[d]=C?n:Tg(a,u[d]);return y}function Ps(a,u,d){return a===a&&(d!==n&&(a=a<=d?a:d),u!==n&&(a=a>=u?a:u)),a}function Vn(a,u,d,m,y,C){var A,x=u&p,P=u&g,$=u&v;if(d&&(A=y?d(a,m,y,C):d(a)),A!==n)return A;if(!nt(a))return a;var j=ye(a);if(j){if(A=y2(a),!x)return an(a,A)}else{var W=Bt(a),te=W==Si||W==nl;if(Oi(a))return EE(a,x);if(W==Hr||W==Cn||te&&!y){if(A=P||te?{}:$E(a),!x)return P?l2(a,OP(A,a)):a2(a,Jw(A,a))}else{if(!Ge[W])return y?a:{};A=w2(a,W,x)}}C||(C=new sr);var ae=C.get(a);if(ae)return ae;C.set(a,A),g1(a)?a.forEach(function(pe){A.add(Vn(pe,u,d,pe,a,C))}):h1(a)&&a.forEach(function(pe,be){A.set(be,Vn(pe,u,d,be,a,C))});var he=$?P?dg:fg:P?un:It,Ee=j?n:he(a);return Bn(Ee||a,function(pe,be){Ee&&(be=pe,pe=a[be]),pl(A,be,Vn(pe,u,d,be,a,C))}),A}function NP(a){var u=It(a);return function(d){return Xw(d,a,u)}}function Xw(a,u,d){var m=d.length;if(a==null)return!m;for(a=je(a);m--;){var y=d[m],C=u[y],A=a[y];if(A===n&&!(y in a)||!C(A))return!1}return!0}function Zw(a,u,d){if(typeof a!="function")throw new $n(o);return El(function(){a.apply(n,d)},u)}function gl(a,u,d,m){var y=-1,C=Ac,A=!0,x=a.length,P=[],$=u.length;if(!x)return P;d&&(u=Ze(u,In(d))),m?(C=Np,A=!1):u.length>=i&&(C=ll,A=!1,u=new Ns(u));e:for(;++y<x;){var j=a[y],W=d==null?j:d(j);if(j=m||j!==0?j:0,A&&W===W){for(var te=$;te--;)if(u[te]===W)continue e;P.push(j)}else C(u,W,m)||P.push(j)}return P}var Ri=TE(Tr),eE=TE(qp,!0);function PP(a,u){var d=!0;return Ri(a,function(m,y,C){return d=!!u(m,y,C),d}),d}function Hc(a,u,d){for(var m=-1,y=a.length;++m<y;){var C=a[m],A=u(C);if(A!=null&&(x===n?A===A&&!Rn(A):d(A,x)))var x=A,P=C}return P}function DP(a,u,d,m){var y=a.length;for(d=we(d),d<0&&(d=-d>y?0:y+d),m=m===n||m>y?y:we(m),m<0&&(m+=y),m=d>m?0:v1(m);d<m;)a[d++]=u;return a}function tE(a,u){var d=[];return Ri(a,function(m,y,C){u(m,y,C)&&d.push(m)}),d}function Pt(a,u,d,m,y){var C=-1,A=a.length;for(d||(d=S2),y||(y=[]);++C<A;){var x=a[C];u>0&&d(x)?u>1?Pt(x,u-1,d,m,y):bi(y,x):m||(y[y.length]=x)}return y}var Kp=RE(),nE=RE(!0);function Tr(a,u){return a&&Kp(a,u,It)}function qp(a,u){return a&&nE(a,u,It)}function Kc(a,u){return Ci(u,function(d){return Zr(a[d])})}function Ds(a,u){u=ki(u,a);for(var d=0,m=u.length;a!=null&&d<m;)a=a[Ar(u[d++])];return d&&d==m?a:n}function rE(a,u,d){var m=u(a);return ye(a)?m:bi(m,d(a))}function qt(a){return a==null?a===n?uO:aO:xs&&xs in je(a)?m2(a):k2(a)}function Yp(a,u){return a>u}function LP(a,u){return a!=null&&Be.call(a,u)}function FP(a,u){return a!=null&&u in je(a)}function MP(a,u,d){return a>=Ut(u,d)&&a<_t(u,d)}function Qp(a,u,d){for(var m=d?Np:Ac,y=a[0].length,C=a.length,A=C,x=M(C),P=1/0,$=[];A--;){var j=a[A];A&&u&&(j=Ze(j,In(u))),P=Ut(j.length,P),x[A]=!d&&(u||y>=120&&j.length>=120)?new Ns(A&&j):n}j=a[0];var W=-1,te=x[0];e:for(;++W<y&&$.length<P;){var ae=j[W],he=u?u(ae):ae;if(ae=d||ae!==0?ae:0,!(te?ll(te,he):m($,he,d))){for(A=C;--A;){var Ee=x[A];if(!(Ee?ll(Ee,he):m(a[A],he,d)))continue e}te&&te.push(he),$.push(ae)}}return $}function UP(a,u,d,m){return Tr(a,function(y,C,A){u(m,d(y),C,A)}),m}function ml(a,u,d){u=ki(u,a),a=zE(a,u);var m=a==null?a:a[Ar(zn(u))];return m==null?n:bn(m,a,d)}function iE(a){return at(a)&&qt(a)==Cn}function BP(a){return at(a)&&qt(a)==al}function $P(a){return at(a)&&qt(a)==Ei}function vl(a,u,d,m,y){return a===u?!0:a==null||u==null||!at(a)&&!at(u)?a!==a&&u!==u:jP(a,u,d,m,vl,y)}function jP(a,u,d,m,y,C){var A=ye(a),x=ye(u),P=A?bt:Bt(a),$=x?bt:Bt(u);P=P==Cn?Hr:P,$=$==Cn?Hr:$;var j=P==Hr,W=$==Hr,te=P==$;if(te&&Oi(a)){if(!Oi(u))return!1;A=!0,j=!1}if(te&&!j)return C||(C=new sr),A||Do(a)?ME(a,u,d,m,y,C):p2(a,u,P,d,m,y,C);if(!(d&I)){var ae=j&&Be.call(a,"__wrapped__"),he=W&&Be.call(u,"__wrapped__");if(ae||he){var Ee=ae?a.value():a,pe=he?u.value():u;return C||(C=new sr),y(Ee,pe,d,m,C)}}return te?(C||(C=new sr),g2(a,u,d,m,y,C)):!1}function VP(a){return at(a)&&Bt(a)==on}function Jp(a,u,d,m){var y=d.length,C=y,A=!m;if(a==null)return!C;for(a=je(a);y--;){var x=d[y];if(A&&x[2]?x[1]!==a[x[0]]:!(x[0]in a))return!1}for(;++y<C;){x=d[y];var P=x[0],$=a[P],j=x[1];if(A&&x[2]){if($===n&&!(P in a))return!1}else{var W=new sr;if(m)var te=m($,j,P,a,u,W);if(!(te===n?vl(j,$,I|T,m,W):te))return!1}}return!0}function sE(a){if(!nt(a)||b2(a))return!1;var u=Zr(a)?VN:NO;return u.test(Fs(a))}function WP(a){return at(a)&&qt(a)==il}function zP(a){return at(a)&&Bt(a)==rr}function GP(a){return at(a)&&ff(a.length)&&!!qe[qt(a)]}function oE(a){return typeof a=="function"?a:a==null?cn:typeof a=="object"?ye(a)?uE(a[0],a[1]):lE(a):A1(a)}function Xp(a){if(!wl(a))return qN(a);var u=[];for(var d in je(a))Be.call(a,d)&&d!="constructor"&&u.push(d);return u}function HP(a){if(!nt(a))return A2(a);var u=wl(a),d=[];for(var m in a)m=="constructor"&&(u||!Be.call(a,m))||d.push(m);return d}function Zp(a,u){return a<u}function aE(a,u){var d=-1,m=ln(a)?M(a.length):[];return Ri(a,function(y,C,A){m[++d]=u(y,C,A)}),m}function lE(a){var u=pg(a);return u.length==1&&u[0][2]?VE(u[0][0],u[0][1]):function(d){return d===a||Jp(d,a,u)}}function uE(a,u){return mg(a)&&jE(u)?VE(Ar(a),u):function(d){var m=Tg(d,a);return m===n&&m===u?Rg(d,a):vl(u,m,I|T)}}function qc(a,u,d,m,y){a!==u&&Kp(u,function(C,A){if(y||(y=new sr),nt(C))KP(a,u,A,d,qc,m,y);else{var x=m?m(_g(a,A),C,A+"",a,u,y):n;x===n&&(x=C),Gp(a,A,x)}},un)}function KP(a,u,d,m,y,C,A){var x=_g(a,d),P=_g(u,d),$=A.get(P);if($){Gp(a,d,$);return}var j=C?C(x,P,d+"",a,u,A):n,W=j===n;if(W){var te=ye(P),ae=!te&&Oi(P),he=!te&&!ae&&Do(P);j=P,te||ae||he?ye(x)?j=x:ct(x)?j=an(x):ae?(W=!1,j=EE(P,!0)):he?(W=!1,j=SE(P,!0)):j=[]:Sl(P)||Ms(P)?(j=x,Ms(x)?j=_1(x):(!nt(x)||Zr(x))&&(j=$E(P))):W=!1}W&&(A.set(P,j),y(j,P,m,C,A),A.delete(P)),Gp(a,d,j)}function cE(a,u){var d=a.length;if(d)return u+=u<0?d:0,Xr(u,d)?a[u]:n}function fE(a,u,d){u.length?u=Ze(u,function(C){return ye(C)?function(A){return Ds(A,C.length===1?C[0]:C)}:C}):u=[cn];var m=-1;u=Ze(u,In(de()));var y=aE(a,function(C,A,x){var P=Ze(u,function($){return $(C)});return{criteria:P,index:++m,value:C}});return wN(y,function(C,A){return o2(C,A,d)})}function qP(a,u){return dE(a,u,function(d,m){return Rg(a,m)})}function dE(a,u,d){for(var m=-1,y=u.length,C={};++m<y;){var A=u[m],x=Ds(a,A);d(x,A)&&_l(C,ki(A,a),x)}return C}function YP(a){return function(u){return Ds(u,a)}}function eg(a,u,d,m){var y=m?yN:Co,C=-1,A=u.length,x=a;for(a===u&&(u=an(u)),d&&(x=Ze(a,In(d)));++C<A;)for(var P=0,$=u[C],j=d?d($):$;(P=y(x,j,P,m))>-1;)x!==a&&Uc.call(x,P,1),Uc.call(a,P,1);return a}function hE(a,u){for(var d=a?u.length:0,m=d-1;d--;){var y=u[d];if(d==m||y!==C){var C=y;Xr(y)?Uc.call(a,y,1):ig(a,y)}}return a}function tg(a,u){return a+jc(Kw()*(u-a+1))}function QP(a,u,d,m){for(var y=-1,C=_t($c((u-a)/(d||1)),0),A=M(C);C--;)A[m?C:++y]=a,a+=d;return A}function ng(a,u){var d="";if(!a||u<1||u>z)return d;do u%2&&(d+=a),u=jc(u/2),u&&(a+=a);while(u);return d}function Se(a,u){return yg(WE(a,u,cn),a+"")}function JP(a){return Qw(Lo(a))}function XP(a,u){var d=Lo(a);return sf(d,Ps(u,0,d.length))}function _l(a,u,d,m){if(!nt(a))return a;u=ki(u,a);for(var y=-1,C=u.length,A=C-1,x=a;x!=null&&++y<C;){var P=Ar(u[y]),$=d;if(P==="__proto__"||P==="constructor"||P==="prototype")return a;if(y!=A){var j=x[P];$=m?m(j,P,x):n,$===n&&($=nt(j)?j:Xr(u[y+1])?[]:{})}pl(x,P,$),x=x[P]}return a}var pE=Vc?function(a,u){return Vc.set(a,u),a}:cn,ZP=Bc?function(a,u){return Bc(a,"toString",{configurable:!0,enumerable:!1,value:kg(u),writable:!0})}:cn;function e2(a){return sf(Lo(a))}function Wn(a,u,d){var m=-1,y=a.length;u<0&&(u=-u>y?0:y+u),d=d>y?y:d,d<0&&(d+=y),y=u>d?0:d-u>>>0,u>>>=0;for(var C=M(y);++m<y;)C[m]=a[m+u];return C}function t2(a,u){var d;return Ri(a,function(m,y,C){return d=u(m,y,C),!d}),!!d}function Yc(a,u,d){var m=0,y=a==null?m:a.length;if(typeof u=="number"&&u===u&&y<=Ot){for(;m<y;){var C=m+y>>>1,A=a[C];A!==null&&!Rn(A)&&(d?A<=u:A<u)?m=C+1:y=C}return y}return rg(a,u,cn,d)}function rg(a,u,d,m){var y=0,C=a==null?0:a.length;if(C===0)return 0;u=d(u);for(var A=u!==u,x=u===null,P=Rn(u),$=u===n;y<C;){var j=jc((y+C)/2),W=d(a[j]),te=W!==n,ae=W===null,he=W===W,Ee=Rn(W);if(A)var pe=m||he;else $?pe=he&&(m||te):x?pe=he&&te&&(m||!ae):P?pe=he&&te&&!ae&&(m||!Ee):ae||Ee?pe=!1:pe=m?W<=u:W<u;pe?y=j+1:C=j}return Ut(C,De)}function gE(a,u){for(var d=-1,m=a.length,y=0,C=[];++d<m;){var A=a[d],x=u?u(A):A;if(!d||!or(x,P)){var P=x;C[y++]=A===0?0:A}}return C}function mE(a){return typeof a=="number"?a:Rn(a)?se:+a}function Tn(a){if(typeof a=="string")return a;if(ye(a))return Ze(a,Tn)+"";if(Rn(a))return qw?qw.call(a):"";var u=a+"";return u=="0"&&1/a==-ce?"-0":u}function Ai(a,u,d){var m=-1,y=Ac,C=a.length,A=!0,x=[],P=x;if(d)A=!1,y=Np;else if(C>=i){var $=u?null:d2(a);if($)return xc($);A=!1,y=ll,P=new Ns}else P=u?[]:x;e:for(;++m<C;){var j=a[m],W=u?u(j):j;if(j=d||j!==0?j:0,A&&W===W){for(var te=P.length;te--;)if(P[te]===W)continue e;u&&P.push(W),x.push(j)}else y(P,W,d)||(P!==x&&P.push(W),x.push(j))}return x}function ig(a,u){return u=ki(u,a),a=zE(a,u),a==null||delete a[Ar(zn(u))]}function vE(a,u,d,m){return _l(a,u,d(Ds(a,u)),m)}function Qc(a,u,d,m){for(var y=a.length,C=m?y:-1;(m?C--:++C<y)&&u(a[C],C,a););return d?Wn(a,m?0:C,m?C+1:y):Wn(a,m?C+1:0,m?y:C)}function _E(a,u){var d=a;return d instanceof Re&&(d=d.value()),Pp(u,function(m,y){return y.func.apply(y.thisArg,bi([m],y.args))},d)}function sg(a,u,d){var m=a.length;if(m<2)return m?Ai(a[0]):[];for(var y=-1,C=M(m);++y<m;)for(var A=a[y],x=-1;++x<m;)x!=y&&(C[y]=gl(C[y]||A,a[x],u,d));return Ai(Pt(C,1),u,d)}function yE(a,u,d){for(var m=-1,y=a.length,C=u.length,A={};++m<y;){var x=m<C?u[m]:n;d(A,a[m],x)}return A}function og(a){return ct(a)?a:[]}function ag(a){return typeof a=="function"?a:cn}function ki(a,u){return ye(a)?a:mg(a,u)?[a]:qE(Me(a))}var n2=Se;function xi(a,u,d){var m=a.length;return d=d===n?m:d,!u&&d>=m?a:Wn(a,u,d)}var wE=WN||function(a){return Nt.clearTimeout(a)};function EE(a,u){if(u)return a.slice();var d=a.length,m=Vw?Vw(d):new a.constructor(d);return a.copy(m),m}function lg(a){var u=new a.constructor(a.byteLength);return new Fc(u).set(new Fc(a)),u}function r2(a,u){var d=u?lg(a.buffer):a.buffer;return new a.constructor(d,a.byteOffset,a.byteLength)}function i2(a){var u=new a.constructor(a.source,iw.exec(a));return u.lastIndex=a.lastIndex,u}function s2(a){return hl?je(hl.call(a)):{}}function SE(a,u){var d=u?lg(a.buffer):a.buffer;return new a.constructor(d,a.byteOffset,a.length)}function CE(a,u){if(a!==u){var d=a!==n,m=a===null,y=a===a,C=Rn(a),A=u!==n,x=u===null,P=u===u,$=Rn(u);if(!x&&!$&&!C&&a>u||C&&A&&P&&!x&&!$||m&&A&&P||!d&&P||!y)return 1;if(!m&&!C&&!$&&a<u||$&&d&&y&&!m&&!C||x&&d&&y||!A&&y||!P)return-1}return 0}function o2(a,u,d){for(var m=-1,y=a.criteria,C=u.criteria,A=y.length,x=d.length;++m<A;){var P=CE(y[m],C[m]);if(P){if(m>=x)return P;var $=d[m];return P*($=="desc"?-1:1)}}return a.index-u.index}function bE(a,u,d,m){for(var y=-1,C=a.length,A=d.length,x=-1,P=u.length,$=_t(C-A,0),j=M(P+$),W=!m;++x<P;)j[x]=u[x];for(;++y<A;)(W||y<C)&&(j[d[y]]=a[y]);for(;$--;)j[x++]=a[y++];return j}function IE(a,u,d,m){for(var y=-1,C=a.length,A=-1,x=d.length,P=-1,$=u.length,j=_t(C-x,0),W=M(j+$),te=!m;++y<j;)W[y]=a[y];for(var ae=y;++P<$;)W[ae+P]=u[P];for(;++A<x;)(te||y<C)&&(W[ae+d[A]]=a[y++]);return W}function an(a,u){var d=-1,m=a.length;for(u||(u=M(m));++d<m;)u[d]=a[d];return u}function Rr(a,u,d,m){var y=!d;d||(d={});for(var C=-1,A=u.length;++C<A;){var x=u[C],P=m?m(d[x],a[x],x,d,a):n;P===n&&(P=a[x]),y?Yr(d,x,P):pl(d,x,P)}return d}function a2(a,u){return Rr(a,gg(a),u)}function l2(a,u){return Rr(a,UE(a),u)}function Jc(a,u){return function(d,m){var y=ye(d)?hN:xP,C=u?u():{};return y(d,a,de(m,2),C)}}function Oo(a){return Se(function(u,d){var m=-1,y=d.length,C=y>1?d[y-1]:n,A=y>2?d[2]:n;for(C=a.length>3&&typeof C=="function"?(y--,C):n,A&&Yt(d[0],d[1],A)&&(C=y<3?n:C,y=1),u=je(u);++m<y;){var x=d[m];x&&a(u,x,m,C)}return u})}function TE(a,u){return function(d,m){if(d==null)return d;if(!ln(d))return a(d,m);for(var y=d.length,C=u?y:-1,A=je(d);(u?C--:++C<y)&&m(A[C],C,A)!==!1;);return d}}function RE(a){return function(u,d,m){for(var y=-1,C=je(u),A=m(u),x=A.length;x--;){var P=A[a?x:++y];if(d(C[P],P,C)===!1)break}return u}}function u2(a,u,d){var m=u&R,y=yl(a);function C(){var A=this&&this!==Nt&&this instanceof C?y:a;return A.apply(m?d:this,arguments)}return C}function AE(a){return function(u){u=Me(u);var d=bo(u)?ir(u):n,m=d?d[0]:u.charAt(0),y=d?xi(d,1).join(""):u.slice(1);return m[a]()+y}}function No(a){return function(u){return Pp(T1(I1(u).replace(ZO,"")),a,"")}}function yl(a){return function(){var u=arguments;switch(u.length){case 0:return new a;case 1:return new a(u[0]);case 2:return new a(u[0],u[1]);case 3:return new a(u[0],u[1],u[2]);case 4:return new a(u[0],u[1],u[2],u[3]);case 5:return new a(u[0],u[1],u[2],u[3],u[4]);case 6:return new a(u[0],u[1],u[2],u[3],u[4],u[5]);case 7:return new a(u[0],u[1],u[2],u[3],u[4],u[5],u[6])}var d=xo(a.prototype),m=a.apply(d,u);return nt(m)?m:d}}function c2(a,u,d){var m=yl(a);function y(){for(var C=arguments.length,A=M(C),x=C,P=Po(y);x--;)A[x]=arguments[x];var $=C<3&&A[0]!==P&&A[C-1]!==P?[]:Ii(A,P);if(C-=$.length,C<d)return PE(a,u,Xc,y.placeholder,n,A,$,n,n,d-C);var j=this&&this!==Nt&&this instanceof y?m:a;return bn(j,this,A)}return y}function kE(a){return function(u,d,m){var y=je(u);if(!ln(u)){var C=de(d,3);u=It(u),d=function(x){return C(y[x],x,y)}}var A=a(u,d,m);return A>-1?y[C?u[A]:A]:n}}function xE(a){return Jr(function(u){var d=u.length,m=d,y=jn.prototype.thru;for(a&&u.reverse();m--;){var C=u[m];if(typeof C!="function")throw new $n(o);if(y&&!A&&nf(C)=="wrapper")var A=new jn([],!0)}for(m=A?m:d;++m<d;){C=u[m];var x=nf(C),P=x=="wrapper"?hg(C):n;P&&vg(P[0])&&P[1]==(V|b|B|J)&&!P[4].length&&P[9]==1?A=A[nf(P[0])].apply(A,P[3]):A=C.length==1&&vg(C)?A[x]():A.thru(C)}return function(){var $=arguments,j=$[0];if(A&&$.length==1&&ye(j))return A.plant(j).value();for(var W=0,te=d?u[W].apply(this,$):j;++W<d;)te=u[W].call(this,te);return te}})}function Xc(a,u,d,m,y,C,A,x,P,$){var j=u&V,W=u&R,te=u&w,ae=u&(b|O),he=u&D,Ee=te?n:yl(a);function pe(){for(var be=arguments.length,xe=M(be),An=be;An--;)xe[An]=arguments[An];if(ae)var Qt=Po(pe),kn=SN(xe,Qt);if(m&&(xe=bE(xe,m,y,ae)),C&&(xe=IE(xe,C,A,ae)),be-=kn,ae&&be<$){var ft=Ii(xe,Qt);return PE(a,u,Xc,pe.placeholder,d,xe,ft,x,P,$-be)}var ar=W?d:this,ti=te?ar[a]:a;return be=xe.length,x?xe=x2(xe,x):he&&be>1&&xe.reverse(),j&&P<be&&(xe.length=P),this&&this!==Nt&&this instanceof pe&&(ti=Ee||yl(ti)),ti.apply(ar,xe)}return pe}function OE(a,u){return function(d,m){return UP(d,a,u(m),{})}}function Zc(a,u){return function(d,m){var y;if(d===n&&m===n)return u;if(d!==n&&(y=d),m!==n){if(y===n)return m;typeof d=="string"||typeof m=="string"?(d=Tn(d),m=Tn(m)):(d=mE(d),m=mE(m)),y=a(d,m)}return y}}function ug(a){return Jr(function(u){return u=Ze(u,In(de())),Se(function(d){var m=this;return a(u,function(y){return bn(y,m,d)})})})}function ef(a,u){u=u===n?" ":Tn(u);var d=u.length;if(d<2)return d?ng(u,a):u;var m=ng(u,$c(a/Io(u)));return bo(u)?xi(ir(m),0,a).join(""):m.slice(0,a)}function f2(a,u,d,m){var y=u&R,C=yl(a);function A(){for(var x=-1,P=arguments.length,$=-1,j=m.length,W=M(j+P),te=this&&this!==Nt&&this instanceof A?C:a;++$<j;)W[$]=m[$];for(;P--;)W[$++]=arguments[++x];return bn(te,y?d:this,W)}return A}function NE(a){return function(u,d,m){return m&&typeof m!="number"&&Yt(u,d,m)&&(d=m=n),u=ei(u),d===n?(d=u,u=0):d=ei(d),m=m===n?u<d?1:-1:ei(m),QP(u,d,m,a)}}function tf(a){return function(u,d){return typeof u=="string"&&typeof d=="string"||(u=Gn(u),d=Gn(d)),a(u,d)}}function PE(a,u,d,m,y,C,A,x,P,$){var j=u&b,W=j?A:n,te=j?n:A,ae=j?C:n,he=j?n:C;u|=j?B:q,u&=~(j?q:B),u&E||(u&=~(R|w));var Ee=[a,u,y,ae,W,he,te,x,P,$],pe=d.apply(n,Ee);return vg(a)&&GE(pe,Ee),pe.placeholder=m,HE(pe,a,u)}function cg(a){var u=vt[a];return function(d,m){if(d=Gn(d),m=m==null?0:Ut(we(m),292),m&&Hw(d)){var y=(Me(d)+"e").split("e"),C=u(y[0]+"e"+(+y[1]+m));return y=(Me(C)+"e").split("e"),+(y[0]+"e"+(+y[1]-m))}return u(d)}}var d2=Ao&&1/xc(new Ao([,-0]))[1]==ce?function(a){return new Ao(a)}:Ng;function DE(a){return function(u){var d=Bt(u);return d==on?$p(u):d==rr?kN(u):EN(u,a(u))}}function Qr(a,u,d,m,y,C,A,x){var P=u&w;if(!P&&typeof a!="function")throw new $n(o);var $=m?m.length:0;if($||(u&=~(B|q),m=y=n),A=A===n?A:_t(we(A),0),x=x===n?x:we(x),$-=y?y.length:0,u&q){var j=m,W=y;m=y=n}var te=P?n:hg(a),ae=[a,u,d,m,y,j,W,C,A,x];if(te&&R2(ae,te),a=ae[0],u=ae[1],d=ae[2],m=ae[3],y=ae[4],x=ae[9]=ae[9]===n?P?0:a.length:_t(ae[9]-$,0),!x&&u&(b|O)&&(u&=~(b|O)),!u||u==R)var he=u2(a,u,d);else u==b||u==O?he=c2(a,u,x):(u==B||u==(R|B))&&!y.length?he=f2(a,u,d,m):he=Xc.apply(n,ae);var Ee=te?pE:GE;return HE(Ee(he,ae),a,u)}function LE(a,u,d,m){return a===n||or(a,Ro[d])&&!Be.call(m,d)?u:a}function FE(a,u,d,m,y,C){return nt(a)&&nt(u)&&(C.set(u,a),qc(a,u,n,FE,C),C.delete(u)),a}function h2(a){return Sl(a)?n:a}function ME(a,u,d,m,y,C){var A=d&I,x=a.length,P=u.length;if(x!=P&&!(A&&P>x))return!1;var $=C.get(a),j=C.get(u);if($&&j)return $==u&&j==a;var W=-1,te=!0,ae=d&T?new Ns:n;for(C.set(a,u),C.set(u,a);++W<x;){var he=a[W],Ee=u[W];if(m)var pe=A?m(Ee,he,W,u,a,C):m(he,Ee,W,a,u,C);if(pe!==n){if(pe)continue;te=!1;break}if(ae){if(!Dp(u,function(be,xe){if(!ll(ae,xe)&&(he===be||y(he,be,d,m,C)))return ae.push(xe)})){te=!1;break}}else if(!(he===Ee||y(he,Ee,d,m,C))){te=!1;break}}return C.delete(a),C.delete(u),te}function p2(a,u,d,m,y,C,A){switch(d){case Eo:if(a.byteLength!=u.byteLength||a.byteOffset!=u.byteOffset)return!1;a=a.buffer,u=u.buffer;case al:return!(a.byteLength!=u.byteLength||!C(new Fc(a),new Fc(u)));case Gr:case Ei:case rl:return or(+a,+u);case nr:return a.name==u.name&&a.message==u.message;case il:case sl:return a==u+"";case on:var x=$p;case rr:var P=m&I;if(x||(x=xc),a.size!=u.size&&!P)return!1;var $=A.get(a);if($)return $==u;m|=T,A.set(a,u);var j=ME(x(a),x(u),m,y,C,A);return A.delete(a),j;case bc:if(hl)return hl.call(a)==hl.call(u)}return!1}function g2(a,u,d,m,y,C){var A=d&I,x=fg(a),P=x.length,$=fg(u),j=$.length;if(P!=j&&!A)return!1;for(var W=P;W--;){var te=x[W];if(!(A?te in u:Be.call(u,te)))return!1}var ae=C.get(a),he=C.get(u);if(ae&&he)return ae==u&&he==a;var Ee=!0;C.set(a,u),C.set(u,a);for(var pe=A;++W<P;){te=x[W];var be=a[te],xe=u[te];if(m)var An=A?m(xe,be,te,u,a,C):m(be,xe,te,a,u,C);if(!(An===n?be===xe||y(be,xe,d,m,C):An)){Ee=!1;break}pe||(pe=te=="constructor")}if(Ee&&!pe){var Qt=a.constructor,kn=u.constructor;Qt!=kn&&"constructor"in a&&"constructor"in u&&!(typeof Qt=="function"&&Qt instanceof Qt&&typeof kn=="function"&&kn instanceof kn)&&(Ee=!1)}return C.delete(a),C.delete(u),Ee}function Jr(a){return yg(WE(a,n,XE),a+"")}function fg(a){return rE(a,It,gg)}function dg(a){return rE(a,un,UE)}var hg=Vc?function(a){return Vc.get(a)}:Ng;function nf(a){for(var u=a.name+"",d=ko[u],m=Be.call(ko,u)?d.length:0;m--;){var y=d[m],C=y.func;if(C==null||C==a)return y.name}return u}function Po(a){var u=Be.call(S,"placeholder")?S:a;return u.placeholder}function de(){var a=S.iteratee||xg;return a=a===xg?oE:a,arguments.length?a(arguments[0],arguments[1]):a}function rf(a,u){var d=a.__data__;return C2(u)?d[typeof u=="string"?"string":"hash"]:d.map}function pg(a){for(var u=It(a),d=u.length;d--;){var m=u[d],y=a[m];u[d]=[m,y,jE(y)]}return u}function Ls(a,u){var d=TN(a,u);return sE(d)?d:n}function m2(a){var u=Be.call(a,xs),d=a[xs];try{a[xs]=n;var m=!0}catch{}var y=Dc.call(a);return m&&(u?a[xs]=d:delete a[xs]),y}var gg=Vp?function(a){return a==null?[]:(a=je(a),Ci(Vp(a),function(u){return zw.call(a,u)}))}:Pg,UE=Vp?function(a){for(var u=[];a;)bi(u,gg(a)),a=Mc(a);return u}:Pg,Bt=qt;(Wp&&Bt(new Wp(new ArrayBuffer(1)))!=Eo||cl&&Bt(new cl)!=on||zp&&Bt(zp.resolve())!=ew||Ao&&Bt(new Ao)!=rr||fl&&Bt(new fl)!=ol)&&(Bt=function(a){var u=qt(a),d=u==Hr?a.constructor:n,m=d?Fs(d):"";if(m)switch(m){case XN:return Eo;case ZN:return on;case eP:return ew;case tP:return rr;case nP:return ol}return u});function v2(a,u,d){for(var m=-1,y=d.length;++m<y;){var C=d[m],A=C.size;switch(C.type){case"drop":a+=A;break;case"dropRight":u-=A;break;case"take":u=Ut(u,a+A);break;case"takeRight":a=_t(a,u-A);break}}return{start:a,end:u}}function _2(a){var u=a.match(bO);return u?u[1].split(IO):[]}function BE(a,u,d){u=ki(u,a);for(var m=-1,y=u.length,C=!1;++m<y;){var A=Ar(u[m]);if(!(C=a!=null&&d(a,A)))break;a=a[A]}return C||++m!=y?C:(y=a==null?0:a.length,!!y&&ff(y)&&Xr(A,y)&&(ye(a)||Ms(a)))}function y2(a){var u=a.length,d=new a.constructor(u);return u&&typeof a[0]=="string"&&Be.call(a,"index")&&(d.index=a.index,d.input=a.input),d}function $E(a){return typeof a.constructor=="function"&&!wl(a)?xo(Mc(a)):{}}function w2(a,u,d){var m=a.constructor;switch(u){case al:return lg(a);case Gr:case Ei:return new m(+a);case Eo:return r2(a,d);case pp:case gp:case mp:case vp:case _p:case yp:case wp:case Ep:case Sp:return SE(a,d);case on:return new m;case rl:case sl:return new m(a);case il:return i2(a);case rr:return new m;case bc:return s2(a)}}function E2(a,u){var d=u.length;if(!d)return a;var m=d-1;return u[m]=(d>1?"& ":"")+u[m],u=u.join(d>2?", ":" "),a.replace(CO,`{
/* [wrapped with `+u+`] */
`)}function S2(a){return ye(a)||Ms(a)||!!(Gw&&a&&a[Gw])}function Xr(a,u){var d=typeof a;return u=u??z,!!u&&(d=="number"||d!="symbol"&&DO.test(a))&&a>-1&&a%1==0&&a<u}function Yt(a,u,d){if(!nt(d))return!1;var m=typeof u;return(m=="number"?ln(d)&&Xr(u,d.length):m=="string"&&u in d)?or(d[u],a):!1}function mg(a,u){if(ye(a))return!1;var d=typeof a;return d=="number"||d=="symbol"||d=="boolean"||a==null||Rn(a)?!0:yO.test(a)||!_O.test(a)||u!=null&&a in je(u)}function C2(a){var u=typeof a;return u=="string"||u=="number"||u=="symbol"||u=="boolean"?a!=="__proto__":a===null}function vg(a){var u=nf(a),d=S[u];if(typeof d!="function"||!(u in Re.prototype))return!1;if(a===d)return!0;var m=hg(d);return!!m&&a===m[0]}function b2(a){return!!jw&&jw in a}var I2=Nc?Zr:Dg;function wl(a){var u=a&&a.constructor,d=typeof u=="function"&&u.prototype||Ro;return a===d}function jE(a){return a===a&&!nt(a)}function VE(a,u){return function(d){return d==null?!1:d[a]===u&&(u!==n||a in je(d))}}function T2(a){var u=uf(a,function(m){return d.size===f&&d.clear(),m}),d=u.cache;return u}function R2(a,u){var d=a[1],m=u[1],y=d|m,C=y<(R|w|V),A=m==V&&d==b||m==V&&d==J&&a[7].length<=u[8]||m==(V|J)&&u[7].length<=u[8]&&d==b;if(!(C||A))return a;m&R&&(a[2]=u[2],y|=d&R?0:E);var x=u[3];if(x){var P=a[3];a[3]=P?bE(P,x,u[4]):x,a[4]=P?Ii(a[3],h):u[4]}return x=u[5],x&&(P=a[5],a[5]=P?IE(P,x,u[6]):x,a[6]=P?Ii(a[5],h):u[6]),x=u[7],x&&(a[7]=x),m&V&&(a[8]=a[8]==null?u[8]:Ut(a[8],u[8])),a[9]==null&&(a[9]=u[9]),a[0]=u[0],a[1]=y,a}function A2(a){var u=[];if(a!=null)for(var d in je(a))u.push(d);return u}function k2(a){return Dc.call(a)}function WE(a,u,d){return u=_t(u===n?a.length-1:u,0),function(){for(var m=arguments,y=-1,C=_t(m.length-u,0),A=M(C);++y<C;)A[y]=m[u+y];y=-1;for(var x=M(u+1);++y<u;)x[y]=m[y];return x[u]=d(A),bn(a,this,x)}}function zE(a,u){return u.length<2?a:Ds(a,Wn(u,0,-1))}function x2(a,u){for(var d=a.length,m=Ut(u.length,d),y=an(a);m--;){var C=u[m];a[m]=Xr(C,d)?y[C]:n}return a}function _g(a,u){if(!(u==="constructor"&&typeof a[u]=="function")&&u!="__proto__")return a[u]}var GE=KE(pE),El=GN||function(a,u){return Nt.setTimeout(a,u)},yg=KE(ZP);function HE(a,u,d){var m=u+"";return yg(a,E2(m,O2(_2(m),d)))}function KE(a){var u=0,d=0;return function(){var m=YN(),y=le-(m-d);if(d=m,y>0){if(++u>=X)return arguments[0]}else u=0;return a.apply(n,arguments)}}function sf(a,u){var d=-1,m=a.length,y=m-1;for(u=u===n?m:u;++d<u;){var C=tg(d,y),A=a[C];a[C]=a[d],a[d]=A}return a.length=u,a}var qE=T2(function(a){var u=[];return a.charCodeAt(0)===46&&u.push(""),a.replace(wO,function(d,m,y,C){u.push(y?C.replace(AO,"$1"):m||d)}),u});function Ar(a){if(typeof a=="string"||Rn(a))return a;var u=a+"";return u=="0"&&1/a==-ce?"-0":u}function Fs(a){if(a!=null){try{return Pc.call(a)}catch{}try{return a+""}catch{}}return""}function O2(a,u){return Bn(mt,function(d){var m="_."+d[0];u&d[1]&&!Ac(a,m)&&a.push(m)}),a.sort()}function YE(a){if(a instanceof Re)return a.clone();var u=new jn(a.__wrapped__,a.__chain__);return u.__actions__=an(a.__actions__),u.__index__=a.__index__,u.__values__=a.__values__,u}function N2(a,u,d){(d?Yt(a,u,d):u===n)?u=1:u=_t(we(u),0);var m=a==null?0:a.length;if(!m||u<1)return[];for(var y=0,C=0,A=M($c(m/u));y<m;)A[C++]=Wn(a,y,y+=u);return A}function P2(a){for(var u=-1,d=a==null?0:a.length,m=0,y=[];++u<d;){var C=a[u];C&&(y[m++]=C)}return y}function D2(){var a=arguments.length;if(!a)return[];for(var u=M(a-1),d=arguments[0],m=a;m--;)u[m-1]=arguments[m];return bi(ye(d)?an(d):[d],Pt(u,1))}var L2=Se(function(a,u){return ct(a)?gl(a,Pt(u,1,ct,!0)):[]}),F2=Se(function(a,u){var d=zn(u);return ct(d)&&(d=n),ct(a)?gl(a,Pt(u,1,ct,!0),de(d,2)):[]}),M2=Se(function(a,u){var d=zn(u);return ct(d)&&(d=n),ct(a)?gl(a,Pt(u,1,ct,!0),n,d):[]});function U2(a,u,d){var m=a==null?0:a.length;return m?(u=d||u===n?1:we(u),Wn(a,u<0?0:u,m)):[]}function B2(a,u,d){var m=a==null?0:a.length;return m?(u=d||u===n?1:we(u),u=m-u,Wn(a,0,u<0?0:u)):[]}function $2(a,u){return a&&a.length?Qc(a,de(u,3),!0,!0):[]}function j2(a,u){return a&&a.length?Qc(a,de(u,3),!0):[]}function V2(a,u,d,m){var y=a==null?0:a.length;return y?(d&&typeof d!="number"&&Yt(a,u,d)&&(d=0,m=y),DP(a,u,d,m)):[]}function QE(a,u,d){var m=a==null?0:a.length;if(!m)return-1;var y=d==null?0:we(d);return y<0&&(y=_t(m+y,0)),kc(a,de(u,3),y)}function JE(a,u,d){var m=a==null?0:a.length;if(!m)return-1;var y=m-1;return d!==n&&(y=we(d),y=d<0?_t(m+y,0):Ut(y,m-1)),kc(a,de(u,3),y,!0)}function XE(a){var u=a==null?0:a.length;return u?Pt(a,1):[]}function W2(a){var u=a==null?0:a.length;return u?Pt(a,ce):[]}function z2(a,u){var d=a==null?0:a.length;return d?(u=u===n?1:we(u),Pt(a,u)):[]}function G2(a){for(var u=-1,d=a==null?0:a.length,m={};++u<d;){var y=a[u];m[y[0]]=y[1]}return m}function ZE(a){return a&&a.length?a[0]:n}function H2(a,u,d){var m=a==null?0:a.length;if(!m)return-1;var y=d==null?0:we(d);return y<0&&(y=_t(m+y,0)),Co(a,u,y)}function K2(a){var u=a==null?0:a.length;return u?Wn(a,0,-1):[]}var q2=Se(function(a){var u=Ze(a,og);return u.length&&u[0]===a[0]?Qp(u):[]}),Y2=Se(function(a){var u=zn(a),d=Ze(a,og);return u===zn(d)?u=n:d.pop(),d.length&&d[0]===a[0]?Qp(d,de(u,2)):[]}),Q2=Se(function(a){var u=zn(a),d=Ze(a,og);return u=typeof u=="function"?u:n,u&&d.pop(),d.length&&d[0]===a[0]?Qp(d,n,u):[]});function J2(a,u){return a==null?"":KN.call(a,u)}function zn(a){var u=a==null?0:a.length;return u?a[u-1]:n}function X2(a,u,d){var m=a==null?0:a.length;if(!m)return-1;var y=m;return d!==n&&(y=we(d),y=y<0?_t(m+y,0):Ut(y,m-1)),u===u?ON(a,u,y):kc(a,Pw,y,!0)}function Z2(a,u){return a&&a.length?cE(a,we(u)):n}var eD=Se(e1);function e1(a,u){return a&&a.length&&u&&u.length?eg(a,u):a}function tD(a,u,d){return a&&a.length&&u&&u.length?eg(a,u,de(d,2)):a}function nD(a,u,d){return a&&a.length&&u&&u.length?eg(a,u,n,d):a}var rD=Jr(function(a,u){var d=a==null?0:a.length,m=Hp(a,u);return hE(a,Ze(u,function(y){return Xr(y,d)?+y:y}).sort(CE)),m});function iD(a,u){var d=[];if(!(a&&a.length))return d;var m=-1,y=[],C=a.length;for(u=de(u,3);++m<C;){var A=a[m];u(A,m,a)&&(d.push(A),y.push(m))}return hE(a,y),d}function wg(a){return a==null?a:JN.call(a)}function sD(a,u,d){var m=a==null?0:a.length;return m?(d&&typeof d!="number"&&Yt(a,u,d)?(u=0,d=m):(u=u==null?0:we(u),d=d===n?m:we(d)),Wn(a,u,d)):[]}function oD(a,u){return Yc(a,u)}function aD(a,u,d){return rg(a,u,de(d,2))}function lD(a,u){var d=a==null?0:a.length;if(d){var m=Yc(a,u);if(m<d&&or(a[m],u))return m}return-1}function uD(a,u){return Yc(a,u,!0)}function cD(a,u,d){return rg(a,u,de(d,2),!0)}function fD(a,u){var d=a==null?0:a.length;if(d){var m=Yc(a,u,!0)-1;if(or(a[m],u))return m}return-1}function dD(a){return a&&a.length?gE(a):[]}function hD(a,u){return a&&a.length?gE(a,de(u,2)):[]}function pD(a){var u=a==null?0:a.length;return u?Wn(a,1,u):[]}function gD(a,u,d){return a&&a.length?(u=d||u===n?1:we(u),Wn(a,0,u<0?0:u)):[]}function mD(a,u,d){var m=a==null?0:a.length;return m?(u=d||u===n?1:we(u),u=m-u,Wn(a,u<0?0:u,m)):[]}function vD(a,u){return a&&a.length?Qc(a,de(u,3),!1,!0):[]}function _D(a,u){return a&&a.length?Qc(a,de(u,3)):[]}var yD=Se(function(a){return Ai(Pt(a,1,ct,!0))}),wD=Se(function(a){var u=zn(a);return ct(u)&&(u=n),Ai(Pt(a,1,ct,!0),de(u,2))}),ED=Se(function(a){var u=zn(a);return u=typeof u=="function"?u:n,Ai(Pt(a,1,ct,!0),n,u)});function SD(a){return a&&a.length?Ai(a):[]}function CD(a,u){return a&&a.length?Ai(a,de(u,2)):[]}function bD(a,u){return u=typeof u=="function"?u:n,a&&a.length?Ai(a,n,u):[]}function Eg(a){if(!(a&&a.length))return[];var u=0;return a=Ci(a,function(d){if(ct(d))return u=_t(d.length,u),!0}),Up(u,function(d){return Ze(a,Lp(d))})}function t1(a,u){if(!(a&&a.length))return[];var d=Eg(a);return u==null?d:Ze(d,function(m){return bn(u,n,m)})}var ID=Se(function(a,u){return ct(a)?gl(a,u):[]}),TD=Se(function(a){return sg(Ci(a,ct))}),RD=Se(function(a){var u=zn(a);return ct(u)&&(u=n),sg(Ci(a,ct),de(u,2))}),AD=Se(function(a){var u=zn(a);return u=typeof u=="function"?u:n,sg(Ci(a,ct),n,u)}),kD=Se(Eg);function xD(a,u){return yE(a||[],u||[],pl)}function OD(a,u){return yE(a||[],u||[],_l)}var ND=Se(function(a){var u=a.length,d=u>1?a[u-1]:n;return d=typeof d=="function"?(a.pop(),d):n,t1(a,d)});function n1(a){var u=S(a);return u.__chain__=!0,u}function PD(a,u){return u(a),a}function of(a,u){return u(a)}var DD=Jr(function(a){var u=a.length,d=u?a[0]:0,m=this.__wrapped__,y=function(C){return Hp(C,a)};return u>1||this.__actions__.length||!(m instanceof Re)||!Xr(d)?this.thru(y):(m=m.slice(d,+d+(u?1:0)),m.__actions__.push({func:of,args:[y],thisArg:n}),new jn(m,this.__chain__).thru(function(C){return u&&!C.length&&C.push(n),C}))});function LD(){return n1(this)}function FD(){return new jn(this.value(),this.__chain__)}function MD(){this.__values__===n&&(this.__values__=m1(this.value()));var a=this.__index__>=this.__values__.length,u=a?n:this.__values__[this.__index__++];return{done:a,value:u}}function UD(){return this}function BD(a){for(var u,d=this;d instanceof zc;){var m=YE(d);m.__index__=0,m.__values__=n,u?y.__wrapped__=m:u=m;var y=m;d=d.__wrapped__}return y.__wrapped__=a,u}function $D(){var a=this.__wrapped__;if(a instanceof Re){var u=a;return this.__actions__.length&&(u=new Re(this)),u=u.reverse(),u.__actions__.push({func:of,args:[wg],thisArg:n}),new jn(u,this.__chain__)}return this.thru(wg)}function jD(){return _E(this.__wrapped__,this.__actions__)}var VD=Jc(function(a,u,d){Be.call(a,d)?++a[d]:Yr(a,d,1)});function WD(a,u,d){var m=ye(a)?Ow:PP;return d&&Yt(a,u,d)&&(u=n),m(a,de(u,3))}function zD(a,u){var d=ye(a)?Ci:tE;return d(a,de(u,3))}var GD=kE(QE),HD=kE(JE);function KD(a,u){return Pt(af(a,u),1)}function qD(a,u){return Pt(af(a,u),ce)}function YD(a,u,d){return d=d===n?1:we(d),Pt(af(a,u),d)}function r1(a,u){var d=ye(a)?Bn:Ri;return d(a,de(u,3))}function i1(a,u){var d=ye(a)?pN:eE;return d(a,de(u,3))}var QD=Jc(function(a,u,d){Be.call(a,d)?a[d].push(u):Yr(a,d,[u])});function JD(a,u,d,m){a=ln(a)?a:Lo(a),d=d&&!m?we(d):0;var y=a.length;return d<0&&(d=_t(y+d,0)),df(a)?d<=y&&a.indexOf(u,d)>-1:!!y&&Co(a,u,d)>-1}var XD=Se(function(a,u,d){var m=-1,y=typeof u=="function",C=ln(a)?M(a.length):[];return Ri(a,function(A){C[++m]=y?bn(u,A,d):ml(A,u,d)}),C}),ZD=Jc(function(a,u,d){Yr(a,d,u)});function af(a,u){var d=ye(a)?Ze:aE;return d(a,de(u,3))}function eL(a,u,d,m){return a==null?[]:(ye(u)||(u=u==null?[]:[u]),d=m?n:d,ye(d)||(d=d==null?[]:[d]),fE(a,u,d))}var tL=Jc(function(a,u,d){a[d?0:1].push(u)},function(){return[[],[]]});function nL(a,u,d){var m=ye(a)?Pp:Lw,y=arguments.length<3;return m(a,de(u,4),d,y,Ri)}function rL(a,u,d){var m=ye(a)?gN:Lw,y=arguments.length<3;return m(a,de(u,4),d,y,eE)}function iL(a,u){var d=ye(a)?Ci:tE;return d(a,cf(de(u,3)))}function sL(a){var u=ye(a)?Qw:JP;return u(a)}function oL(a,u,d){(d?Yt(a,u,d):u===n)?u=1:u=we(u);var m=ye(a)?AP:XP;return m(a,u)}function aL(a){var u=ye(a)?kP:e2;return u(a)}function lL(a){if(a==null)return 0;if(ln(a))return df(a)?Io(a):a.length;var u=Bt(a);return u==on||u==rr?a.size:Xp(a).length}function uL(a,u,d){var m=ye(a)?Dp:t2;return d&&Yt(a,u,d)&&(u=n),m(a,de(u,3))}var cL=Se(function(a,u){if(a==null)return[];var d=u.length;return d>1&&Yt(a,u[0],u[1])?u=[]:d>2&&Yt(u[0],u[1],u[2])&&(u=[u[0]]),fE(a,Pt(u,1),[])}),lf=zN||function(){return Nt.Date.now()};function fL(a,u){if(typeof u!="function")throw new $n(o);return a=we(a),function(){if(--a<1)return u.apply(this,arguments)}}function s1(a,u,d){return u=d?n:u,u=a&&u==null?a.length:u,Qr(a,V,n,n,n,n,u)}function o1(a,u){var d;if(typeof u!="function")throw new $n(o);return a=we(a),function(){return--a>0&&(d=u.apply(this,arguments)),a<=1&&(u=n),d}}var Sg=Se(function(a,u,d){var m=R;if(d.length){var y=Ii(d,Po(Sg));m|=B}return Qr(a,m,u,d,y)}),a1=Se(function(a,u,d){var m=R|w;if(d.length){var y=Ii(d,Po(a1));m|=B}return Qr(u,m,a,d,y)});function l1(a,u,d){u=d?n:u;var m=Qr(a,b,n,n,n,n,n,u);return m.placeholder=l1.placeholder,m}function u1(a,u,d){u=d?n:u;var m=Qr(a,O,n,n,n,n,n,u);return m.placeholder=u1.placeholder,m}function c1(a,u,d){var m,y,C,A,x,P,$=0,j=!1,W=!1,te=!0;if(typeof a!="function")throw new $n(o);u=Gn(u)||0,nt(d)&&(j=!!d.leading,W="maxWait"in d,C=W?_t(Gn(d.maxWait)||0,u):C,te="trailing"in d?!!d.trailing:te);function ae(ft){var ar=m,ti=y;return m=y=n,$=ft,A=a.apply(ti,ar),A}function he(ft){return $=ft,x=El(be,u),j?ae(ft):A}function Ee(ft){var ar=ft-P,ti=ft-$,k1=u-ar;return W?Ut(k1,C-ti):k1}function pe(ft){var ar=ft-P,ti=ft-$;return P===n||ar>=u||ar<0||W&&ti>=C}function be(){var ft=lf();if(pe(ft))return xe(ft);x=El(be,Ee(ft))}function xe(ft){return x=n,te&&m?ae(ft):(m=y=n,A)}function An(){x!==n&&wE(x),$=0,m=P=y=x=n}function Qt(){return x===n?A:xe(lf())}function kn(){var ft=lf(),ar=pe(ft);if(m=arguments,y=this,P=ft,ar){if(x===n)return he(P);if(W)return wE(x),x=El(be,u),ae(P)}return x===n&&(x=El(be,u)),A}return kn.cancel=An,kn.flush=Qt,kn}var dL=Se(function(a,u){return Zw(a,1,u)}),hL=Se(function(a,u,d){return Zw(a,Gn(u)||0,d)});function pL(a){return Qr(a,D)}function uf(a,u){if(typeof a!="function"||u!=null&&typeof u!="function")throw new $n(o);var d=function(){var m=arguments,y=u?u.apply(this,m):m[0],C=d.cache;if(C.has(y))return C.get(y);var A=a.apply(this,m);return d.cache=C.set(y,A)||C,A};return d.cache=new(uf.Cache||qr),d}uf.Cache=qr;function cf(a){if(typeof a!="function")throw new $n(o);return function(){var u=arguments;switch(u.length){case 0:return!a.call(this);case 1:return!a.call(this,u[0]);case 2:return!a.call(this,u[0],u[1]);case 3:return!a.call(this,u[0],u[1],u[2])}return!a.apply(this,u)}}function gL(a){return o1(2,a)}var mL=n2(function(a,u){u=u.length==1&&ye(u[0])?Ze(u[0],In(de())):Ze(Pt(u,1),In(de()));var d=u.length;return Se(function(m){for(var y=-1,C=Ut(m.length,d);++y<C;)m[y]=u[y].call(this,m[y]);return bn(a,this,m)})}),Cg=Se(function(a,u){var d=Ii(u,Po(Cg));return Qr(a,B,n,u,d)}),f1=Se(function(a,u){var d=Ii(u,Po(f1));return Qr(a,q,n,u,d)}),vL=Jr(function(a,u){return Qr(a,J,n,n,n,u)});function _L(a,u){if(typeof a!="function")throw new $n(o);return u=u===n?u:we(u),Se(a,u)}function yL(a,u){if(typeof a!="function")throw new $n(o);return u=u==null?0:_t(we(u),0),Se(function(d){var m=d[u],y=xi(d,0,u);return m&&bi(y,m),bn(a,this,y)})}function wL(a,u,d){var m=!0,y=!0;if(typeof a!="function")throw new $n(o);return nt(d)&&(m="leading"in d?!!d.leading:m,y="trailing"in d?!!d.trailing:y),c1(a,u,{leading:m,maxWait:u,trailing:y})}function EL(a){return s1(a,1)}function SL(a,u){return Cg(ag(u),a)}function CL(){if(!arguments.length)return[];var a=arguments[0];return ye(a)?a:[a]}function bL(a){return Vn(a,v)}function IL(a,u){return u=typeof u=="function"?u:n,Vn(a,v,u)}function TL(a){return Vn(a,p|v)}function RL(a,u){return u=typeof u=="function"?u:n,Vn(a,p|v,u)}function AL(a,u){return u==null||Xw(a,u,It(u))}function or(a,u){return a===u||a!==a&&u!==u}var kL=tf(Yp),xL=tf(function(a,u){return a>=u}),Ms=iE(function(){return arguments}())?iE:function(a){return at(a)&&Be.call(a,"callee")&&!zw.call(a,"callee")},ye=M.isArray,OL=Iw?In(Iw):BP;function ln(a){return a!=null&&ff(a.length)&&!Zr(a)}function ct(a){return at(a)&&ln(a)}function NL(a){return a===!0||a===!1||at(a)&&qt(a)==Gr}var Oi=HN||Dg,PL=Tw?In(Tw):$P;function DL(a){return at(a)&&a.nodeType===1&&!Sl(a)}function LL(a){if(a==null)return!0;if(ln(a)&&(ye(a)||typeof a=="string"||typeof a.splice=="function"||Oi(a)||Do(a)||Ms(a)))return!a.length;var u=Bt(a);if(u==on||u==rr)return!a.size;if(wl(a))return!Xp(a).length;for(var d in a)if(Be.call(a,d))return!1;return!0}function FL(a,u){return vl(a,u)}function ML(a,u,d){d=typeof d=="function"?d:n;var m=d?d(a,u):n;return m===n?vl(a,u,n,d):!!m}function bg(a){if(!at(a))return!1;var u=qt(a);return u==nr||u==tl||typeof a.message=="string"&&typeof a.name=="string"&&!Sl(a)}function UL(a){return typeof a=="number"&&Hw(a)}function Zr(a){if(!nt(a))return!1;var u=qt(a);return u==Si||u==nl||u==tr||u==lO}function d1(a){return typeof a=="number"&&a==we(a)}function ff(a){return typeof a=="number"&&a>-1&&a%1==0&&a<=z}function nt(a){var u=typeof a;return a!=null&&(u=="object"||u=="function")}function at(a){return a!=null&&typeof a=="object"}var h1=Rw?In(Rw):VP;function BL(a,u){return a===u||Jp(a,u,pg(u))}function $L(a,u,d){return d=typeof d=="function"?d:n,Jp(a,u,pg(u),d)}function jL(a){return p1(a)&&a!=+a}function VL(a){if(I2(a))throw new _e(s);return sE(a)}function WL(a){return a===null}function zL(a){return a==null}function p1(a){return typeof a=="number"||at(a)&&qt(a)==rl}function Sl(a){if(!at(a)||qt(a)!=Hr)return!1;var u=Mc(a);if(u===null)return!0;var d=Be.call(u,"constructor")&&u.constructor;return typeof d=="function"&&d instanceof d&&Pc.call(d)==$N}var Ig=Aw?In(Aw):WP;function GL(a){return d1(a)&&a>=-z&&a<=z}var g1=kw?In(kw):zP;function df(a){return typeof a=="string"||!ye(a)&&at(a)&&qt(a)==sl}function Rn(a){return typeof a=="symbol"||at(a)&&qt(a)==bc}var Do=xw?In(xw):GP;function HL(a){return a===n}function KL(a){return at(a)&&Bt(a)==ol}function qL(a){return at(a)&&qt(a)==cO}var YL=tf(Zp),QL=tf(function(a,u){return a<=u});function m1(a){if(!a)return[];if(ln(a))return df(a)?ir(a):an(a);if(ul&&a[ul])return AN(a[ul]());var u=Bt(a),d=u==on?$p:u==rr?xc:Lo;return d(a)}function ei(a){if(!a)return a===0?a:0;if(a=Gn(a),a===ce||a===-ce){var u=a<0?-1:1;return u*ee}return a===a?a:0}function we(a){var u=ei(a),d=u%1;return u===u?d?u-d:u:0}function v1(a){return a?Ps(we(a),0,oe):0}function Gn(a){if(typeof a=="number")return a;if(Rn(a))return se;if(nt(a)){var u=typeof a.valueOf=="function"?a.valueOf():a;a=nt(u)?u+"":u}if(typeof a!="string")return a===0?a:+a;a=Fw(a);var d=OO.test(a);return d||PO.test(a)?fN(a.slice(2),d?2:8):xO.test(a)?se:+a}function _1(a){return Rr(a,un(a))}function JL(a){return a?Ps(we(a),-z,z):a===0?a:0}function Me(a){return a==null?"":Tn(a)}var XL=Oo(function(a,u){if(wl(u)||ln(u)){Rr(u,It(u),a);return}for(var d in u)Be.call(u,d)&&pl(a,d,u[d])}),y1=Oo(function(a,u){Rr(u,un(u),a)}),hf=Oo(function(a,u,d,m){Rr(u,un(u),a,m)}),ZL=Oo(function(a,u,d,m){Rr(u,It(u),a,m)}),eF=Jr(Hp);function tF(a,u){var d=xo(a);return u==null?d:Jw(d,u)}var nF=Se(function(a,u){a=je(a);var d=-1,m=u.length,y=m>2?u[2]:n;for(y&&Yt(u[0],u[1],y)&&(m=1);++d<m;)for(var C=u[d],A=un(C),x=-1,P=A.length;++x<P;){var $=A[x],j=a[$];(j===n||or(j,Ro[$])&&!Be.call(a,$))&&(a[$]=C[$])}return a}),rF=Se(function(a){return a.push(n,FE),bn(w1,n,a)});function iF(a,u){return Nw(a,de(u,3),Tr)}function sF(a,u){return Nw(a,de(u,3),qp)}function oF(a,u){return a==null?a:Kp(a,de(u,3),un)}function aF(a,u){return a==null?a:nE(a,de(u,3),un)}function lF(a,u){return a&&Tr(a,de(u,3))}function uF(a,u){return a&&qp(a,de(u,3))}function cF(a){return a==null?[]:Kc(a,It(a))}function fF(a){return a==null?[]:Kc(a,un(a))}function Tg(a,u,d){var m=a==null?n:Ds(a,u);return m===n?d:m}function dF(a,u){return a!=null&&BE(a,u,LP)}function Rg(a,u){return a!=null&&BE(a,u,FP)}var hF=OE(function(a,u,d){u!=null&&typeof u.toString!="function"&&(u=Dc.call(u)),a[u]=d},kg(cn)),pF=OE(function(a,u,d){u!=null&&typeof u.toString!="function"&&(u=Dc.call(u)),Be.call(a,u)?a[u].push(d):a[u]=[d]},de),gF=Se(ml);function It(a){return ln(a)?Yw(a):Xp(a)}function un(a){return ln(a)?Yw(a,!0):HP(a)}function mF(a,u){var d={};return u=de(u,3),Tr(a,function(m,y,C){Yr(d,u(m,y,C),m)}),d}function vF(a,u){var d={};return u=de(u,3),Tr(a,function(m,y,C){Yr(d,y,u(m,y,C))}),d}var _F=Oo(function(a,u,d){qc(a,u,d)}),w1=Oo(function(a,u,d,m){qc(a,u,d,m)}),yF=Jr(function(a,u){var d={};if(a==null)return d;var m=!1;u=Ze(u,function(C){return C=ki(C,a),m||(m=C.length>1),C}),Rr(a,dg(a),d),m&&(d=Vn(d,p|g|v,h2));for(var y=u.length;y--;)ig(d,u[y]);return d});function wF(a,u){return E1(a,cf(de(u)))}var EF=Jr(function(a,u){return a==null?{}:qP(a,u)});function E1(a,u){if(a==null)return{};var d=Ze(dg(a),function(m){return[m]});return u=de(u),dE(a,d,function(m,y){return u(m,y[0])})}function SF(a,u,d){u=ki(u,a);var m=-1,y=u.length;for(y||(y=1,a=n);++m<y;){var C=a==null?n:a[Ar(u[m])];C===n&&(m=y,C=d),a=Zr(C)?C.call(a):C}return a}function CF(a,u,d){return a==null?a:_l(a,u,d)}function bF(a,u,d,m){return m=typeof m=="function"?m:n,a==null?a:_l(a,u,d,m)}var S1=DE(It),C1=DE(un);function IF(a,u,d){var m=ye(a),y=m||Oi(a)||Do(a);if(u=de(u,4),d==null){var C=a&&a.constructor;y?d=m?new C:[]:nt(a)?d=Zr(C)?xo(Mc(a)):{}:d={}}return(y?Bn:Tr)(a,function(A,x,P){return u(d,A,x,P)}),d}function TF(a,u){return a==null?!0:ig(a,u)}function RF(a,u,d){return a==null?a:vE(a,u,ag(d))}function AF(a,u,d,m){return m=typeof m=="function"?m:n,a==null?a:vE(a,u,ag(d),m)}function Lo(a){return a==null?[]:Bp(a,It(a))}function kF(a){return a==null?[]:Bp(a,un(a))}function xF(a,u,d){return d===n&&(d=u,u=n),d!==n&&(d=Gn(d),d=d===d?d:0),u!==n&&(u=Gn(u),u=u===u?u:0),Ps(Gn(a),u,d)}function OF(a,u,d){return u=ei(u),d===n?(d=u,u=0):d=ei(d),a=Gn(a),MP(a,u,d)}function NF(a,u,d){if(d&&typeof d!="boolean"&&Yt(a,u,d)&&(u=d=n),d===n&&(typeof u=="boolean"?(d=u,u=n):typeof a=="boolean"&&(d=a,a=n)),a===n&&u===n?(a=0,u=1):(a=ei(a),u===n?(u=a,a=0):u=ei(u)),a>u){var m=a;a=u,u=m}if(d||a%1||u%1){var y=Kw();return Ut(a+y*(u-a+cN("1e-"+((y+"").length-1))),u)}return tg(a,u)}var PF=No(function(a,u,d){return u=u.toLowerCase(),a+(d?b1(u):u)});function b1(a){return Ag(Me(a).toLowerCase())}function I1(a){return a=Me(a),a&&a.replace(LO,CN).replace(eN,"")}function DF(a,u,d){a=Me(a),u=Tn(u);var m=a.length;d=d===n?m:Ps(we(d),0,m);var y=d;return d-=u.length,d>=0&&a.slice(d,y)==u}function LF(a){return a=Me(a),a&&gO.test(a)?a.replace(nw,bN):a}function FF(a){return a=Me(a),a&&EO.test(a)?a.replace(Cp,"\\$&"):a}var MF=No(function(a,u,d){return a+(d?"-":"")+u.toLowerCase()}),UF=No(function(a,u,d){return a+(d?" ":"")+u.toLowerCase()}),BF=AE("toLowerCase");function $F(a,u,d){a=Me(a),u=we(u);var m=u?Io(a):0;if(!u||m>=u)return a;var y=(u-m)/2;return ef(jc(y),d)+a+ef($c(y),d)}function jF(a,u,d){a=Me(a),u=we(u);var m=u?Io(a):0;return u&&m<u?a+ef(u-m,d):a}function VF(a,u,d){a=Me(a),u=we(u);var m=u?Io(a):0;return u&&m<u?ef(u-m,d)+a:a}function WF(a,u,d){return d||u==null?u=0:u&&(u=+u),QN(Me(a).replace(bp,""),u||0)}function zF(a,u,d){return(d?Yt(a,u,d):u===n)?u=1:u=we(u),ng(Me(a),u)}function GF(){var a=arguments,u=Me(a[0]);return a.length<3?u:u.replace(a[1],a[2])}var HF=No(function(a,u,d){return a+(d?"_":"")+u.toLowerCase()});function KF(a,u,d){return d&&typeof d!="number"&&Yt(a,u,d)&&(u=d=n),d=d===n?oe:d>>>0,d?(a=Me(a),a&&(typeof u=="string"||u!=null&&!Ig(u))&&(u=Tn(u),!u&&bo(a))?xi(ir(a),0,d):a.split(u,d)):[]}var qF=No(function(a,u,d){return a+(d?" ":"")+Ag(u)});function YF(a,u,d){return a=Me(a),d=d==null?0:Ps(we(d),0,a.length),u=Tn(u),a.slice(d,d+u.length)==u}function QF(a,u,d){var m=S.templateSettings;d&&Yt(a,u,d)&&(u=n),a=Me(a),u=hf({},u,m,LE);var y=hf({},u.imports,m.imports,LE),C=It(y),A=Bp(y,C),x,P,$=0,j=u.interpolate||Ic,W="__p += '",te=jp((u.escape||Ic).source+"|"+j.source+"|"+(j===rw?kO:Ic).source+"|"+(u.evaluate||Ic).source+"|$","g"),ae="//# sourceURL="+(Be.call(u,"sourceURL")?(u.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++sN+"]")+`
`;a.replace(te,function(pe,be,xe,An,Qt,kn){return xe||(xe=An),W+=a.slice($,kn).replace(FO,IN),be&&(x=!0,W+=`' +
__e(`+be+`) +
'`),Qt&&(P=!0,W+=`';
`+Qt+`;
__p += '`),xe&&(W+=`' +
((__t = (`+xe+`)) == null ? '' : __t) +
'`),$=kn+pe.length,pe}),W+=`';
`;var he=Be.call(u,"variable")&&u.variable;if(!he)W=`with (obj) {
`+W+`
}
`;else if(RO.test(he))throw new _e(l);W=(P?W.replace(fO,""):W).replace(dO,"$1").replace(hO,"$1;"),W="function("+(he||"obj")+`) {
`+(he?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(x?", __e = _.escape":"")+(P?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+W+`return __p
}`;var Ee=R1(function(){return Fe(C,ae+"return "+W).apply(n,A)});if(Ee.source=W,bg(Ee))throw Ee;return Ee}function JF(a){return Me(a).toLowerCase()}function XF(a){return Me(a).toUpperCase()}function ZF(a,u,d){if(a=Me(a),a&&(d||u===n))return Fw(a);if(!a||!(u=Tn(u)))return a;var m=ir(a),y=ir(u),C=Mw(m,y),A=Uw(m,y)+1;return xi(m,C,A).join("")}function e5(a,u,d){if(a=Me(a),a&&(d||u===n))return a.slice(0,$w(a)+1);if(!a||!(u=Tn(u)))return a;var m=ir(a),y=Uw(m,ir(u))+1;return xi(m,0,y).join("")}function t5(a,u,d){if(a=Me(a),a&&(d||u===n))return a.replace(bp,"");if(!a||!(u=Tn(u)))return a;var m=ir(a),y=Mw(m,ir(u));return xi(m,y).join("")}function n5(a,u){var d=F,m=Y;if(nt(u)){var y="separator"in u?u.separator:y;d="length"in u?we(u.length):d,m="omission"in u?Tn(u.omission):m}a=Me(a);var C=a.length;if(bo(a)){var A=ir(a);C=A.length}if(d>=C)return a;var x=d-Io(m);if(x<1)return m;var P=A?xi(A,0,x).join(""):a.slice(0,x);if(y===n)return P+m;if(A&&(x+=P.length-x),Ig(y)){if(a.slice(x).search(y)){var $,j=P;for(y.global||(y=jp(y.source,Me(iw.exec(y))+"g")),y.lastIndex=0;$=y.exec(j);)var W=$.index;P=P.slice(0,W===n?x:W)}}else if(a.indexOf(Tn(y),x)!=x){var te=P.lastIndexOf(y);te>-1&&(P=P.slice(0,te))}return P+m}function r5(a){return a=Me(a),a&&pO.test(a)?a.replace(tw,NN):a}var i5=No(function(a,u,d){return a+(d?" ":"")+u.toUpperCase()}),Ag=AE("toUpperCase");function T1(a,u,d){return a=Me(a),u=d?n:u,u===n?RN(a)?LN(a):_N(a):a.match(u)||[]}var R1=Se(function(a,u){try{return bn(a,n,u)}catch(d){return bg(d)?d:new _e(d)}}),s5=Jr(function(a,u){return Bn(u,function(d){d=Ar(d),Yr(a,d,Sg(a[d],a))}),a});function o5(a){var u=a==null?0:a.length,d=de();return a=u?Ze(a,function(m){if(typeof m[1]!="function")throw new $n(o);return[d(m[0]),m[1]]}):[],Se(function(m){for(var y=-1;++y<u;){var C=a[y];if(bn(C[0],this,m))return bn(C[1],this,m)}})}function a5(a){return NP(Vn(a,p))}function kg(a){return function(){return a}}function l5(a,u){return a==null||a!==a?u:a}var u5=xE(),c5=xE(!0);function cn(a){return a}function xg(a){return oE(typeof a=="function"?a:Vn(a,p))}function f5(a){return lE(Vn(a,p))}function d5(a,u){return uE(a,Vn(u,p))}var h5=Se(function(a,u){return function(d){return ml(d,a,u)}}),p5=Se(function(a,u){return function(d){return ml(a,d,u)}});function Og(a,u,d){var m=It(u),y=Kc(u,m);d==null&&!(nt(u)&&(y.length||!m.length))&&(d=u,u=a,a=this,y=Kc(u,It(u)));var C=!(nt(d)&&"chain"in d)||!!d.chain,A=Zr(a);return Bn(y,function(x){var P=u[x];a[x]=P,A&&(a.prototype[x]=function(){var $=this.__chain__;if(C||$){var j=a(this.__wrapped__),W=j.__actions__=an(this.__actions__);return W.push({func:P,args:arguments,thisArg:a}),j.__chain__=$,j}return P.apply(a,bi([this.value()],arguments))})}),a}function g5(){return Nt._===this&&(Nt._=jN),this}function Ng(){}function m5(a){return a=we(a),Se(function(u){return cE(u,a)})}var v5=ug(Ze),_5=ug(Ow),y5=ug(Dp);function A1(a){return mg(a)?Lp(Ar(a)):YP(a)}function w5(a){return function(u){return a==null?n:Ds(a,u)}}var E5=NE(),S5=NE(!0);function Pg(){return[]}function Dg(){return!1}function C5(){return{}}function b5(){return""}function I5(){return!0}function T5(a,u){if(a=we(a),a<1||a>z)return[];var d=oe,m=Ut(a,oe);u=de(u),a-=oe;for(var y=Up(m,u);++d<a;)u(d);return y}function R5(a){return ye(a)?Ze(a,Ar):Rn(a)?[a]:an(qE(Me(a)))}function A5(a){var u=++BN;return Me(a)+u}var k5=Zc(function(a,u){return a+u},0),x5=cg("ceil"),O5=Zc(function(a,u){return a/u},1),N5=cg("floor");function P5(a){return a&&a.length?Hc(a,cn,Yp):n}function D5(a,u){return a&&a.length?Hc(a,de(u,2),Yp):n}function L5(a){return Dw(a,cn)}function F5(a,u){return Dw(a,de(u,2))}function M5(a){return a&&a.length?Hc(a,cn,Zp):n}function U5(a,u){return a&&a.length?Hc(a,de(u,2),Zp):n}var B5=Zc(function(a,u){return a*u},1),$5=cg("round"),j5=Zc(function(a,u){return a-u},0);function V5(a){return a&&a.length?Mp(a,cn):0}function W5(a,u){return a&&a.length?Mp(a,de(u,2)):0}return S.after=fL,S.ary=s1,S.assign=XL,S.assignIn=y1,S.assignInWith=hf,S.assignWith=ZL,S.at=eF,S.before=o1,S.bind=Sg,S.bindAll=s5,S.bindKey=a1,S.castArray=CL,S.chain=n1,S.chunk=N2,S.compact=P2,S.concat=D2,S.cond=o5,S.conforms=a5,S.constant=kg,S.countBy=VD,S.create=tF,S.curry=l1,S.curryRight=u1,S.debounce=c1,S.defaults=nF,S.defaultsDeep=rF,S.defer=dL,S.delay=hL,S.difference=L2,S.differenceBy=F2,S.differenceWith=M2,S.drop=U2,S.dropRight=B2,S.dropRightWhile=$2,S.dropWhile=j2,S.fill=V2,S.filter=zD,S.flatMap=KD,S.flatMapDeep=qD,S.flatMapDepth=YD,S.flatten=XE,S.flattenDeep=W2,S.flattenDepth=z2,S.flip=pL,S.flow=u5,S.flowRight=c5,S.fromPairs=G2,S.functions=cF,S.functionsIn=fF,S.groupBy=QD,S.initial=K2,S.intersection=q2,S.intersectionBy=Y2,S.intersectionWith=Q2,S.invert=hF,S.invertBy=pF,S.invokeMap=XD,S.iteratee=xg,S.keyBy=ZD,S.keys=It,S.keysIn=un,S.map=af,S.mapKeys=mF,S.mapValues=vF,S.matches=f5,S.matchesProperty=d5,S.memoize=uf,S.merge=_F,S.mergeWith=w1,S.method=h5,S.methodOf=p5,S.mixin=Og,S.negate=cf,S.nthArg=m5,S.omit=yF,S.omitBy=wF,S.once=gL,S.orderBy=eL,S.over=v5,S.overArgs=mL,S.overEvery=_5,S.overSome=y5,S.partial=Cg,S.partialRight=f1,S.partition=tL,S.pick=EF,S.pickBy=E1,S.property=A1,S.propertyOf=w5,S.pull=eD,S.pullAll=e1,S.pullAllBy=tD,S.pullAllWith=nD,S.pullAt=rD,S.range=E5,S.rangeRight=S5,S.rearg=vL,S.reject=iL,S.remove=iD,S.rest=_L,S.reverse=wg,S.sampleSize=oL,S.set=CF,S.setWith=bF,S.shuffle=aL,S.slice=sD,S.sortBy=cL,S.sortedUniq=dD,S.sortedUniqBy=hD,S.split=KF,S.spread=yL,S.tail=pD,S.take=gD,S.takeRight=mD,S.takeRightWhile=vD,S.takeWhile=_D,S.tap=PD,S.throttle=wL,S.thru=of,S.toArray=m1,S.toPairs=S1,S.toPairsIn=C1,S.toPath=R5,S.toPlainObject=_1,S.transform=IF,S.unary=EL,S.union=yD,S.unionBy=wD,S.unionWith=ED,S.uniq=SD,S.uniqBy=CD,S.uniqWith=bD,S.unset=TF,S.unzip=Eg,S.unzipWith=t1,S.update=RF,S.updateWith=AF,S.values=Lo,S.valuesIn=kF,S.without=ID,S.words=T1,S.wrap=SL,S.xor=TD,S.xorBy=RD,S.xorWith=AD,S.zip=kD,S.zipObject=xD,S.zipObjectDeep=OD,S.zipWith=ND,S.entries=S1,S.entriesIn=C1,S.extend=y1,S.extendWith=hf,Og(S,S),S.add=k5,S.attempt=R1,S.camelCase=PF,S.capitalize=b1,S.ceil=x5,S.clamp=xF,S.clone=bL,S.cloneDeep=TL,S.cloneDeepWith=RL,S.cloneWith=IL,S.conformsTo=AL,S.deburr=I1,S.defaultTo=l5,S.divide=O5,S.endsWith=DF,S.eq=or,S.escape=LF,S.escapeRegExp=FF,S.every=WD,S.find=GD,S.findIndex=QE,S.findKey=iF,S.findLast=HD,S.findLastIndex=JE,S.findLastKey=sF,S.floor=N5,S.forEach=r1,S.forEachRight=i1,S.forIn=oF,S.forInRight=aF,S.forOwn=lF,S.forOwnRight=uF,S.get=Tg,S.gt=kL,S.gte=xL,S.has=dF,S.hasIn=Rg,S.head=ZE,S.identity=cn,S.includes=JD,S.indexOf=H2,S.inRange=OF,S.invoke=gF,S.isArguments=Ms,S.isArray=ye,S.isArrayBuffer=OL,S.isArrayLike=ln,S.isArrayLikeObject=ct,S.isBoolean=NL,S.isBuffer=Oi,S.isDate=PL,S.isElement=DL,S.isEmpty=LL,S.isEqual=FL,S.isEqualWith=ML,S.isError=bg,S.isFinite=UL,S.isFunction=Zr,S.isInteger=d1,S.isLength=ff,S.isMap=h1,S.isMatch=BL,S.isMatchWith=$L,S.isNaN=jL,S.isNative=VL,S.isNil=zL,S.isNull=WL,S.isNumber=p1,S.isObject=nt,S.isObjectLike=at,S.isPlainObject=Sl,S.isRegExp=Ig,S.isSafeInteger=GL,S.isSet=g1,S.isString=df,S.isSymbol=Rn,S.isTypedArray=Do,S.isUndefined=HL,S.isWeakMap=KL,S.isWeakSet=qL,S.join=J2,S.kebabCase=MF,S.last=zn,S.lastIndexOf=X2,S.lowerCase=UF,S.lowerFirst=BF,S.lt=YL,S.lte=QL,S.max=P5,S.maxBy=D5,S.mean=L5,S.meanBy=F5,S.min=M5,S.minBy=U5,S.stubArray=Pg,S.stubFalse=Dg,S.stubObject=C5,S.stubString=b5,S.stubTrue=I5,S.multiply=B5,S.nth=Z2,S.noConflict=g5,S.noop=Ng,S.now=lf,S.pad=$F,S.padEnd=jF,S.padStart=VF,S.parseInt=WF,S.random=NF,S.reduce=nL,S.reduceRight=rL,S.repeat=zF,S.replace=GF,S.result=SF,S.round=$5,S.runInContext=N,S.sample=sL,S.size=lL,S.snakeCase=HF,S.some=uL,S.sortedIndex=oD,S.sortedIndexBy=aD,S.sortedIndexOf=lD,S.sortedLastIndex=uD,S.sortedLastIndexBy=cD,S.sortedLastIndexOf=fD,S.startCase=qF,S.startsWith=YF,S.subtract=j5,S.sum=V5,S.sumBy=W5,S.template=QF,S.times=T5,S.toFinite=ei,S.toInteger=we,S.toLength=v1,S.toLower=JF,S.toNumber=Gn,S.toSafeInteger=JL,S.toString=Me,S.toUpper=XF,S.trim=ZF,S.trimEnd=e5,S.trimStart=t5,S.truncate=n5,S.unescape=r5,S.uniqueId=A5,S.upperCase=i5,S.upperFirst=Ag,S.each=r1,S.eachRight=i1,S.first=ZE,Og(S,function(){var a={};return Tr(S,function(u,d){Be.call(S.prototype,d)||(a[d]=u)}),a}(),{chain:!1}),S.VERSION=r,Bn(["bind","bindKey","curry","curryRight","partial","partialRight"],function(a){S[a].placeholder=S}),Bn(["drop","take"],function(a,u){Re.prototype[a]=function(d){d=d===n?1:_t(we(d),0);var m=this.__filtered__&&!u?new Re(this):this.clone();return m.__filtered__?m.__takeCount__=Ut(d,m.__takeCount__):m.__views__.push({size:Ut(d,oe),type:a+(m.__dir__<0?"Right":"")}),m},Re.prototype[a+"Right"]=function(d){return this.reverse()[a](d).reverse()}}),Bn(["filter","map","takeWhile"],function(a,u){var d=u+1,m=d==Z||d==ke;Re.prototype[a]=function(y){var C=this.clone();return C.__iteratees__.push({iteratee:de(y,3),type:d}),C.__filtered__=C.__filtered__||m,C}}),Bn(["head","last"],function(a,u){var d="take"+(u?"Right":"");Re.prototype[a]=function(){return this[d](1).value()[0]}}),Bn(["initial","tail"],function(a,u){var d="drop"+(u?"":"Right");Re.prototype[a]=function(){return this.__filtered__?new Re(this):this[d](1)}}),Re.prototype.compact=function(){return this.filter(cn)},Re.prototype.find=function(a){return this.filter(a).head()},Re.prototype.findLast=function(a){return this.reverse().find(a)},Re.prototype.invokeMap=Se(function(a,u){return typeof a=="function"?new Re(this):this.map(function(d){return ml(d,a,u)})}),Re.prototype.reject=function(a){return this.filter(cf(de(a)))},Re.prototype.slice=function(a,u){a=we(a);var d=this;return d.__filtered__&&(a>0||u<0)?new Re(d):(a<0?d=d.takeRight(-a):a&&(d=d.drop(a)),u!==n&&(u=we(u),d=u<0?d.dropRight(-u):d.take(u-a)),d)},Re.prototype.takeRightWhile=function(a){return this.reverse().takeWhile(a).reverse()},Re.prototype.toArray=function(){return this.take(oe)},Tr(Re.prototype,function(a,u){var d=/^(?:filter|find|map|reject)|While$/.test(u),m=/^(?:head|last)$/.test(u),y=S[m?"take"+(u=="last"?"Right":""):u],C=m||/^find/.test(u);y&&(S.prototype[u]=function(){var A=this.__wrapped__,x=m?[1]:arguments,P=A instanceof Re,$=x[0],j=P||ye(A),W=function(be){var xe=y.apply(S,bi([be],x));return m&&te?xe[0]:xe};j&&d&&typeof $=="function"&&$.length!=1&&(P=j=!1);var te=this.__chain__,ae=!!this.__actions__.length,he=C&&!te,Ee=P&&!ae;if(!C&&j){A=Ee?A:new Re(this);var pe=a.apply(A,x);return pe.__actions__.push({func:of,args:[W],thisArg:n}),new jn(pe,te)}return he&&Ee?a.apply(this,x):(pe=this.thru(W),he?m?pe.value()[0]:pe.value():pe)})}),Bn(["pop","push","shift","sort","splice","unshift"],function(a){var u=Oc[a],d=/^(?:push|sort|unshift)$/.test(a)?"tap":"thru",m=/^(?:pop|shift)$/.test(a);S.prototype[a]=function(){var y=arguments;if(m&&!this.__chain__){var C=this.value();return u.apply(ye(C)?C:[],y)}return this[d](function(A){return u.apply(ye(A)?A:[],y)})}}),Tr(Re.prototype,function(a,u){var d=S[u];if(d){var m=d.name+"";Be.call(ko,m)||(ko[m]=[]),ko[m].push({name:u,func:d})}}),ko[Xc(n,w).name]=[{name:"wrapper",func:n}],Re.prototype.clone=rP,Re.prototype.reverse=iP,Re.prototype.value=sP,S.prototype.at=DD,S.prototype.chain=LD,S.prototype.commit=FD,S.prototype.next=MD,S.prototype.plant=BD,S.prototype.reverse=$D,S.prototype.toJSON=S.prototype.valueOf=S.prototype.value=jD,S.prototype.first=S.prototype.head,ul&&(S.prototype[ul]=UD),S},To=FN();ks?((ks.exports=To)._=To,xp._=To):Nt._=To}).call(Cl)})(aV,Hu);var lV="firebase",uV="9.17.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */cs(lV,uV,"app");function $k(){return{["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const cV=$k,jk=new cc("auth","Firebase",$k());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hb=new J_("@firebase/auth");function sd(t,...e){hb.logLevel<=Ve.ERROR&&hb.error(`Auth (${fc}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ir(t,...e){throw ky(t,...e)}function Ur(t,...e){return ky(t,...e)}function fV(t,e,n){const r=Object.assign(Object.assign({},cV()),{[e]:n});return new cc("auth","Firebase",r).create(e,{appName:t.name})}function ky(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return jk.create(t,...e)}function me(t,e,...n){if(!t)throw ky(e,...n)}function li(t){const e="INTERNAL ASSERTION FAILED: "+t;throw sd(e),new Error(e)}function vi(t,e){t||li(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pb=new Map;function ui(t){vi(t instanceof Function,"Expected a class definition");let e=pb.get(t);return e?(vi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,pb.set(t,e),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dV(t,e){const n=Z_(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Hd(s,e??{}))return i;Ir(i,"already-initialized")}return n.initialize({options:e})}function hV(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(ui);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C0(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function pV(){return gb()==="http:"||gb()==="https:"}function gb(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gV(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(pV()||FB()||"connection"in navigator)?navigator.onLine:!0}function mV(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yc{constructor(e,n){this.shortDelay=e,this.longDelay=n,vi(n>e,"Short delay should be less than long delay!"),this.isMobile=Q_()||cA()}get(){return gV()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xy(t,e){vi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vk{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;li("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;li("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;li("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vV={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _V=new yc(3e4,6e4);function tp(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function wc(t,e,n,r,i={}){return Wk(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const l=Qa(Object.assign({key:t.config.apiKey},o)).slice(1),c=await t._getAdditionalHeaders();return c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode),Vk.fetch()(zk(t,t.config.apiHost,n,l),Object.assign({method:e,headers:c,referrerPolicy:"no-referrer"},s))})}async function Wk(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},vV),e);try{const i=new yV(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Mf(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const l=s.ok?o.errorMessage:o.error.message,[c,f]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Mf(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw Mf(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw Mf(t,"user-disabled",o);const h=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw fV(t,h,f);Ir(t,h)}}catch(i){if(i instanceof Rs)throw i;Ir(t,"network-request-failed")}}async function np(t,e,n,r,i={}){const s=await wc(t,e,n,r,i);return"mfaPendingCredential"in s&&Ir(t,"multi-factor-auth-required",{_serverResponse:s}),s}function zk(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?xy(t.config,i):`${t.config.apiScheme}://${i}`}class yV{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ur(this.auth,"network-request-failed")),_V.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Mf(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Ur(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wV(t,e){return wc(t,"POST","/v1/accounts:delete",e)}async function EV(t,e){return wc(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function SV(t,e=!1){const n=er(t),r=await n.getIdToken(e),i=Oy(r);me(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:gu(Om(i.auth_time)),issuedAtTime:gu(Om(i.iat)),expirationTime:gu(Om(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}}function Om(t){return Number(t)*1e3}function Oy(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return sd("JWT malformed, contained fewer than 3 sections"),null;try{const i=zd(n);return i?JSON.parse(i):(sd("Failed to decode base64 JWT payload"),null)}catch(i){return sd("Caught error parsing JWT payload as JSON",i?.toString()),null}}function CV(t){const e=Oy(t);return me(e,"internal-error"),me(typeof e.exp<"u","internal-error"),me(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ku(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Rs&&bV(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function bV({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IV{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gk{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=gu(this.lastLoginAt),this.creationTime=gu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uh(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Ku(t,EV(n,{idToken:r}));me(i?.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?AV(s.providerUserInfo):[],l=RV(t.providerData,o),c=t.isAnonymous,f=!(t.email&&s.passwordHash)&&!l?.length,h=c?f:!1,p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:l,metadata:new Gk(s.createdAt,s.lastLoginAt),isAnonymous:h};Object.assign(t,p)}async function TV(t){const e=er(t);await uh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function RV(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function AV(t){return t.map(e=>{var{providerId:n}=e,r=H_(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kV(t,e){const n=await Wk(t,{},async()=>{const r=Qa({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=zk(t,i,"/v1/token",`key=${s}`),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/x-www-form-urlencoded",Vk.fetch()(o,{method:"POST",headers:l,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){me(e.idToken,"internal-error"),me(typeof e.idToken<"u","internal-error"),me(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):CV(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return me(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await kV(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new qu;return r&&(me(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(me(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(me(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new qu,this.toJSON())}_performRefresh(){return li("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Di(t,e){me(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class to{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=H_(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new IV(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Gk(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Ku(this,this.stsTokenManager.getToken(this.auth,e));return me(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return SV(this,e)}reload(){return TV(this)}_assign(e){this!==e&&(me(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new to(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){me(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await uh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Ku(this,wV(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,l,c,f,h;const p=(r=n.displayName)!==null&&r!==void 0?r:void 0,g=(i=n.email)!==null&&i!==void 0?i:void 0,v=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,I=(o=n.photoURL)!==null&&o!==void 0?o:void 0,T=(l=n.tenantId)!==null&&l!==void 0?l:void 0,R=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,w=(f=n.createdAt)!==null&&f!==void 0?f:void 0,E=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:b,emailVerified:O,isAnonymous:B,providerData:q,stsTokenManager:V}=n;me(b&&V,e,"internal-error");const J=qu.fromJSON(this.name,V);me(typeof b=="string",e,"internal-error"),Di(p,e.name),Di(g,e.name),me(typeof O=="boolean",e,"internal-error"),me(typeof B=="boolean",e,"internal-error"),Di(v,e.name),Di(I,e.name),Di(T,e.name),Di(R,e.name),Di(w,e.name),Di(E,e.name);const D=new to({uid:b,auth:e,email:g,emailVerified:O,displayName:p,isAnonymous:B,photoURL:I,phoneNumber:v,tenantId:T,stsTokenManager:J,createdAt:w,lastLoginAt:E});return q&&Array.isArray(q)&&(D.providerData=q.map(F=>Object.assign({},F))),R&&(D._redirectEventId=R),D}static async _fromIdTokenResponse(e,n,r=!1){const i=new qu;i.updateFromServerResponse(n);const s=new to({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await uh(s),s}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hk{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Hk.type="NONE";const mb=Hk;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function od(t,e,n){return`firebase:${t}:${e}:${n}`}class Ea{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=od(this.userKey,i.apiKey,s),this.fullPersistenceKey=od("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?to._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Ea(ui(mb),e,r);const i=(await Promise.all(n.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let s=i[0]||ui(mb);const o=od(r,e.config.apiKey,e.name);let l=null;for(const f of n)try{const h=await f._get(o);if(h){const p=to._fromJSON(e,h);f!==s&&(l=p),s=f;break}}catch{}const c=i.filter(f=>f._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new Ea(s,e,r):(s=c[0],l&&await s._set(o,l.toJSON()),await Promise.all(n.map(async f=>{if(f!==s)try{await f._remove(o)}catch{}})),new Ea(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vb(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Yk(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Kk(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Jk(e))return"Blackberry";if(Xk(e))return"Webos";if(Ny(e))return"Safari";if((e.includes("chrome/")||qk(e))&&!e.includes("edge/"))return"Chrome";if(Qk(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function Kk(t=Ht()){return/firefox\//i.test(t)}function Ny(t=Ht()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function qk(t=Ht()){return/crios\//i.test(t)}function Yk(t=Ht()){return/iemobile/i.test(t)}function Qk(t=Ht()){return/android/i.test(t)}function Jk(t=Ht()){return/blackberry/i.test(t)}function Xk(t=Ht()){return/webos/i.test(t)}function rp(t=Ht()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function xV(t=Ht()){var e;return rp(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function OV(){return MB()&&document.documentMode===10}function Zk(t=Ht()){return rp(t)||Qk(t)||Xk(t)||Jk(t)||/windows phone/i.test(t)||Yk(t)}function NV(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ex(t,e=[]){let n;switch(t){case"Browser":n=vb(Ht());break;case"Worker":n=`${vb(Ht())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${fc}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PV{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,l)=>{try{const c=e(s);o(c)}catch(c){l(c)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DV{constructor(e,n,r){this.app=e,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new _b(this),this.idTokenSubscription=new _b(this),this.beforeStateQueue=new PV(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=jk,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ui(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Ea.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,l=i?._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===l)&&c?.user&&(i=c.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return me(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await uh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=mV()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?er(e):null;return n&&me(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&me(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(ui(e))})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new cc("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ui(e)||this._popupRedirectResolver;me(n,this,"argument-error"),this.redirectPersistenceManager=await Ea.create(this,[ui(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return me(o,this,"internal-error"),o.then(()=>s(this.currentUser)),typeof n=="function"?e.addObserver(n,r,i):e.addObserver(n)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return me(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ex(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={["X-Client-Version"]:this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());return r&&(n["X-Firebase-Client"]=r),n}}function ip(t){return er(t)}class _b{constructor(e){this.auth=e,this.observer=null,this.addObserver=HB(n=>this.observer=n)}get next(){return me(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function LV(t,e,n){const r=ip(t);me(r._canInitEmulator,r,"emulator-config-failed"),me(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!n?.disableWarnings,s=tx(e),{host:o,port:l}=FV(e),c=l===null?"":`:${l}`;r.config.emulator={url:`${s}//${o}${c}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:l,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||MV()}function tx(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function FV(t){const e=tx(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:yb(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:yb(o)}}}function yb(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function MV(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Py{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return li("not implemented")}_getIdTokenResponse(e){return li("not implemented")}_linkToIdToken(e,n){return li("not implemented")}_getReauthenticationResolver(e){return li("not implemented")}}async function UV(t,e){return wc(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BV(t,e){return np(t,"POST","/v1/accounts:signInWithPassword",tp(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $V(t,e){return np(t,"POST","/v1/accounts:signInWithEmailLink",tp(t,e))}async function jV(t,e){return np(t,"POST","/v1/accounts:signInWithEmailLink",tp(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yu extends Py{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Yu(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Yu(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return BV(e,{returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return $V(e,{email:this._email,oobCode:this._password});default:Ir(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":return UV(e,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return jV(e,{idToken:n,email:this._email,oobCode:this._password});default:Ir(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sa(t,e){return np(t,"POST","/v1/accounts:signInWithIdp",tp(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VV="http://localhost";class ho extends Py{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ho(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ir("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=H_(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new ho(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Sa(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Sa(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Sa(e,n)}buildRequest(){const e={requestUri:VV,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Qa(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WV(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function zV(t){const e=Ql(Jl(t)).link,n=e?Ql(Jl(e)).deep_link_id:null,r=Ql(Jl(t)).deep_link_id;return(r?Ql(Jl(r)).link:null)||r||n||e||t}class Dy{constructor(e){var n,r,i,s,o,l;const c=Ql(Jl(e)),f=(n=c.apiKey)!==null&&n!==void 0?n:null,h=(r=c.oobCode)!==null&&r!==void 0?r:null,p=WV((i=c.mode)!==null&&i!==void 0?i:null);me(f&&h&&p,"argument-error"),this.apiKey=f,this.operation=p,this.code=h,this.continueUrl=(s=c.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=c.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(l=c.tenantId)!==null&&l!==void 0?l:null}static parseLink(e){const n=zV(e);try{return new Dy(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{constructor(){this.providerId=Za.PROVIDER_ID}static credential(e,n){return Yu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Dy.parseLink(n);return me(r,"argument-error"),Yu._fromEmailAndCode(e,r.code,r.tenantId)}}Za.PROVIDER_ID="password";Za.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Za.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nx{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ec extends nx{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji extends Ec{constructor(){super("facebook.com")}static credential(e){return ho._fromParams({providerId:ji.PROVIDER_ID,signInMethod:ji.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ji.credentialFromTaggedObject(e)}static credentialFromError(e){return ji.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ji.credential(e.oauthAccessToken)}catch{return null}}}ji.FACEBOOK_SIGN_IN_METHOD="facebook.com";ji.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vi extends Ec{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ho._fromParams({providerId:Vi.PROVIDER_ID,signInMethod:Vi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Vi.credentialFromTaggedObject(e)}static credentialFromError(e){return Vi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Vi.credential(n,r)}catch{return null}}}Vi.GOOGLE_SIGN_IN_METHOD="google.com";Vi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi extends Ec{constructor(){super("github.com")}static credential(e){return ho._fromParams({providerId:Wi.PROVIDER_ID,signInMethod:Wi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Wi.credentialFromTaggedObject(e)}static credentialFromError(e){return Wi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Wi.credential(e.oauthAccessToken)}catch{return null}}}Wi.GITHUB_SIGN_IN_METHOD="github.com";Wi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi extends Ec{constructor(){super("twitter.com")}static credential(e,n){return ho._fromParams({providerId:zi.PROVIDER_ID,signInMethod:zi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return zi.credentialFromTaggedObject(e)}static credentialFromError(e){return zi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return zi.credential(n,r)}catch{return null}}}zi.TWITTER_SIGN_IN_METHOD="twitter.com";zi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ua{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await to._fromIdTokenResponse(e,r,i),o=wb(r);return new Ua({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=wb(r);return new Ua({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function wb(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ch extends Rs{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,ch.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new ch(e,n,r,i)}}function rx(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?ch._fromErrorAndOperation(t,s,e,r):s})}async function GV(t,e,n=!1){const r=await Ku(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ua._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HV(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=await Ku(t,rx(r,i,e,t),n);me(s.idToken,r,"internal-error");const o=Oy(s.idToken);me(o,r,"internal-error");const{sub:l}=o;return me(t.uid===l,r,"user-mismatch"),Ua._forOperation(t,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&Ir(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ix(t,e,n=!1){const r="signIn",i=await rx(t,r,e),s=await Ua._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function KV(t,e){return ix(ip(t),e)}function qV(t,e,n){return KV(er(t),Za.credential(e,n))}function YV(t,e,n,r){return er(t).onIdTokenChanged(e,n,r)}function QV(t,e,n){return er(t).beforeAuthStateChanged(e,n)}const fh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sx{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(fh,"1"),this.storage.removeItem(fh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JV(){const t=Ht();return Ny(t)||rp(t)}const XV=1e3,ZV=10;class ox extends sx{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=JV()&&NV(),this.fallbackToPolling=Zk(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,l,c)=>{this.notifyListeners(o,c)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);OV()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,ZV):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},XV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}ox.type="LOCAL";const eW=ox;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ax extends sx{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}ax.type="SESSION";const lx=ax;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tW(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sp{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new sp(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!o?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const l=Array.from(o).map(async f=>f(n.origin,s)),c=await tW(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}sp.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ly(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nW{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((l,c)=>{const f=Ly("",20);i.port1.start();const h=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(p){const g=p;if(g.data.eventId===f)switch(g.data.status){case"ack":clearTimeout(h),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),l(g.data.response);break;default:clearTimeout(h),clearTimeout(s),c(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:f,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Br(){return window}function rW(t){Br().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ux(){return typeof Br().WorkerGlobalScope<"u"&&typeof Br().importScripts=="function"}async function iW(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function sW(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function oW(){return ux()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cx="firebaseLocalStorageDb",aW=1,dh="firebaseLocalStorage",fx="fbase_key";class Sc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function op(t,e){return t.transaction([dh],e?"readwrite":"readonly").objectStore(dh)}function lW(){const t=indexedDB.deleteDatabase(cx);return new Sc(t).toPromise()}function b0(){const t=indexedDB.open(cx,aW);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(dh,{keyPath:fx})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(dh)?e(r):(r.close(),await lW(),e(await b0()))})})}async function Eb(t,e,n){const r=op(t,!0).put({[fx]:e,value:n});return new Sc(r).toPromise()}async function uW(t,e){const n=op(t,!1).get(e),r=await new Sc(n).toPromise();return r===void 0?null:r.value}function Sb(t,e){const n=op(t,!0).delete(e);return new Sc(n).toPromise()}const cW=800,fW=3;class dx{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await b0(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>fW)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return ux()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=sp._getInstance(oW()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await iW(),!this.activeServiceWorker)return;this.sender=new nW(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||sW()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await b0();return await Eb(e,fh,"1"),await Sb(e,fh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Eb(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>uW(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Sb(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=op(i,!1).getAll();return new Sc(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),cW)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}dx.type="LOCAL";const dW=dx;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hW(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function pW(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Ur("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",hW().appendChild(r)})}function gW(t){return`__${t}${Math.floor(Math.random()*1e6)}`}new yc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mW(t,e){return e?ui(e):(me(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fy extends Py{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Sa(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Sa(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Sa(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function vW(t){return ix(t.auth,new Fy(t),t.bypassAuthState)}function _W(t){const{auth:e,user:n}=t;return me(n,e,"internal-error"),HV(n,new Fy(t),t.bypassAuthState)}async function yW(t){const{auth:e,user:n}=t;return me(n,e,"internal-error"),GV(n,new Fy(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hx{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:l}=e;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return vW;case"linkViaPopup":case"linkViaRedirect":return yW;case"reauthViaPopup":case"reauthViaRedirect":return _W;default:Ir(this.auth,"internal-error")}}resolve(e){vi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){vi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wW=new yc(2e3,1e4);class oa extends hx{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,oa.currentPopupAction&&oa.currentPopupAction.cancel(),oa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return me(e,this.auth,"internal-error"),e}async onExecution(){vi(this.filter.length===1,"Popup operations only handle one event");const e=Ly();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ur(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Ur(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,oa.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ur(this.auth,"popup-closed-by-user"))},2e3);return}this.pollId=window.setTimeout(e,wW.get())};e()}}oa.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EW="pendingRedirect",ad=new Map;class SW extends hx{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=ad.get(this.auth._key());if(!e){try{const r=await CW(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}ad.set(this.auth._key(),e)}return this.bypassAuthState||ad.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function CW(t,e){const n=TW(e),r=IW(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function bW(t,e){ad.set(t._key(),e)}function IW(t){return ui(t._redirectPersistence)}function TW(t){return od(EW,t.config.apiKey,t.name)}async function RW(t,e,n=!1){const r=ip(t),i=mW(r,e),o=await new SW(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AW=10*60*1e3;class kW{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!xW(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!px(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Ur(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=AW&&this.cachedEventUids.clear(),this.cachedEventUids.has(Cb(e))}saveEventToCache(e){this.cachedEventUids.add(Cb(e)),this.lastProcessedEventTime=Date.now()}}function Cb(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function px({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function xW(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return px(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OW(t,e={}){return wc(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NW=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,PW=/^https?/;async function DW(t){if(t.config.emulator)return;const{authorizedDomains:e}=await OW(t);for(const n of e)try{if(LW(n))return}catch{}Ir(t,"unauthorized-domain")}function LW(t){const e=C0(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!PW.test(n))return!1;if(NW.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FW=new yc(3e4,6e4);function bb(){const t=Br().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function MW(t){return new Promise((e,n)=>{var r,i,s;function o(){bb(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{bb(),n(Ur(t,"network-request-failed"))},timeout:FW.get()})}if(!((i=(r=Br().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Br().gapi)===null||s===void 0)&&s.load)o();else{const l=gW("iframefcb");return Br()[l]=()=>{gapi.load?o():n(Ur(t,"network-request-failed"))},pW(`https://apis.google.com/js/api.js?onload=${l}`).catch(c=>n(c))}}).catch(e=>{throw ld=null,e})}let ld=null;function UW(t){return ld=ld||MW(t),ld}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BW=new yc(5e3,15e3),$W="__/auth/iframe",jW="emulator/auth/iframe",VW={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},WW=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function zW(t){const e=t.config;me(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?xy(e,jW):`https://${t.config.authDomain}/${$W}`,r={apiKey:e.apiKey,appName:t.name,v:fc},i=WW.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Qa(r).slice(1)}`}async function GW(t){const e=await UW(t),n=Br().gapi;return me(n,t,"internal-error"),e.open({where:document.body,url:zW(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:VW,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Ur(t,"network-request-failed"),l=Br().setTimeout(()=>{s(o)},BW.get());function c(){Br().clearTimeout(l),i(r)}r.ping(c).then(c,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HW={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},KW=500,qW=600,YW="_blank",QW="http://localhost";class Ib{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function JW(t,e,n,r=KW,i=qW){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const c=Object.assign(Object.assign({},HW),{width:r.toString(),height:i.toString(),top:s,left:o}),f=Ht().toLowerCase();n&&(l=qk(f)?YW:n),Kk(f)&&(e=e||QW,c.scrollbars="yes");const h=Object.entries(c).reduce((g,[v,I])=>`${g}${v}=${I},`,"");if(xV(f)&&l!=="_self")return XW(e||"",l),new Ib(null);const p=window.open(e||"",l,h);me(p,t,"popup-blocked");try{p.focus()}catch{}return new Ib(p)}function XW(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZW="__/auth/handler",e9="emulator/auth/handler";function Tb(t,e,n,r,i,s){me(t.config.authDomain,t,"auth-domain-config-required"),me(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:fc,eventId:i};if(e instanceof nx){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",s0(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,f]of Object.entries(s||{}))o[c]=f}if(e instanceof Ec){const c=e.getScopes().filter(f=>f!=="");c.length>0&&(o.scopes=c.join(","))}t.tenantId&&(o.tid=t.tenantId);const l=o;for(const c of Object.keys(l))l[c]===void 0&&delete l[c];return`${t9(t)}?${Qa(l).slice(1)}`}function t9({config:t}){return t.emulator?xy(t,e9):`https://${t.authDomain}/${ZW}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nm="webStorageSupport";class n9{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=lx,this._completeRedirectFn=RW,this._overrideRedirectResult=bW}async _openPopup(e,n,r,i){var s;vi((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=Tb(e,n,r,C0(),i);return JW(e,o,Ly())}async _openRedirect(e,n,r,i){return await this._originValidation(e),rW(Tb(e,n,r,C0(),i)),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(vi(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await GW(e),r=new kW(e);return n.register("authEvent",i=>(me(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Nm,{type:Nm},i=>{var s;const o=(s=i?.[0])===null||s===void 0?void 0:s[Nm];o!==void 0&&n(!!o),Ir(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=DW(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Zk()||Ny()||rp()}}const r9=n9;var Rb="@firebase/auth",Ab="0.21.3";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i9{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){me(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s9(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function o9(t){Pa(new ao("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),{apiKey:s,authDomain:o}=r.options;return((l,c)=>{me(s&&!s.includes(":"),"invalid-api-key",{appName:l.name}),me(!o?.includes(":"),"argument-error",{appName:l.name});const f={apiKey:s,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ex(t)},h=new DV(l,c,f);return hV(h,n),h})(r,i)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Pa(new ao("auth-internal",e=>{const n=ip(e.getProvider("auth").getImmediate());return(r=>new i9(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),cs(Rb,Ab,s9(t)),cs(Rb,Ab,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a9=5*60,l9=uA("authIdTokenMaxAge")||a9;let kb=null;const u9=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>l9)return;const i=n?.token;kb!==i&&(kb=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function c9(t=vA()){const e=Z_(t,"auth");if(e.isInitialized())return e.getImmediate();const n=dV(t,{popupRedirectResolver:r9,persistence:[dW,eW,lx]}),r=uA("authTokenSyncURL");if(r){const s=u9(r);QV(n,s,()=>s(n.currentUser)),YV(n,o=>s(o))}const i=lA("auth");return i&&LV(n,`http://${i}`),n}o9("Browser");const xb=t=>{let e;const n=new Set,r=(c,f)=>{const h=typeof c=="function"?c(e):c;if(!Object.is(h,e)){const p=e;e=f??typeof h!="object"?h:Object.assign({},e,h),n.forEach(g=>g(e,p))}},i=()=>e,l={setState:r,getState:i,subscribe:c=>(n.add(c),()=>n.delete(c)),destroy:()=>{var c;((c={VITE_APPNAME:"NARA DEV",BASE_URL:"./",MODE:"production",DEV:!1,PROD:!0})==null?void 0:c.MODE)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}};return e=t(r,i,l),l},f9=t=>t?xb(t):xb;var I0={},d9={get exports(){return I0},set exports(t){I0=t}},gx={},T0={},h9={get exports(){return T0},set exports(t){T0=t}},mx={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ba=k;function p9(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var g9=typeof Object.is=="function"?Object.is:p9,m9=Ba.useState,v9=Ba.useEffect,_9=Ba.useLayoutEffect,y9=Ba.useDebugValue;function w9(t,e){var n=e(),r=m9({inst:{value:n,getSnapshot:e}}),i=r[0].inst,s=r[1];return _9(function(){i.value=n,i.getSnapshot=e,Pm(i)&&s({inst:i})},[t,n,e]),v9(function(){return Pm(i)&&s({inst:i}),t(function(){Pm(i)&&s({inst:i})})},[t]),y9(n),n}function Pm(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!g9(t,n)}catch{return!0}}function E9(t,e){return e()}var S9=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?E9:w9;mx.useSyncExternalStore=Ba.useSyncExternalStore!==void 0?Ba.useSyncExternalStore:S9;(function(t){t.exports=mx})(h9);/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ap=k,C9=T0;function b9(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var I9=typeof Object.is=="function"?Object.is:b9,T9=C9.useSyncExternalStore,R9=ap.useRef,A9=ap.useEffect,k9=ap.useMemo,x9=ap.useDebugValue;gx.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var s=R9(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=k9(function(){function c(v){if(!f){if(f=!0,h=v,v=r(v),i!==void 0&&o.hasValue){var I=o.value;if(i(I,v))return p=I}return p=v}if(I=p,I9(h,v))return I;var T=r(v);return i!==void 0&&i(I,T)?I:(h=v,p=T)}var f=!1,h,p,g=n===void 0?null:n;return[function(){return c(e())},g===null?void 0:function(){return c(g())}]},[e,n,r,i]);var l=T9(t,s[0],s[1]);return A9(function(){o.hasValue=!0,o.value=l},[l]),x9(l),l};(function(t){t.exports=gx})(d9);const O9=lI(I0),{useSyncExternalStoreWithSelector:N9}=O9;function P9(t,e=t.getState,n){const r=N9(t.subscribe,t.getState,t.getServerState||t.getState,e,n);return k.useDebugValue(r),r}const Ob=t=>{var e;((e={VITE_APPNAME:"NARA DEV",BASE_URL:"./",MODE:"production",DEV:!1,PROD:!0})==null?void 0:e.MODE)!=="production"&&typeof t!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const n=typeof t=="function"?f9(t):t,r=(i,s)=>P9(n,i,s);return Object.assign(r,n),r},D9=t=>t?Ob(t):Ob,R0=new Map,Uf=t=>{const e=R0.get(t);return e?Object.fromEntries(Object.entries(e.stores).map(([n,r])=>[n,r.getState()])):{}},L9=(t,e,n)=>{if(t===void 0)return{type:"untracked",connection:e.connect(n)};const r=R0.get(n.name);if(r)return{type:"tracked",store:t,...r};const i={connection:e.connect(n),stores:{}};return R0.set(n.name,i),{type:"tracked",store:t,...i}},F9=(t,e={})=>(n,r,i)=>{var s,o;const{enabled:l,anonymousActionType:c,store:f,...h}=e;let p;try{p=(l??((s={VITE_APPNAME:"NARA DEV",BASE_URL:"./",MODE:"production",DEV:!1,PROD:!0})==null?void 0:s.MODE)!=="production")&&window.__REDUX_DEVTOOLS_EXTENSION__}catch{}if(!p)return((o={VITE_APPNAME:"NARA DEV",BASE_URL:"./",MODE:"production",DEV:!1,PROD:!0})==null?void 0:o.MODE)!=="production"&&l&&console.warn("[zustand devtools middleware] Please install/enable Redux devtools extension"),t(n,r,i);const{connection:g,...v}=L9(f,p,h);let I=!0;i.setState=(w,E,b)=>{const O=n(w,E);if(!I)return O;const B=b===void 0?{type:c||"anonymous"}:typeof b=="string"?{type:b}:b;return f===void 0?(g?.send(B,r()),O):(g?.send({...B,type:`${f}/${B.type}`},{...Uf(h.name),[f]:i.getState()}),O)};const T=(...w)=>{const E=I;I=!1,n(...w),I=E},R=t(i.setState,r,i);if(v.type==="untracked"?g?.init(R):(v.stores[v.store]=i,g?.init(Object.fromEntries(Object.entries(v.stores).map(([w,E])=>[w,w===v.store?R:E.getState()])))),i.dispatchFromDevtools&&typeof i.dispatch=="function"){let w=!1;const E=i.dispatch;i.dispatch=(...b)=>{var O;((O={VITE_APPNAME:"NARA DEV",BASE_URL:"./",MODE:"production",DEV:!1,PROD:!0})==null?void 0:O.MODE)!=="production"&&b[0].type==="__setState"&&!w&&(console.warn('[zustand devtools middleware] "__setState" action type is reserved to set state from the devtools. Avoid using it.'),w=!0),E(...b)}}return g.subscribe(w=>{var E;switch(w.type){case"ACTION":if(typeof w.payload!="string"){console.error("[zustand devtools middleware] Unsupported action format");return}return Dm(w.payload,b=>{if(b.type==="__setState"){if(f===void 0){T(b.state);return}Object.keys(b.state).length!==1&&console.error(`
                    [zustand devtools middleware] Unsupported __setState action format. 
                    When using 'store' option in devtools(), the 'state' should have only one key, which is a value of 'store' that was passed in devtools(),
                    and value of this only key should be a state object. Example: { "type": "__setState", "state": { "abc123Store": { "foo": "bar" } } }
                    `);const O=b.state[f];if(O==null)return;JSON.stringify(i.getState())!==JSON.stringify(O)&&T(O);return}i.dispatchFromDevtools&&typeof i.dispatch=="function"&&i.dispatch(b)});case"DISPATCH":switch(w.payload.type){case"RESET":return T(R),f===void 0?g?.init(i.getState()):g?.init(Uf(h.name));case"COMMIT":if(f===void 0){g?.init(i.getState());return}return g?.init(Uf(h.name));case"ROLLBACK":return Dm(w.state,b=>{if(f===void 0){T(b),g?.init(i.getState());return}T(b[f]),g?.init(Uf(h.name))});case"JUMP_TO_STATE":case"JUMP_TO_ACTION":return Dm(w.state,b=>{if(f===void 0){T(b);return}JSON.stringify(i.getState())!==JSON.stringify(b[f])&&T(b[f])});case"IMPORT_STATE":{const{nextLiftedState:b}=w.payload,O=(E=b.computedStates.slice(-1)[0])==null?void 0:E.state;if(!O)return;T(f===void 0?O:O[f]),g?.send(null,b);return}case"PAUSE_RECORDING":return I=!I}return}}),R},M9=F9,Dm=(t,e)=>{let n;try{n=JSON.parse(t)}catch(r){console.error("[zustand devtools middleware] Could not parse the received json",r)}n!==void 0&&e(n)};function U9(t){let e;try{e=t()}catch{return}return{getItem:r=>{var i;const s=l=>l===null?null:JSON.parse(l),o=(i=e.getItem(r))!=null?i:null;return o instanceof Promise?o.then(s):s(o)},setItem:(r,i)=>e.setItem(r,JSON.stringify(i)),removeItem:r=>e.removeItem(r)}}const Qu=t=>e=>{try{const n=t(e);return n instanceof Promise?n:{then(r){return Qu(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return Qu(r)(n)}}}},B9=(t,e)=>(n,r,i)=>{let s={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:R=>R,version:0,merge:(R,w)=>({...w,...R}),...e},o=!1;const l=new Set,c=new Set;let f;try{f=s.getStorage()}catch{}if(!f)return t((...R)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),n(...R)},r,i);const h=Qu(s.serialize),p=()=>{const R=s.partialize({...r()});let w;const E=h({state:R,version:s.version}).then(b=>f.setItem(s.name,b)).catch(b=>{w=b});if(w)throw w;return E},g=i.setState;i.setState=(R,w)=>{g(R,w),p()};const v=t((...R)=>{n(...R),p()},r,i);let I;const T=()=>{var R;if(!f)return;o=!1,l.forEach(E=>E(r()));const w=((R=s.onRehydrateStorage)==null?void 0:R.call(s,r()))||void 0;return Qu(f.getItem.bind(f))(s.name).then(E=>{if(E)return s.deserialize(E)}).then(E=>{if(E)if(typeof E.version=="number"&&E.version!==s.version){if(s.migrate)return s.migrate(E.state,E.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return E.state}).then(E=>{var b;return I=s.merge(E,(b=r())!=null?b:v),n(I,!0),p()}).then(()=>{w?.(I,void 0),o=!0,c.forEach(E=>E(I))}).catch(E=>{w?.(void 0,E)})};return i.persist={setOptions:R=>{s={...s,...R},R.getStorage&&(f=R.getStorage())},clearStorage:()=>{f?.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>T(),hasHydrated:()=>o,onHydrate:R=>(l.add(R),()=>{l.delete(R)}),onFinishHydration:R=>(c.add(R),()=>{c.delete(R)})},T(),I||v},$9=(t,e)=>(n,r,i)=>{let s={storage:U9(()=>localStorage),partialize:T=>T,version:0,merge:(T,R)=>({...R,...T}),...e},o=!1;const l=new Set,c=new Set;let f=s.storage;if(!f)return t((...T)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),n(...T)},r,i);const h=()=>{const T=s.partialize({...r()});return f.setItem(s.name,{state:T,version:s.version})},p=i.setState;i.setState=(T,R)=>{p(T,R),h()};const g=t((...T)=>{n(...T),h()},r,i);let v;const I=()=>{var T;if(!f)return;o=!1,l.forEach(w=>w(r()));const R=((T=s.onRehydrateStorage)==null?void 0:T.call(s,r()))||void 0;return Qu(f.getItem.bind(f))(s.name).then(w=>{if(w)if(typeof w.version=="number"&&w.version!==s.version){if(s.migrate)return s.migrate(w.state,w.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return w.state}).then(w=>{var E;return v=s.merge(w,(E=r())!=null?E:g),n(v,!0),h()}).then(()=>{R?.(v,void 0),o=!0,c.forEach(w=>w(v))}).catch(w=>{R?.(void 0,w)})};return i.persist={setOptions:T=>{s={...s,...T},T.storage&&(f=T.storage)},clearStorage:()=>{f?.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>I(),hasHydrated:()=>o,onHydrate:T=>(l.add(T),()=>{l.delete(T)}),onFinishHydration:T=>(c.add(T),()=>{c.delete(T)})},I(),v||g},j9=(t,e)=>{var n;return"getStorage"in e||"serialize"in e||"deserialize"in e?(((n={VITE_APPNAME:"NARA DEV",BASE_URL:"./",MODE:"production",DEV:!1,PROD:!0})==null?void 0:n.MODE)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),B9(t,e)):$9(t,e)},V9=j9;function Yn(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+t+(n.length?" "+n.map(function(i){return"'"+i+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function $a(t){return!!t&&!!t[Ue]}function _i(t){var e;return!!t&&(function(n){if(!n||typeof n!="object")return!1;var r=Object.getPrototypeOf(n);if(r===null)return!0;var i=Object.hasOwnProperty.call(r,"constructor")&&r.constructor;return i===Object||typeof i=="function"&&Function.toString.call(i)===X9}(t)||Array.isArray(t)||!!t[Ub]||!!(!((e=t.constructor)===null||e===void 0)&&e[Ub])||My(t)||Uy(t))}function ja(t,e,n){n===void 0&&(n=!1),el(t)===0?(n?Object.keys:Wy)(t).forEach(function(r){n&&typeof r=="symbol"||e(r,t[r],t)}):t.forEach(function(r,i){return e(i,r,t)})}function el(t){var e=t[Ue];return e?e.i>3?e.i-4:e.i:Array.isArray(t)?1:My(t)?2:Uy(t)?3:0}function A0(t,e){return el(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function W9(t,e){return el(t)===2?t.get(e):t[e]}function vx(t,e,n){var r=el(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function z9(t,e){return t===e?t!==0||1/t==1/e:t!=t&&e!=e}function My(t){return Q9&&t instanceof Map}function Uy(t){return J9&&t instanceof Set}function Tt(t){return t.o||t.t}function By(t){if(Array.isArray(t))return Array.prototype.slice.call(t);var e=Z9(t);delete e[Ue];for(var n=Wy(e),r=0;r<n.length;r++){var i=n[r],s=e[i];s.writable===!1&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(e[i]={configurable:!0,writable:!0,enumerable:s.enumerable,value:t[i]})}return Object.create(Object.getPrototypeOf(t),e)}function $y(t,e){return e===void 0&&(e=!1),jy(t)||$a(t)||!_i(t)||(el(t)>1&&(t.set=t.add=t.clear=t.delete=G9),Object.freeze(t),e&&ja(t,function(n,r){return $y(r,!0)},!0)),t}function G9(){Yn(2)}function jy(t){return t==null||typeof t!="object"||Object.isFrozen(t)}function $r(t){var e=x0[t];return e||Yn(18,t),e}function H9(t,e){x0[t]||(x0[t]=e)}function hh(){return Xu}function Lm(t,e){e&&($r("Patches"),t.u=[],t.s=[],t.v=e)}function ph(t){k0(t),t.p.forEach(K9),t.p=null}function k0(t){t===Xu&&(Xu=t.l)}function Nb(t){return Xu={p:[],l:Xu,h:t,m:!0,_:0}}function K9(t){var e=t[Ue];e.i===0||e.i===1?e.j():e.O=!0}function Fm(t,e){e._=e.p.length;var n=e.p[0],r=t!==void 0&&t!==n;return e.h.g||$r("ES5").S(e,t,r),r?(n[Ue].P&&(ph(e),Yn(4)),_i(t)&&(t=gh(e,t),e.l||mh(e,t)),e.u&&$r("Patches").M(n[Ue].t,t,e.u,e.s)):t=gh(e,n,[]),ph(e),e.u&&e.v(e.u,e.s),t!==_x?t:void 0}function gh(t,e,n){if(jy(e))return e;var r=e[Ue];if(!r)return ja(e,function(l,c){return Pb(t,r,e,l,c,n)},!0),e;if(r.A!==t)return e;if(!r.P)return mh(t,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=r.i===4||r.i===5?r.o=By(r.k):r.o,s=i,o=!1;r.i===3&&(s=new Set(i),i.clear(),o=!0),ja(s,function(l,c){return Pb(t,r,i,l,c,n,o)}),mh(t,i,!1),n&&t.u&&$r("Patches").N(r,n,t.u,t.s)}return r.o}function Pb(t,e,n,r,i,s,o){if($a(i)){var l=gh(t,i,s&&e&&e.i!==3&&!A0(e.R,r)?s.concat(r):void 0);if(vx(n,r,l),!$a(l))return;t.m=!1}else o&&n.add(i);if(_i(i)&&!jy(i)){if(!t.h.D&&t._<1)return;gh(t,i),e&&e.A.l||mh(t,i)}}function mh(t,e,n){n===void 0&&(n=!1),!t.l&&t.h.D&&t.m&&$y(e,n)}function Mm(t,e){var n=t[Ue];return(n?Tt(n):t)[e]}function Db(t,e){if(e in t)for(var n=Object.getPrototypeOf(t);n;){var r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Object.getPrototypeOf(n)}}function ii(t){t.P||(t.P=!0,t.l&&ii(t.l))}function Um(t){t.o||(t.o=By(t.t))}function Ju(t,e,n){var r=My(e)?$r("MapSet").F(e,n):Uy(e)?$r("MapSet").T(e,n):t.g?function(i,s){var o=Array.isArray(i),l={i:o?1:0,A:s?s.A:hh(),P:!1,I:!1,R:{},l:s,t:i,k:null,o:null,j:null,C:!1},c=l,f=O0;o&&(c=[l],f=Xl);var h=Proxy.revocable(c,f),p=h.revoke,g=h.proxy;return l.k=g,l.j=p,g}(e,n):$r("ES5").J(e,n);return(n?n.A:hh()).p.push(r),r}function q9(t){return $a(t)||Yn(22,t),function e(n){if(!_i(n))return n;var r,i=n[Ue],s=el(n);if(i){if(!i.P&&(i.i<4||!$r("ES5").K(i)))return i.t;i.I=!0,r=Lb(n,s),i.I=!1}else r=Lb(n,s);return ja(r,function(o,l){i&&W9(i.t,o)===l||vx(r,o,e(l))}),s===3?new Set(r):r}(t)}function Lb(t,e){switch(e){case 2:return new Map(t);case 3:return Array.from(t)}return By(t)}function Y9(){function t(l,c){function f(){this.constructor=l}i(l,c),l.prototype=(f.prototype=c.prototype,new f)}function e(l){l.o||(l.R=new Map,l.o=new Map(l.t))}function n(l){l.o||(l.o=new Set,l.t.forEach(function(c){if(_i(c)){var f=Ju(l.A.h,c,l);l.p.set(c,f),l.o.add(f)}else l.o.add(c)}))}function r(l){l.O&&Yn(3,JSON.stringify(Tt(l)))}var i=function(l,c){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,h){f.__proto__=h}||function(f,h){for(var p in h)h.hasOwnProperty(p)&&(f[p]=h[p])})(l,c)},s=function(){function l(f,h){return this[Ue]={i:2,l:h,A:h?h.A:hh(),P:!1,I:!1,o:void 0,R:void 0,t:f,k:this,C:!1,O:!1},this}t(l,Map);var c=l.prototype;return Object.defineProperty(c,"size",{get:function(){return Tt(this[Ue]).size}}),c.has=function(f){return Tt(this[Ue]).has(f)},c.set=function(f,h){var p=this[Ue];return r(p),Tt(p).has(f)&&Tt(p).get(f)===h||(e(p),ii(p),p.R.set(f,!0),p.o.set(f,h),p.R.set(f,!0)),this},c.delete=function(f){if(!this.has(f))return!1;var h=this[Ue];return r(h),e(h),ii(h),h.t.has(f)?h.R.set(f,!1):h.R.delete(f),h.o.delete(f),!0},c.clear=function(){var f=this[Ue];r(f),Tt(f).size&&(e(f),ii(f),f.R=new Map,ja(f.t,function(h){f.R.set(h,!1)}),f.o.clear())},c.forEach=function(f,h){var p=this;Tt(this[Ue]).forEach(function(g,v){f.call(h,p.get(v),v,p)})},c.get=function(f){var h=this[Ue];r(h);var p=Tt(h).get(f);if(h.I||!_i(p)||p!==h.t.get(f))return p;var g=Ju(h.A.h,p,h);return e(h),h.o.set(f,g),g},c.keys=function(){return Tt(this[Ue]).keys()},c.values=function(){var f,h=this,p=this.keys();return(f={})[Bf]=function(){return h.values()},f.next=function(){var g=p.next();return g.done?g:{done:!1,value:h.get(g.value)}},f},c.entries=function(){var f,h=this,p=this.keys();return(f={})[Bf]=function(){return h.entries()},f.next=function(){var g=p.next();if(g.done)return g;var v=h.get(g.value);return{done:!1,value:[g.value,v]}},f},c[Bf]=function(){return this.entries()},l}(),o=function(){function l(f,h){return this[Ue]={i:3,l:h,A:h?h.A:hh(),P:!1,I:!1,o:void 0,t:f,k:this,p:new Map,O:!1,C:!1},this}t(l,Set);var c=l.prototype;return Object.defineProperty(c,"size",{get:function(){return Tt(this[Ue]).size}}),c.has=function(f){var h=this[Ue];return r(h),h.o?!!h.o.has(f)||!(!h.p.has(f)||!h.o.has(h.p.get(f))):h.t.has(f)},c.add=function(f){var h=this[Ue];return r(h),this.has(f)||(n(h),ii(h),h.o.add(f)),this},c.delete=function(f){if(!this.has(f))return!1;var h=this[Ue];return r(h),n(h),ii(h),h.o.delete(f)||!!h.p.has(f)&&h.o.delete(h.p.get(f))},c.clear=function(){var f=this[Ue];r(f),Tt(f).size&&(n(f),ii(f),f.o.clear())},c.values=function(){var f=this[Ue];return r(f),n(f),f.o.values()},c.entries=function(){var f=this[Ue];return r(f),n(f),f.o.entries()},c.keys=function(){return this.values()},c[Bf]=function(){return this.values()},c.forEach=function(f,h){for(var p=this.values(),g=p.next();!g.done;)f.call(h,g.value,g.value,this),g=p.next()},l}();H9("MapSet",{F:function(l,c){return new s(l,c)},T:function(l,c){return new o(l,c)}})}var Fb,Xu,Vy=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",Q9=typeof Map<"u",J9=typeof Set<"u",Mb=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",_x=Vy?Symbol.for("immer-nothing"):((Fb={})["immer-nothing"]=!0,Fb),Ub=Vy?Symbol.for("immer-draftable"):"__$immer_draftable",Ue=Vy?Symbol.for("immer-state"):"__$immer_state",Bf=typeof Symbol<"u"&&Symbol.iterator||"@@iterator",X9=""+Object.prototype.constructor,Wy=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Object.getOwnPropertyNames,Z9=Object.getOwnPropertyDescriptors||function(t){var e={};return Wy(t).forEach(function(n){e[n]=Object.getOwnPropertyDescriptor(t,n)}),e},x0={},O0={get:function(t,e){if(e===Ue)return t;var n=Tt(t);if(!A0(n,e))return function(i,s,o){var l,c=Db(s,o);return c?"value"in c?c.value:(l=c.get)===null||l===void 0?void 0:l.call(i.k):void 0}(t,n,e);var r=n[e];return t.I||!_i(r)?r:r===Mm(t.t,e)?(Um(t),t.o[e]=Ju(t.A.h,r,t)):r},has:function(t,e){return e in Tt(t)},ownKeys:function(t){return Reflect.ownKeys(Tt(t))},set:function(t,e,n){var r=Db(Tt(t),e);if(r?.set)return r.set.call(t.k,n),!0;if(!t.P){var i=Mm(Tt(t),e),s=i?.[Ue];if(s&&s.t===n)return t.o[e]=n,t.R[e]=!1,!0;if(z9(n,i)&&(n!==void 0||A0(t.t,e)))return!0;Um(t),ii(t)}return t.o[e]===n&&(n!==void 0||e in t.o)||Number.isNaN(n)&&Number.isNaN(t.o[e])||(t.o[e]=n,t.R[e]=!0),!0},deleteProperty:function(t,e){return Mm(t.t,e)!==void 0||e in t.t?(t.R[e]=!1,Um(t),ii(t)):delete t.R[e],t.o&&delete t.o[e],!0},getOwnPropertyDescriptor:function(t,e){var n=Tt(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.i!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty:function(){Yn(11)},getPrototypeOf:function(t){return Object.getPrototypeOf(t.t)},setPrototypeOf:function(){Yn(12)}},Xl={};ja(O0,function(t,e){Xl[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}}),Xl.deleteProperty=function(t,e){return Xl.set.call(this,t,e,void 0)},Xl.set=function(t,e,n){return O0.set.call(this,t[0],e,n,t[0])};var ez=function(){function t(n){var r=this;this.g=Mb,this.D=!0,this.produce=function(i,s,o){if(typeof i=="function"&&typeof s!="function"){var l=s;s=i;var c=r;return function(T){var R=this;T===void 0&&(T=l);for(var w=arguments.length,E=Array(w>1?w-1:0),b=1;b<w;b++)E[b-1]=arguments[b];return c.produce(T,function(O){var B;return(B=s).call.apply(B,[R,O].concat(E))})}}var f;if(typeof s!="function"&&Yn(6),o!==void 0&&typeof o!="function"&&Yn(7),_i(i)){var h=Nb(r),p=Ju(r,i,void 0),g=!0;try{f=s(p),g=!1}finally{g?ph(h):k0(h)}return typeof Promise<"u"&&f instanceof Promise?f.then(function(T){return Lm(h,o),Fm(T,h)},function(T){throw ph(h),T}):(Lm(h,o),Fm(f,h))}if(!i||typeof i!="object"){if((f=s(i))===void 0&&(f=i),f===_x&&(f=void 0),r.D&&$y(f,!0),o){var v=[],I=[];$r("Patches").M(i,f,v,I),o(v,I)}return f}Yn(21,i)},this.produceWithPatches=function(i,s){if(typeof i=="function")return function(f){for(var h=arguments.length,p=Array(h>1?h-1:0),g=1;g<h;g++)p[g-1]=arguments[g];return r.produceWithPatches(f,function(v){return i.apply(void 0,[v].concat(p))})};var o,l,c=r.produce(i,s,function(f,h){o=f,l=h});return typeof Promise<"u"&&c instanceof Promise?c.then(function(f){return[f,o,l]}):[c,o,l]},typeof n?.useProxies=="boolean"&&this.setUseProxies(n.useProxies),typeof n?.autoFreeze=="boolean"&&this.setAutoFreeze(n.autoFreeze)}var e=t.prototype;return e.createDraft=function(n){_i(n)||Yn(8),$a(n)&&(n=q9(n));var r=Nb(this),i=Ju(this,n,void 0);return i[Ue].C=!0,k0(r),i},e.finishDraft=function(n,r){var i=n&&n[Ue],s=i.A;return Lm(s,r),Fm(void 0,s)},e.setAutoFreeze=function(n){this.D=n},e.setUseProxies=function(n){n&&!Mb&&Yn(20),this.g=n},e.applyPatches=function(n,r){var i;for(i=r.length-1;i>=0;i--){var s=r[i];if(s.path.length===0&&s.op==="replace"){n=s.value;break}}i>-1&&(r=r.slice(i+1));var o=$r("Patches").$;return $a(n)?o(n,r):this.produce(n,function(l){return o(l,r)})},t}(),Ln=new ez,tz=Ln.produce;Ln.produceWithPatches.bind(Ln);Ln.setAutoFreeze.bind(Ln);Ln.setUseProxies.bind(Ln);Ln.applyPatches.bind(Ln);Ln.createDraft.bind(Ln);Ln.finishDraft.bind(Ln);const nz=t=>(e,n,r)=>(r.setState=(i,s,...o)=>{const l=typeof i=="function"?tz(i):i;return e(l,s,...o)},t(r.setState,n,r)),rz=nz;Y9();const iz={id:1,name:"All devices",controllers:["FF:FF:FF:FF:FF:FF"],controlMethods:["dimmable"]},yx=D9()(M9(V9(rz((t,e)=>({controllers:new Map().set("30:83:98:dc:0f:bc",{name:"NARA",type:"light",ids:[1,2,3],config:{rgb:!0,brightness:!0}}).set("FF:FF:FF:FF:FF:FF",{name:"NARA",type:"light",ids:[1,2,3],config:{rgb:!0,brightness:!0}}),devices:new Map().set("1",iz).set("2",{id:2,name:"Device 2",controllers:["30:83:98:dc:0f:bc"],controlMethods:["rgb"]}).set("3",{id:3,name:"Device 3",controllers:["FF:FF:FF:FF:FF:FF","30:83:98:dc:0f:bc"],controlMethods:["cct"]}),groups:new Map().set("group0",{id:0,name:"Linka",device_ids:[1,2]}),addController:n=>t(r=>{}),addDevice:n=>t(r=>{}),pairAndAdd:()=>t(n=>{const r=n.devices.size,i={id:r,name:"Device "+r,controllers:["aa-aa-aa-aa-aa-aa"],controlMethods:["rgb","brightness"]};n.devices.set("dev"+r,i)}),removeDevice:n=>t(r=>{r.devices.delete(`${n}`)}),getGroups(){const n=e().groups,r=Array.from(n.values()).reduce((s,o)=>s.concat(o.device_ids),[]),i=Array.from(e().devices.values()).map(s=>s.id).filter(s=>!r.includes(s));if(i.length>0){const s={name:"Other",id:999999,device_ids:i};return[...Array.from(n.values()),s]}else return Array.from(n.values())},setState(n){t(n)}})),{name:"app-store-v0",storage:{getItem:t=>{const e=localStorage.getItem(t);return{state:{...JSON.parse(e).state,constrollers:new Map(JSON.parse(e).state.controllers),devices:new Map(JSON.parse(e).state.devices),groups:new Map(JSON.parse(e).state.groups)}}},setItem:(t,e)=>{const n=JSON.stringify({state:{...e.state,controllers:Array.from(e.state.controllers.entries()),devices:Array.from(e.state.devices.entries()),groups:Array.from(e.state.groups.entries())}});localStorage.setItem(t,n)},removeItem:t=>localStorage.removeItem(t)}})));window.useSpectodaStore=yx;const Va=$_(),sz={apiKey:"AIzaSyCnAfdv909gThutnCKwsoiNaSrHbqRUJv0",authDomain:"tangle-49512.firebaseapp.com",databaseURL:"https://tangle-49512-default-rtdb.europe-west1.firebasedatabase.app",projectId:"tangle-49512",storageBucket:"tangle-49512.appspot.com",messagingSenderId:"707203240184",appId:"1:707203240184:web:d634fdd4b4c5fa2379eb0d",measurementId:"G-EJCQSBZ6YJ"},zy=mA(sz),wx=Bk(zy),Ex=c9(zy),oz=Bk(zy);Ex.languageCode="cs";qV(Ex,"lumbio@spectoda.com","03042022").then(async t=>{t.user;const e="LUMBIO";Y7((()=>ah(oz,"/home/"+e))()).then(r=>{const i=r.val();i.ownerSignature&&Qe.assignOwnerSignature(i.ownerSignature)&&localStorage.setItem("ownerSignature",i.ownerSignature),i.ownerKey&&Qe.assignOwnerKey(i.ownerKey)&&localStorage.setItem("ownerKey",i.ownerKey);const s=new Map(i.devices),o=new Map(i.controllers),l=new Map(i.groups),c=i.events||{};Gi.set("/home/LUMBIO/events",c),Gi.saveLocalData(),yx.getState().setState({controllers:o,devices:s,groups:l}),Va.emit("events-local-reset")})});const az=t=>`/home/${t}`,lz=ah(wx,".info/serverTimeOffset");class uz{#e;constructor(){this.#e={}}get(e){return this.getLocalData(),Hu.get(this.#e,e.replaceAll("/","."))}set(e,n){Hu.set(this.#e,e.replaceAll("/","."),n),this.saveLocalData()}saveLocalData(){localStorage.setItem("spectoda",JSON.stringify(this.#e))}getLocalData(){return this.#e=JSON.parse(localStorage.getItem("spectoda")||"{}")}}const Gi=new uz;window.localFirebaseDataStore=Gi;class cz{#e;#t;#n;constructor(e){this.#e=wx,this.#t=az(e),this.#n=100,J7(lz,n=>{const r=n.val();this.#n=r})}emitEvent(e){const n=`${this.#t}/events/${e.id}/${e.label}`;ah(this.#e,n);const r={value:e.value,timestamp:e.timestamp+this.#n,meta:e.meta};e.id===255&&Gi.set(`${this.#t}/events/255/${e.label}`,r),console.log("emitting event",e.label,e.value,r,n)}onEvent(e,n,r){const i=`${this.#t}/events/${n}/${e}`;ah(this.#e,i);let s=Qe.on("emitted_events",o=>{for(let l of o)l.label===e&&l.id===n&&r(l)});return()=>{s()}}getLatestSavedEvent(e,n){const r=`${this.#t}/events/${n}/${e}`,i=`${this.#t}/events/255/${e}`;return Gi.get(i)?.timestamp>Gi.get(r)?.timestamp?Gi.get(i):Gi.get(r)}}const Zu=new cz("PWS");window.spectodaFirebaseSync=Zu;function fz(t,e){return Array.isArray(t)?t.includes(e):t===e}function dz(t){const e=document.createElement("div");e.style.color=t;const n=window.getComputedStyle(document.body.appendChild(e)).color.match(/\d+/g).map(function(r){return parseInt(r,10)});return document.body.removeChild(e),n.length>=3?"#"+((1<<24)+(n[0]<<16)+(n[1]<<8)+n[2]).toString(16).substr(1):!1}const Bm=new Map,Sx=(t,e)=>{const n={subscribe:i=>{const s=Va.on("events-local-reset",()=>{const f=n.getSnapshot();i(f)}),o=Qe.on("emitted_events",f=>{for(let h of f)h.label===t&&fz(e,h.id)&&i(h)}),l=Qe.on("emitted_events",f=>{for(let h of f)h.label===t&&h.id===255&&i(h)}),c=Zu.onEvent(t,e,f=>{f&&i(f)});return()=>{o(),c(),l(),s()}},getSnapshot(){const i=Zu.getLatestSavedEvent(t,e)||{id:e,label:t,value:null,timestamp:0,isLoading:!0,meta:{}};return Bm.has(`${e}_${t}_${i.timestamp}_${i.value}`)?Bm.get(`${e}_${t}_${i.timestamp}_${i.value}`):(Bm.set(`${e}_${t}_${i.timestamp}_${i.value}`,i),i)}},r=k.useSyncExternalStore(k.useCallback(i=>n.subscribe(i),[t,e]),k.useCallback(()=>n.getSnapshot(),[t,e]));return{event:{label:t,value:r?.value,timestamp:r?.timestamp,id:e,meta:r.meta}}};function aa(t){return console.log("emitEventWeb",t),Qe.interface?.emit("emitted_events",[t]),fetch("/event",{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}}).then(e=>e.json())}const Es=(t,e)=>{const{event:n}=Sx(t,e);async function r(i,s={}){if(n&&!n.isLoading)Zu.emitEvent({id:e,label:t,value:i,timestamp:Date.now(),meta:s}),await aa({id:255,label:t,value:i,type:"percentage"});else throw new Error("Event has no params")}return{value:n?.value,emitEvent:r,meta:n?.meta}},hz=(t,e)=>{const{event:n}=Sx(t,e);async function r(i,s={}){try{if(n&&!n.isLoading)Zu.emitEvent({id:e,label:t,value:i,timestamp:Date.now(),meta:s}),await aa({id:255,label:t,value:i,type:"color"});else throw new Error("Event has no params")}catch(o){console.error(o)}}return{value:n?.value,emitEvent:r,meta:n?.meta}};function pz(){for(var t=0,e,n,r="";t<arguments.length;)(e=arguments[t++])&&(n=Cx(e))&&(r&&(r+=" "),r+=n);return r}function Cx(t){if(typeof t=="string")return t;for(var e,n="",r=0;r<t.length;r++)t[r]&&(e=Cx(t[r]))&&(n&&(n+=" "),n+=e);return n}function N0(){return N0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},N0.apply(this,arguments)}var Gy="-";function gz(t){var e=vz(t);function n(i){var s=i.split(Gy);return s[0]===""&&s.length!==1&&s.shift(),bx(s,e)||mz(i)}function r(i){return t.conflictingClassGroups[i]||[]}return{getClassGroupId:n,getConflictingClassGroupIds:r}}function bx(t,e){var n;if(t.length===0)return e.classGroupId;var r=t[0],i=e.nextPart.get(r),s=i?bx(t.slice(1),i):void 0;if(s)return s;if(e.validators.length!==0){var o=t.join(Gy);return(n=e.validators.find(function(l){var c=l.validator;return c(o)}))==null?void 0:n.classGroupId}}var Bb=/^\[(.+)\]$/;function mz(t){if(Bb.test(t)){var e=Bb.exec(t)[1],n=e?.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}}function vz(t){var e=t.theme,n=t.prefix,r={nextPart:new Map,validators:[]},i=yz(Object.entries(t.classGroups),n);return i.forEach(function(s){var o=s[0],l=s[1];P0(l,r,o,e)}),r}function P0(t,e,n,r){t.forEach(function(i){if(typeof i=="string"){var s=i===""?e:$b(e,i);s.classGroupId=n;return}if(typeof i=="function"){if(_z(i)){P0(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(function(o){var l=o[0],c=o[1];P0(c,$b(e,l),n,r)})})}function $b(t,e){var n=t;return e.split(Gy).forEach(function(r){n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n}function _z(t){return t.isThemeGetter}function yz(t,e){return e?t.map(function(n){var r=n[0],i=n[1],s=i.map(function(o){return typeof o=="string"?e+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(function(l){var c=l[0],f=l[1];return[e+c,f]})):o});return[r,s]}):t}function wz(t){if(t<1)return{get:function(){},set:function(){}};var e=0,n=new Map,r=new Map;function i(s,o){n.set(s,o),e++,e>t&&(e=0,r=n,n=new Map)}return{get:function(o){var l=n.get(o);if(l!==void 0)return l;if((l=r.get(o))!==void 0)return i(o,l),l},set:function(o,l){n.has(o)?n.set(o,l):i(o,l)}}}var Ix="!";function Ez(t){var e=t.separator||":";return function(r){for(var i=0,s=[],o=0,l=0;l<r.length;l++){var c=r[l];i===0&&c===e[0]&&(e.length===1||r.slice(l,l+e.length)===e)&&(s.push(r.slice(o,l)),o=l+e.length),c==="["?i++:c==="]"&&i--}var f=s.length===0?r:r.substring(o),h=f.startsWith(Ix),p=h?f.substring(1):f;return{modifiers:s,hasImportantModifier:h,baseClassName:p}}}function Sz(t){if(t.length<=1)return t;var e=[],n=[];return t.forEach(function(r){var i=r[0]==="[";i?(e.push.apply(e,n.sort().concat([r])),n=[]):n.push(r)}),e.push.apply(e,n.sort()),e}function Cz(t){return N0({cache:wz(t.cacheSize),splitModifiers:Ez(t)},gz(t))}var bz=/\s+/;function Iz(t,e){var n=e.splitModifiers,r=e.getClassGroupId,i=e.getConflictingClassGroupIds,s=new Set;return t.trim().split(bz).map(function(o){var l=n(o),c=l.modifiers,f=l.hasImportantModifier,h=l.baseClassName,p=r(h);if(!p)return{isTailwindClass:!1,originalClassName:o};var g=Sz(c).join(":"),v=f?g+Ix:g;return{isTailwindClass:!0,modifierId:v,classGroupId:p,originalClassName:o}}).reverse().filter(function(o){if(!o.isTailwindClass)return!0;var l=o.modifierId,c=o.classGroupId,f=l+c;return s.has(f)?!1:(s.add(f),i(c).forEach(function(h){return s.add(l+h)}),!0)}).reverse().map(function(o){return o.originalClassName}).join(" ")}function Tz(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r,i,s,o=l;function l(f){var h=e[0],p=e.slice(1),g=p.reduce(function(v,I){return I(v)},h());return r=Cz(g),i=r.cache.get,s=r.cache.set,o=c,c(f)}function c(f){var h=i(f);if(h)return h;var p=Iz(f,r);return s(f,p),p}return function(){return o(pz.apply(null,arguments))}}function et(t){var e=function(r){return r[t]||[]};return e.isThemeGetter=!0,e}var Tx=/^\[(?:([a-z-]+):)?(.+)\]$/i,Rz=/^\d+\/\d+$/,Az=new Set(["px","full","screen"]),kz=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,xz=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))/,Oz=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/;function fr(t){return mu(t)||Az.has(t)||Rz.test(t)||zs(t)}function zs(t){return wo(t,"length",Fz)}function Nz(t){return wo(t,"size",Rx)}function Pz(t){return wo(t,"position",Rx)}function Dz(t){return wo(t,"url",Mz)}function $m(t){return wo(t,"number",mu)}function mu(t){return!Number.isNaN(Number(t))}function $l(t){return jb(t)||wo(t,"number",jb)}function ht(t){return Tx.test(t)}function jl(){return!0}function Li(t){return kz.test(t)}function Lz(t){return wo(t,"",Uz)}function wo(t,e,n){var r=Tx.exec(t);return r?r[1]?r[1]===e:n(r[2]):!1}function Fz(t){return xz.test(t)}function Rx(){return!1}function Mz(t){return t.startsWith("url(")}function jb(t){return Number.isInteger(Number(t))}function Uz(t){return Oz.test(t)}function Bz(){var t=et("colors"),e=et("spacing"),n=et("blur"),r=et("brightness"),i=et("borderColor"),s=et("borderRadius"),o=et("borderSpacing"),l=et("borderWidth"),c=et("contrast"),f=et("grayscale"),h=et("hueRotate"),p=et("invert"),g=et("gap"),v=et("gradientColorStops"),I=et("inset"),T=et("margin"),R=et("opacity"),w=et("padding"),E=et("saturate"),b=et("scale"),O=et("sepia"),B=et("skew"),q=et("space"),V=et("translate"),J=function(){return["auto","contain","none"]},D=function(){return["auto","hidden","clip","visible","scroll"]},F=function(){return["auto",e]},Y=function(){return["",fr]},X=function(){return["auto",mu,ht]},le=function(){return["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"]},Z=function(){return["solid","dashed","dotted","double","none"]},fe=function(){return["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"]},ke=function(){return["start","end","center","between","around","evenly"]},ce=function(){return["","0",ht]},z=function(){return["auto","avoid","all","avoid-page","page","left","right","column"]},ee=function(){return[mu,$m]},se=function(){return[mu,ht]};return{cacheSize:500,theme:{colors:[jl],spacing:[fr],blur:["none","",Li,zs],brightness:ee(),borderColor:[t],borderRadius:["none","","full",Li,zs],borderSpacing:[e],borderWidth:Y(),contrast:ee(),grayscale:ce(),hueRotate:se(),invert:ce(),gap:[e],gradientColorStops:[t],inset:F(),margin:F(),opacity:ee(),padding:[e],saturate:ee(),scale:ee(),sepia:ce(),skew:se(),space:[e],translate:[e]},classGroups:{aspect:[{aspect:["auto","square","video",ht]}],container:["container"],columns:[{columns:[Li]}],"break-after":[{"break-after":z()}],"break-before":[{"break-before":z()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none"]}],clear:[{clear:["left","right","both","none"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[].concat(le(),[ht])}],overflow:[{overflow:D()}],"overflow-x":[{"overflow-x":D()}],"overflow-y":[{"overflow-y":D()}],overscroll:[{overscroll:J()}],"overscroll-x":[{"overscroll-x":J()}],"overscroll-y":[{"overscroll-y":J()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[I]}],"inset-x":[{"inset-x":[I]}],"inset-y":[{"inset-y":[I]}],top:[{top:[I]}],right:[{right:[I]}],bottom:[{bottom:[I]}],left:[{left:[I]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",$l]}],basis:[{basis:[e]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ht]}],grow:[{grow:ce()}],shrink:[{shrink:ce()}],order:[{order:["first","last","none",$l]}],"grid-cols":[{"grid-cols":[jl]}],"col-start-end":[{col:["auto",{span:[$l]},ht]}],"col-start":[{"col-start":X()}],"col-end":[{"col-end":X()}],"grid-rows":[{"grid-rows":[jl]}],"row-start-end":[{row:["auto",{span:[$l]},ht]}],"row-start":[{"row-start":X()}],"row-end":[{"row-end":X()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ht]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ht]}],gap:[{gap:[g]}],"gap-x":[{"gap-x":[g]}],"gap-y":[{"gap-y":[g]}],"justify-content":[{justify:ke()}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:[].concat(ke(),["baseline"])}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[].concat(ke(),["baseline","stretch"])}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[w]}],px:[{px:[w]}],py:[{py:[w]}],pt:[{pt:[w]}],pr:[{pr:[w]}],pb:[{pb:[w]}],pl:[{pl:[w]}],m:[{m:[T]}],mx:[{mx:[T]}],my:[{my:[T]}],mt:[{mt:[T]}],mr:[{mr:[T]}],mb:[{mb:[T]}],ml:[{ml:[T]}],"space-x":[{"space-x":[q]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[q]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit",e]}],"min-w":[{"min-w":["min","max","fit",fr]}],"max-w":[{"max-w":["0","none","full","min","max","fit","prose",{screen:[Li]},Li,zs]}],h:[{h:[e,"auto","min","max","fit"]}],"min-h":[{"min-h":["min","max","fit",fr]}],"max-h":[{"max-h":[e,"min","max","fit"]}],"font-size":[{text:["base",Li,zs]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",$m]}],"font-family":[{font:[jl]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",zs]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",fr]}],"list-style-type":[{list:["none","disc","decimal",ht]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[R]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[R]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[].concat(Z(),["wavy"])}],"text-decoration-thickness":[{decoration:["auto","from-font",fr]}],"underline-offset":[{"underline-offset":["auto",fr]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],indent:[{indent:[e]}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",zs]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap"]}],break:[{break:["normal","words","all","keep"]}],content:[{content:["none",ht]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[R]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[].concat(le(),[Pz])}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Nz]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Dz]}],"bg-color":[{bg:[t]}],"gradient-from":[{from:[v]}],"gradient-via":[{via:[v]}],"gradient-to":[{to:[v]}],rounded:[{rounded:[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[R]}],"border-style":[{border:[].concat(Z(),["hidden"])}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[R]}],"divide-style":[{divide:Z()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:[""].concat(Z())}],"outline-offset":[{"outline-offset":[fr]}],"outline-w":[{outline:[fr]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:Y()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[R]}],"ring-offset-w":[{"ring-offset":[fr]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Li,Lz]}],"shadow-color":[{shadow:[jl]}],opacity:[{opacity:[R]}],"mix-blend":[{"mix-blend":fe()}],"bg-blend":[{"bg-blend":fe()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Li,ht]}],grayscale:[{grayscale:[f]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[p]}],saturate:[{saturate:[E]}],sepia:[{sepia:[O]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[f]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[p]}],"backdrop-opacity":[{"backdrop-opacity":[R]}],"backdrop-saturate":[{"backdrop-saturate":[E]}],"backdrop-sepia":[{"backdrop-sepia":[O]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ht]}],duration:[{duration:se()}],ease:[{ease:["linear","in","out","in-out",ht]}],delay:[{delay:se()}],animate:[{animate:["none","spin","ping","pulse","bounce",ht]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[b]}],"scale-x":[{"scale-x":[b]}],"scale-y":[{"scale-y":[b]}],rotate:[{rotate:[$l,ht]}],"translate-x":[{"translate-x":[V]}],"translate-y":[{"translate-y":[V]}],"skew-x":[{"skew-x":[B]}],"skew-y":[{"skew-y":[B]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ht]}],accent:[{accent:["auto",t]}],appearance:["appearance-none"],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ht]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":[e]}],"scroll-mx":[{"scroll-mx":[e]}],"scroll-my":[{"scroll-my":[e]}],"scroll-mt":[{"scroll-mt":[e]}],"scroll-mr":[{"scroll-mr":[e]}],"scroll-mb":[{"scroll-mb":[e]}],"scroll-ml":[{"scroll-ml":[e]}],"scroll-p":[{"scroll-p":[e]}],"scroll-px":[{"scroll-px":[e]}],"scroll-py":[{"scroll-py":[e]}],"scroll-pt":[{"scroll-pt":[e]}],"scroll-pr":[{"scroll-pr":[e]}],"scroll-pb":[{"scroll-pb":[e]}],"scroll-pl":[{"scroll-pl":[e]}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","pinch-zoom","manipulation",{pan:["x","left","right","y","up","down"]}]}],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ht]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[fr,$m]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],rounded:["rounded-t","rounded-r","rounded-b","rounded-l","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"]}}}var $z=Tz(Bz);function mr(...t){return $z(t.filter(Boolean).join(" "))}const Vb=({fill:t})=>L.jsx("svg",{width:"22",height:"24",viewBox:"0 0 19 22",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:L.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.60951 0.899902C10.0237 0.899902 10.3595 1.23569 10.3595 1.6499V6.4449C10.3595 6.85911 10.0237 7.1949 9.60951 7.1949C9.1953 7.1949 8.85951 6.85911 8.85951 6.4449V1.6499C8.85951 1.23569 9.1953 0.899902 9.60951 0.899902ZM5.42907 3.8546C5.65425 4.20226 5.55496 4.66664 5.2073 4.89182C2.97464 6.33793 1.5 8.84883 1.5 11.7037C1.5 16.1825 5.13075 19.8132 9.60951 19.8132C14.0883 19.8132 17.719 16.1825 17.719 11.7037C17.719 8.84883 16.2444 6.33793 14.0117 4.89182C13.6641 4.66664 13.5648 4.20226 13.79 3.8546C14.0151 3.50695 14.4795 3.40766 14.8272 3.63284C17.4686 5.34372 19.219 8.31908 19.219 11.7037C19.219 17.0109 14.9167 21.3132 9.60951 21.3132C4.30233 21.3132 0 17.0109 0 11.7037C0 8.31908 1.75042 5.34372 4.39185 3.63284C4.73951 3.40766 5.20389 3.50695 5.42907 3.8546Z",fill:t})});function jz({isBig:t=!1,label:e,deviceId:n,isOffline:r=!1}){const{value:i,emitEvent:s,meta:o}=Es(e,n),l=i===0||r?"off":"on";function c(f){r||(f.preventDefault(),s(l==="on"?0:100))}return L.jsxs("div",{onClick:c,className:mr("relative grid cursor-pointer place-items-center rounded-full",t?"h-12 w-12":"h-10 w-10",r&&"bg-white-12",!r&&l==="off"&&"bg-white-12 hover:bg-white-24",!r&&l==="on"&&"switch-on-glow"),children:[r&&L.jsx(Vb,{fill:"rgba(255,255,255,0.24)"}),l==="off"&&!r&&L.jsx(Vb,{fill:"white"}),l==="on"&&!r&&L.jsx("img",{src:"./ON.svg"})]})}const ud=k;function Vz({title:t,titleId:e,...n},r){return ud.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":e},n),t?ud.createElement("title",{id:e},t):null,ud.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.375 19.5h17.25m-17.25 0a1.125 1.125 0 01-1.125-1.125M3.375 19.5h1.5C5.496 19.5 6 18.996 6 18.375m-3.75 0V5.625m0 12.75v-1.5c0-.621.504-1.125 1.125-1.125m18.375 2.625V5.625m0 12.75c0 .621-.504 1.125-1.125 1.125m1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125m0 3.75h-1.5A1.125 1.125 0 0118 18.375M20.625 4.5H3.375m17.25 0c.621 0 1.125.504 1.125 1.125M20.625 4.5h-1.5C18.504 4.5 18 5.004 18 5.625m3.75 0v1.5c0 .621-.504 1.125-1.125 1.125M3.375 4.5c-.621 0-1.125.504-1.125 1.125M3.375 4.5h1.5C5.496 4.5 6 5.004 6 5.625m-3.75 0v1.5c0 .621.504 1.125 1.125 1.125m0 0h1.5m-1.5 0c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125m1.5-3.75C5.496 8.25 6 7.746 6 7.125v-1.5M4.875 8.25C5.496 8.25 6 8.754 6 9.375v1.5m0-5.25v5.25m0-5.25C6 5.004 6.504 4.5 7.125 4.5h9.75c.621 0 1.125.504 1.125 1.125m1.125 2.625h1.5m-1.5 0A1.125 1.125 0 0118 7.125v-1.5m1.125 2.625c-.621 0-1.125.504-1.125 1.125v1.5m2.625-2.625c.621 0 1.125.504 1.125 1.125v1.5c0 .621-.504 1.125-1.125 1.125M18 5.625v5.25M7.125 12h9.75m-9.75 0A1.125 1.125 0 016 10.875M7.125 12C6.504 12 6 12.504 6 13.125m0-2.25C6 11.496 5.496 12 4.875 12M18 10.875c0 .621-.504 1.125-1.125 1.125M18 10.875c0 .621.504 1.125 1.125 1.125m-2.25 0c.621 0 1.125.504 1.125 1.125m-12 5.25v-5.25m0 5.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125m-12 0v-1.5c0-.621-.504-1.125-1.125-1.125M18 18.375v-5.25m0 5.25v-1.5c0-.621.504-1.125 1.125-1.125M18 13.125v1.5c0 .621.504 1.125 1.125 1.125M18 13.125c0-.621.504-1.125 1.125-1.125M6 13.125v1.5c0 .621-.504 1.125-1.125 1.125M6 13.125C6 12.504 5.496 12 4.875 12m-1.5 0h1.5m-1.5 0c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125M19.125 12h1.5m0 0c.621 0 1.125.504 1.125 1.125v1.5c0 .621-.504 1.125-1.125 1.125m-17.25 0h1.5m14.25 0h1.5"}))}const Wz=ud.forwardRef(Vz);var zz=Wz;const cd=k;function Gz({title:t,titleId:e,...n},r){return cd.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":e},n),t?cd.createElement("title",{id:e},t):null,cd.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.53 16.122a3 3 0 00-5.78 1.128 2.25 2.25 0 01-2.4 2.245 4.5 4.5 0 008.4-2.245c0-.399-.078-.78-.22-1.128zm0 0a15.998 15.998 0 003.388-1.62m-5.043-.025a15.994 15.994 0 011.622-3.395m3.42 3.42a15.995 15.995 0 004.764-4.648l3.876-5.814a1.151 1.151 0 00-1.597-1.597L14.146 6.32a15.996 15.996 0 00-4.649 4.763m3.42 3.42a6.776 6.776 0 00-3.42-3.42"}))}const Hz=cd.forwardRef(Gz);var Kz=Hz,qz=zz,Yz=Kz;const fd=k;function Qz({title:t,titleId:e,...n},r){return fd.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":e},n),t?fd.createElement("title",{id:e},t):null,fd.createElement("path",{fillRule:"evenodd",d:"M1.5 5.625c0-1.036.84-1.875 1.875-1.875h17.25c1.035 0 1.875.84 1.875 1.875v12.75c0 1.035-.84 1.875-1.875 1.875H3.375A1.875 1.875 0 011.5 18.375V5.625zm1.5 0v1.5c0 .207.168.375.375.375h1.5a.375.375 0 00.375-.375v-1.5a.375.375 0 00-.375-.375h-1.5A.375.375 0 003 5.625zm16.125-.375a.375.375 0 00-.375.375v1.5c0 .207.168.375.375.375h1.5A.375.375 0 0021 7.125v-1.5a.375.375 0 00-.375-.375h-1.5zM21 9.375A.375.375 0 0020.625 9h-1.5a.375.375 0 00-.375.375v1.5c0 .207.168.375.375.375h1.5a.375.375 0 00.375-.375v-1.5zm0 3.75a.375.375 0 00-.375-.375h-1.5a.375.375 0 00-.375.375v1.5c0 .207.168.375.375.375h1.5a.375.375 0 00.375-.375v-1.5zm0 3.75a.375.375 0 00-.375-.375h-1.5a.375.375 0 00-.375.375v1.5c0 .207.168.375.375.375h1.5a.375.375 0 00.375-.375v-1.5zM4.875 18.75a.375.375 0 00.375-.375v-1.5a.375.375 0 00-.375-.375h-1.5a.375.375 0 00-.375.375v1.5c0 .207.168.375.375.375h1.5zM3.375 15h1.5a.375.375 0 00.375-.375v-1.5a.375.375 0 00-.375-.375h-1.5a.375.375 0 00-.375.375v1.5c0 .207.168.375.375.375zm0-3.75h1.5a.375.375 0 00.375-.375v-1.5A.375.375 0 004.875 9h-1.5A.375.375 0 003 9.375v1.5c0 .207.168.375.375.375zm4.125 0a.75.75 0 000 1.5h9a.75.75 0 000-1.5h-9z",clipRule:"evenodd"}))}const Jz=fd.forwardRef(Qz);var Xz=Jz;const dd=k;function Zz({title:t,titleId:e,...n},r){return dd.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":e},n),t?dd.createElement("title",{id:e},t):null,dd.createElement("path",{fillRule:"evenodd",d:"M20.599 1.5c-.376 0-.743.111-1.055.32l-5.08 3.385a18.747 18.747 0 00-3.471 2.987 10.04 10.04 0 014.815 4.815 18.748 18.748 0 002.987-3.472l3.386-5.079A1.902 1.902 0 0020.599 1.5zm-8.3 14.025a18.76 18.76 0 001.896-1.207 8.026 8.026 0 00-4.513-4.513A18.75 18.75 0 008.475 11.7l-.278.5a5.26 5.26 0 013.601 3.602l.502-.278zM6.75 13.5A3.75 3.75 0 003 17.25a1.5 1.5 0 01-1.601 1.497.75.75 0 00-.7 1.123 5.25 5.25 0 009.8-2.62 3.75 3.75 0 00-3.75-3.75z",clipRule:"evenodd"}))}const eG=dd.forwardRef(Zz);var tG=eG;const hd=k;function nG({title:t,titleId:e,...n},r){return hd.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true",ref:r,"aria-labelledby":e},n),t?hd.createElement("title",{id:e},t):null,hd.createElement("path",{d:"M12 2.25a.75.75 0 01.75.75v2.25a.75.75 0 01-1.5 0V3a.75.75 0 01.75-.75zM7.5 12a4.5 4.5 0 119 0 4.5 4.5 0 01-9 0zM18.894 6.166a.75.75 0 00-1.06-1.06l-1.591 1.59a.75.75 0 101.06 1.061l1.591-1.59zM21.75 12a.75.75 0 01-.75.75h-2.25a.75.75 0 010-1.5H21a.75.75 0 01.75.75zM17.834 18.894a.75.75 0 001.06-1.06l-1.59-1.591a.75.75 0 10-1.061 1.06l1.59 1.591zM12 18a.75.75 0 01.75.75V21a.75.75 0 01-1.5 0v-2.25A.75.75 0 0112 18zM7.758 17.303a.75.75 0 00-1.061-1.06l-1.591 1.59a.75.75 0 001.06 1.061l1.591-1.59zM6 12a.75.75 0 01-.75.75H3a.75.75 0 010-1.5h2.25A.75.75 0 016 12zM6.697 7.757a.75.75 0 001.06-1.06l-1.59-1.591a.75.75 0 00-1.061 1.06l1.59 1.591z"}))}const rG=hd.forwardRef(nG);var iG=rG,sG=Xz,oG=tG,ec=iG;function aG({}){const{pathname:t}=Ka(),e=t;console.log(e);const n=e==="/animations",r="/",i="/animations";return L.jsxs(L.Fragment,{children:[L.jsx("div",{className:"relative -z-10 h-[76px]"}),L.jsx("div",{className:"bg-darkglass fixed bottom-0 left-0 right-0 border-t border-white-12",children:L.jsxs("div",{className:"m-auto flex max-w-[393px] items-center justify-around p-4",children:[L.jsxs(GS,{to:r,className:mr("flex w-16 cursor-pointer flex-col items-center  gap-1",n?"text-white-60":"text-white-100"),children:[n?L.jsx(Yz,{className:"w-6"}):L.jsx(oG,{className:"w-6"}),L.jsx("p",{className:"m-0 text-xs",children:"Color"})]}),L.jsxs(GS,{to:i,className:mr("flex w-16 cursor-pointer flex-col items-center  gap-1",n?"text-white-100":"text-white-60"),children:[n?L.jsx(sG,{className:"w-6"}):L.jsx(qz,{className:"w-6"}),L.jsx("p",{className:"m-0 text-xs",children:"Animations"})]})]})})]})}/*! Fast Average Color | © 2022 Denis Seleznev | MIT License | https://github.com/fast-average-color/fast-average-color */function lG(t){var e=t.toString(16);return e.length===1?"0"+e:e}function Wb(t){return"#"+t.map(lG).join("")}function uG(t){var e=(t[0]*299+t[1]*587+t[2]*114)/1e3;return e<128}function cG(t){return t?fG(t)?t:[t]:[]}function fG(t){return Array.isArray(t[0])}function Hy(t,e,n){for(var r=0;r<n.length;r++)if(dG(t,e,n[r]))return!0;return!1}function dG(t,e,n){switch(n.length){case 3:if(hG(t,e,n))return!0;break;case 4:if(pG(t,e,n))return!0;break;case 5:if(gG(t,e,n))return!0;break;default:return!1}}function hG(t,e,n){return t[e+3]!==255||t[e]===n[0]&&t[e+1]===n[1]&&t[e+2]===n[2]}function pG(t,e,n){return t[e+3]&&n[3]?t[e]===n[0]&&t[e+1]===n[1]&&t[e+2]===n[2]&&t[e+3]===n[3]:t[e+3]===n[3]}function $f(t,e,n){return t>=e-n&&t<=e+n}function gG(t,e,n){var r=n[0],i=n[1],s=n[2],o=n[3],l=n[4],c=t[e+3],f=$f(c,o,l);return o?!!(!c&&f||$f(t[e],r,l)&&$f(t[e+1],i,l)&&$f(t[e+2],s,l)&&f):f}function mG(t,e,n){for(var r={},i=24,s=n.ignoredColor,o=n.step,l=[0,0,0,0,0],c=0;c<e;c+=o){var f=t[c],h=t[c+1],p=t[c+2],g=t[c+3];if(!(s&&Hy(t,c,s))){var v=Math.round(f/i)+","+Math.round(h/i)+","+Math.round(p/i);r[v]?r[v]=[r[v][0]+f*g,r[v][1]+h*g,r[v][2]+p*g,r[v][3]+g,r[v][4]+1]:r[v]=[f*g,h*g,p*g,g,1],l[4]<r[v][4]&&(l=r[v])}}var I=l[0],T=l[1],R=l[2],w=l[3],E=l[4];return w?[Math.round(I/w),Math.round(T/w),Math.round(R/w),Math.round(w/E)]:n.defaultColor}function vG(t,e,n){for(var r=0,i=0,s=0,o=0,l=0,c=n.ignoredColor,f=n.step,h=0;h<e;h+=f){var p=t[h+3],g=t[h]*p,v=t[h+1]*p,I=t[h+2]*p;c&&Hy(t,h,c)||(r+=g,i+=v,s+=I,o+=p,l++)}return o?[Math.round(r/o),Math.round(i/o),Math.round(s/o),Math.round(o/l)]:n.defaultColor}function _G(t,e,n){for(var r=0,i=0,s=0,o=0,l=0,c=n.ignoredColor,f=n.step,h=0;h<e;h+=f){var p=t[h],g=t[h+1],v=t[h+2],I=t[h+3];c&&Hy(t,h,c)||(r+=p*p*I,i+=g*g*I,s+=v*v*I,o+=I,l++)}return o?[Math.round(Math.sqrt(r/o)),Math.round(Math.sqrt(i/o)),Math.round(Math.sqrt(s/o)),Math.round(o/l)]:n.defaultColor}function zb(t){return Zl(t,"defaultColor",[0,0,0,0])}function Zl(t,e,n){return t[e]===void 0?n:t[e]}var Gb=10,D0=100;function yG(t){return t.search(/\.svg(\?|$)/i)!==-1}function wG(t){if(Ax(t)){var e=t.naturalWidth,n=t.naturalHeight;return!t.naturalWidth&&yG(t.src)&&(e=n=D0),{width:e,height:n}}return SG(t)?{width:t.videoWidth,height:t.videoHeight}:{width:t.width,height:t.height}}function Hb(t){return CG(t)?"canvas":EG(t)?"offscreencanvas":bG(t)?"imagebitmap":t.src}function Ax(t){return typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement}var kx=typeof OffscreenCanvas<"u";function EG(t){return kx&&t instanceof OffscreenCanvas}function SG(t){return typeof HTMLVideoElement<"u"&&t instanceof HTMLVideoElement}function CG(t){return typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement}function bG(t){return typeof ImageBitmap<"u"&&t instanceof ImageBitmap}function IG(t,e){var n=Zl(e,"left",0),r=Zl(e,"top",0),i=Zl(e,"width",t.width),s=Zl(e,"height",t.height),o=i,l=s;if(e.mode==="precision")return{srcLeft:n,srcTop:r,srcWidth:i,srcHeight:s,destWidth:o,destHeight:l};var c;return i>s?(c=i/s,o=D0,l=Math.round(o/c)):(c=s/i,l=D0,o=Math.round(l/c)),(o>i||l>s||o<Gb||l<Gb)&&(o=i,l=s),{srcLeft:n,srcTop:r,srcWidth:i,srcHeight:s,destWidth:o,destHeight:l}}var TG=typeof window>"u";function RG(){return TG?kx?new OffscreenCanvas(1,1):null:document.createElement("canvas")}var AG="FastAverageColor: ";function Or(t){return Error(AG+t)}function Vl(t,e){e||console.error(t)}var kG=function(){function t(){this.canvas=null,this.ctx=null}return t.prototype.getColorAsync=function(e,n){if(!e)return Promise.reject(Or("call .getColorAsync() without resource."));if(typeof e=="string"){if(typeof Image>"u")return Promise.reject(Or("resource as string is not supported in this environment"));var r=new Image;return r.crossOrigin=n&&n.crossOrigin||"",r.src=e,this.bindImageEvents(r,n)}else{if(Ax(e)&&!e.complete)return this.bindImageEvents(e,n);var i=this.getColor(e,n);return i.error?Promise.reject(i.error):Promise.resolve(i)}},t.prototype.getColor=function(e,n){n=n||{};var r=zb(n);if(!e){var i=Or("call .getColor(null) without resource");return Vl(i,n.silent),this.prepareResult(r,i)}var s=wG(e),o=IG(s,n);if(!o.srcWidth||!o.srcHeight||!o.destWidth||!o.destHeight){var i=Or('incorrect sizes for resource "'.concat(Hb(e),'"'));return Vl(i,n.silent),this.prepareResult(r,i)}if(!this.canvas&&(this.canvas=RG(),!this.canvas)){var i=Or("OffscreenCanvas is not supported in this browser");return Vl(i,n.silent),this.prepareResult(r,i)}if(!this.ctx){if(this.ctx=this.canvas.getContext("2d",{willReadFrequently:!0}),!this.ctx){var i=Or("Canvas Context 2D is not supported in this browser");return Vl(i,n.silent),this.prepareResult(r)}this.ctx.imageSmoothingEnabled=!1}this.canvas.width=o.destWidth,this.canvas.height=o.destHeight;try{this.ctx.clearRect(0,0,o.destWidth,o.destHeight),this.ctx.drawImage(e,o.srcLeft,o.srcTop,o.srcWidth,o.srcHeight,0,0,o.destWidth,o.destHeight);var l=this.ctx.getImageData(0,0,o.destWidth,o.destHeight).data;return this.prepareResult(this.getColorFromArray4(l,n))}catch(c){var i=Or("security error (CORS) for resource ".concat(Hb(e),`.
Details: https://developer.mozilla.org/en/docs/Web/HTML/CORS_enabled_image`));return Vl(i,n.silent),!n.silent&&console.error(c),this.prepareResult(r,i)}},t.prototype.getColorFromArray4=function(e,n){n=n||{};var r=4,i=e.length,s=zb(n);if(i<r)return s;var o=i-i%r,l=(n.step||1)*r,c;switch(n.algorithm||"sqrt"){case"simple":c=vG;break;case"sqrt":c=_G;break;case"dominant":c=mG;break;default:throw Or("".concat(n.algorithm," is unknown algorithm"))}return c(e,o,{defaultColor:s,ignoredColor:cG(n.ignoredColor),step:l})},t.prototype.prepareResult=function(e,n){var r=e.slice(0,3),i=[e[0],e[1],e[2],e[3]/255],s=uG(e);return{value:[e[0],e[1],e[2],e[3]],rgb:"rgb("+r.join(",")+")",rgba:"rgba("+i.join(",")+")",hex:Wb(r),hexa:Wb(e),isDark:s,isLight:!s,error:n}},t.prototype.destroy=function(){this.canvas&&(this.canvas.width=1,this.canvas.height=1,this.canvas=null),this.ctx=null},t.prototype.bindImageEvents=function(e,n){var r=this;return new Promise(function(i,s){var o=function(){f();var h=r.getColor(e,n);h.error?s(h.error):i(h)},l=function(){f(),s(Or('Error loading image "'.concat(e.src,'".')))},c=function(){f(),s(Or('Image "'.concat(e.src,'" loading aborted')))},f=function(){e.removeEventListener("load",o),e.removeEventListener("error",l),e.removeEventListener("abort",c)};e.addEventListener("load",o),e.addEventListener("error",l),e.addEventListener("abort",c)})},t}();/*!
 * iro.js v5.5.2
 * 2016-2021 James Daniel
 * Licensed under MPL 2.0
 * github.com/jaames/iro.js
 */var it,vh,xx,L0,Ox,hs={},Ky=[],xG=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|^--/i;function Ji(t,e){for(var n in e)t[n]=e[n];return t}function Nx(t){var e=t.parentNode;e&&e.removeChild(t)}function We(t,e,n){var r,i,s,o,l=arguments;if(e=Ji({},e),arguments.length>3)for(n=[n],r=3;r<arguments.length;r++)n.push(l[r]);if(n!=null&&(e.children=n),t!=null&&t.defaultProps!=null)for(i in t.defaultProps)e[i]===void 0&&(e[i]=t.defaultProps[i]);return o=e.key,(s=e.ref)!=null&&delete e.ref,o!=null&&delete e.key,F0(t,e,o,s)}function F0(t,e,n,r){var i={type:t,props:e,key:n,ref:r,__k:null,__p:null,__b:0,__e:null,l:null,__c:null,constructor:void 0};return it.vnode&&it.vnode(i),i}function lp(t){return t.children}function OG(t){if(t==null||typeof t=="boolean")return null;if(typeof t=="string"||typeof t=="number")return F0(null,t,null,null);if(t.__e!=null||t.__c!=null){var e=F0(t.type,t.props,t.key,null);return e.__e=t.__e,e}return t}function Ca(t,e){this.props=t,this.context=e}function _h(t,e){if(e==null)return t.__p?_h(t.__p,t.__p.__k.indexOf(t)+1):null;for(var n;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null)return n.__e;return typeof t.type=="function"?_h(t):null}function Px(t){var e,n;if((t=t.__p)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null){t.__e=t.__c.base=n.__e;break}return Px(t)}}function jm(t){(!t.__d&&(t.__d=!0)&&vh.push(t)===1||L0!==it.debounceRendering)&&(L0=it.debounceRendering,(it.debounceRendering||xx)(NG))}function NG(){var t,e,n,r,i,s,o,l;for(vh.sort(function(c,f){return f.__v.__b-c.__v.__b});t=vh.pop();)t.__d&&(n=void 0,r=void 0,s=(i=(e=t).__v).__e,o=e.__P,l=e.u,e.u=!1,o&&(n=[],r=Yy(o,i,Ji({},i),e.__n,o.ownerSVGElement!==void 0,null,n,l,s??_h(i)),Lx(n,i),r!=s&&Px(i)))}function Dx(t,e,n,r,i,s,o,l,c){var f,h,p,g,v,I,T,R=n&&n.__k||Ky,w=R.length;if(l==hs&&(l=s!=null?s[0]:w?_h(n,0):null),f=0,e.__k=qy(e.__k,function(E){if(E!=null){if(E.__p=e,E.__b=e.__b+1,(p=R[f])===null||p&&E.key==p.key&&E.type===p.type)R[f]=void 0;else for(h=0;h<w;h++){if((p=R[h])&&E.key==p.key&&E.type===p.type){R[h]=void 0;break}p=null}if(g=Yy(t,E,p=p||hs,r,i,s,o,null,l,c),(h=E.ref)&&p.ref!=h&&(T||(T=[])).push(h,E.__c||g,E),g!=null){if(I==null&&(I=g),E.l!=null)g=E.l,E.l=null;else if(s==p||g!=l||g.parentNode==null){e:if(l==null||l.parentNode!==t)t.appendChild(g);else{for(v=l,h=0;(v=v.nextSibling)&&h<w;h+=2)if(v==g)break e;t.insertBefore(g,l)}e.type=="option"&&(t.value="")}l=g.nextSibling,typeof e.type=="function"&&(e.l=g)}}return f++,E}),e.__e=I,s!=null&&typeof e.type!="function")for(f=s.length;f--;)s[f]!=null&&Nx(s[f]);for(f=w;f--;)R[f]!=null&&Mx(R[f],R[f]);if(T)for(f=0;f<T.length;f++)Fx(T[f],T[++f],T[++f])}function qy(t,e,n){if(n==null&&(n=[]),t==null||typeof t=="boolean")e&&n.push(e(null));else if(Array.isArray(t))for(var r=0;r<t.length;r++)qy(t[r],e,n);else n.push(e?e(OG(t)):t);return n}function PG(t,e,n,r,i){var s;for(s in n)s in e||qb(t,s,null,n[s],r);for(s in e)i&&typeof e[s]!="function"||s==="value"||s==="checked"||n[s]===e[s]||qb(t,s,e[s],n[s],r)}function Kb(t,e,n){e[0]==="-"?t.setProperty(e,n):t[e]=typeof n=="number"&&xG.test(e)===!1?n+"px":n??""}function qb(t,e,n,r,i){var s,o,l,c,f;if(!((e=i?e==="className"?"class":e:e==="class"?"className":e)==="key"||e==="children"))if(e==="style")if(s=t.style,typeof n=="string")s.cssText=n;else{if(typeof r=="string"&&(s.cssText="",r=null),r)for(o in r)n&&o in n||Kb(s,o,"");if(n)for(l in n)r&&n[l]===r[l]||Kb(s,l,n[l])}else e[0]==="o"&&e[1]==="n"?(c=e!==(e=e.replace(/Capture$/,"")),f=e.toLowerCase(),e=(f in t?f:e).slice(2),n?(r||t.addEventListener(e,Yb,c),(t.t||(t.t={}))[e]=n):t.removeEventListener(e,Yb,c)):e!=="list"&&e!=="tagName"&&e!=="form"&&!i&&e in t?t[e]=n??"":typeof n!="function"&&e!=="dangerouslySetInnerHTML"&&(e!==(e=e.replace(/^xlink:?/,""))?n==null||n===!1?t.removeAttributeNS("http://www.w3.org/1999/xlink",e.toLowerCase()):t.setAttributeNS("http://www.w3.org/1999/xlink",e.toLowerCase(),n):n==null||n===!1?t.removeAttribute(e):t.setAttribute(e,n))}function Yb(t){return this.t[t.type](it.event?it.event(t):t)}function Yy(t,e,n,r,i,s,o,l,c,f){var h,p,g,v,I,T,R,w,E,b,O=e.type;if(e.constructor!==void 0)return null;(h=it.__b)&&h(e);try{e:if(typeof O=="function"){if(w=e.props,E=(h=O.contextType)&&r[h.__c],b=h?E?E.props.value:h.__p:r,n.__c?R=(p=e.__c=n.__c).__p=p.__E:("prototype"in O&&O.prototype.render?e.__c=p=new O(w,b):(e.__c=p=new Ca(w,b),p.constructor=O,p.render=LG),E&&E.sub(p),p.props=w,p.state||(p.state={}),p.context=b,p.__n=r,g=p.__d=!0,p.__h=[]),p.__s==null&&(p.__s=p.state),O.getDerivedStateFromProps!=null&&Ji(p.__s==p.state?p.__s=Ji({},p.__s):p.__s,O.getDerivedStateFromProps(w,p.__s)),g)O.getDerivedStateFromProps==null&&p.componentWillMount!=null&&p.componentWillMount(),p.componentDidMount!=null&&o.push(p);else{if(O.getDerivedStateFromProps==null&&l==null&&p.componentWillReceiveProps!=null&&p.componentWillReceiveProps(w,b),!l&&p.shouldComponentUpdate!=null&&p.shouldComponentUpdate(w,p.__s,b)===!1){for(p.props=w,p.state=p.__s,p.__d=!1,p.__v=e,e.__e=c!=null?c!==n.__e?c:n.__e:null,e.__k=n.__k,h=0;h<e.__k.length;h++)e.__k[h]&&(e.__k[h].__p=e);break e}p.componentWillUpdate!=null&&p.componentWillUpdate(w,p.__s,b)}for(v=p.props,I=p.state,p.context=b,p.props=w,p.state=p.__s,(h=it.__r)&&h(e),p.__d=!1,p.__v=e,p.__P=t,h=p.render(p.props,p.state,p.context),e.__k=qy(h!=null&&h.type==lp&&h.key==null?h.props.children:h),p.getChildContext!=null&&(r=Ji(Ji({},r),p.getChildContext())),g||p.getSnapshotBeforeUpdate==null||(T=p.getSnapshotBeforeUpdate(v,I)),Dx(t,e,n,r,i,s,o,c,f),p.base=e.__e;h=p.__h.pop();)p.__s&&(p.state=p.__s),h.call(p);g||v==null||p.componentDidUpdate==null||p.componentDidUpdate(v,I,T),R&&(p.__E=p.__p=null)}else e.__e=DG(n.__e,e,n,r,i,s,o,f);(h=it.diffed)&&h(e)}catch(B){it.__e(B,e,n)}return e.__e}function Lx(t,e){for(var n;n=t.pop();)try{n.componentDidMount()}catch(r){it.__e(r,n.__v)}it.__c&&it.__c(e)}function DG(t,e,n,r,i,s,o,l){var c,f,h,p,g=n.props,v=e.props;if(i=e.type==="svg"||i,t==null&&s!=null){for(c=0;c<s.length;c++)if((f=s[c])!=null&&(e.type===null?f.nodeType===3:f.localName===e.type)){t=f,s[c]=null;break}}if(t==null){if(e.type===null)return document.createTextNode(v);t=i?document.createElementNS("http://www.w3.org/2000/svg",e.type):document.createElement(e.type),s=null}return e.type===null?g!==v&&(s!=null&&(s[s.indexOf(t)]=null),t.data=v):e!==n&&(s!=null&&(s=Ky.slice.call(t.childNodes)),h=(g=n.props||hs).dangerouslySetInnerHTML,p=v.dangerouslySetInnerHTML,l||(p||h)&&(p&&h&&p.__html==h.__html||(t.innerHTML=p&&p.__html||"")),PG(t,v,g,i,l),e.__k=e.props.children,p||Dx(t,e,n,r,e.type!=="foreignObject"&&i,s,o,hs,l),l||("value"in v&&v.value!==void 0&&v.value!==t.value&&(t.value=v.value==null?"":v.value),"checked"in v&&v.checked!==void 0&&v.checked!==t.checked&&(t.checked=v.checked))),t}function Fx(t,e,n){try{typeof t=="function"?t(e):t.current=e}catch(r){it.__e(r,n)}}function Mx(t,e,n){var r,i,s;if(it.unmount&&it.unmount(t),(r=t.ref)&&Fx(r,null,e),n||typeof t.type=="function"||(n=(i=t.__e)!=null),t.__e=t.l=null,(r=t.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(o){it.__e(o,e)}r.base=r.__P=null}if(r=t.__k)for(s=0;s<r.length;s++)r[s]&&Mx(r[s],e,n);i!=null&&Nx(i)}function LG(t,e,n){return this.constructor(t,n)}function FG(t,e,n){var r,i,s;it.__p&&it.__p(t,e),i=(r=n===Ox)?null:n&&n.__k||e.__k,t=We(lp,null,[t]),s=[],Yy(e,r?e.__k=t:(n||e).__k=t,i||hs,hs,e.ownerSVGElement!==void 0,n&&!r?[n]:i?null:Ky.slice.call(e.childNodes),s,!1,n||hs,r),Lx(s,t)}it={},Ca.prototype.setState=function(t,e){var n=this.__s!==this.state&&this.__s||(this.__s=Ji({},this.state));(typeof t!="function"||(t=t(n,this.props)))&&Ji(n,t),t!=null&&this.__v&&(this.u=!1,e&&this.__h.push(e),jm(this))},Ca.prototype.forceUpdate=function(t){this.__v&&(t&&this.__h.push(t),this.u=!0,jm(this))},Ca.prototype.render=lp,vh=[],xx=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,L0=it.debounceRendering,it.__e=function(t,e,n){for(var r;e=e.__p;)if((r=e.__c)&&!r.__p)try{if(r.constructor&&r.constructor.getDerivedStateFromError!=null)r.setState(r.constructor.getDerivedStateFromError(t));else{if(r.componentDidCatch==null)continue;r.componentDidCatch(t)}return jm(r.__E=r)}catch(i){t=i}throw t},Ox=hs;function Qb(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function MG(t,e,n){return e&&Qb(t.prototype,e),n&&Qb(t,n),t}function hn(){return hn=Object.assign||function(t){for(var e=arguments,n=1;n<arguments.length;n++){var r=e[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},hn.apply(this,arguments)}var UG="[-\\+]?\\d+%?",BG="[-\\+]?\\d*\\.\\d+%?",Ys="(?:"+BG+")|(?:"+UG+")",Ux="[\\s|\\(]+("+Ys+")[,|\\s]+("+Ys+")[,|\\s]+("+Ys+")\\s*\\)?",Bx="[\\s|\\(]+("+Ys+")[,|\\s]+("+Ys+")[,|\\s]+("+Ys+")[,|\\s]+("+Ys+")\\s*\\)?",$G=new RegExp("rgb"+Ux),jG=new RegExp("rgba"+Bx),VG=new RegExp("hsl"+Ux),WG=new RegExp("hsla"+Bx),up="^(?:#?|0x?)",Qs="([0-9a-fA-F]{1})",Js="([0-9a-fA-F]{2})",zG=new RegExp(up+Qs+Qs+Qs+"$"),GG=new RegExp(up+Qs+Qs+Qs+Qs+"$"),HG=new RegExp(up+Js+Js+Js+"$"),KG=new RegExp(up+Js+Js+Js+Js+"$"),qG=2e3,YG=4e4,jf=Math.log,jo=Math.round,Wl=Math.floor;function Hn(t,e,n){return Math.min(Math.max(t,e),n)}function fn(t,e){var n=t.indexOf("%")>-1,r=parseFloat(t);return n?e/100*r:r}function dn(t){return parseInt(t,16)}function Us(t){return t.toString(16).padStart(2,"0")}var la=function(){function t(n,r){this.$={h:0,s:0,v:0,a:1},n&&this.set(n),this.onChange=r,this.initialValue=hn({},this.$)}var e=t.prototype;return e.set=function(r){if(typeof r=="string")/^(?:#?|0x?)[0-9a-fA-F]{3,8}$/.test(r)?this.hexString=r:/^rgba?/.test(r)?this.rgbString=r:/^hsla?/.test(r)&&(this.hslString=r);else if(typeof r=="object")r instanceof t?this.hsva=r.hsva:"r"in r&&"g"in r&&"b"in r?this.rgb=r:"h"in r&&"s"in r&&"v"in r?this.hsv=r:"h"in r&&"s"in r&&"l"in r?this.hsl=r:"kelvin"in r&&(this.kelvin=r.kelvin);else throw new Error("Invalid color value")},e.setChannel=function(r,i,s){var o;this[r]=hn({},this[r],(o={},o[i]=s,o))},e.reset=function(){this.hsva=this.initialValue},e.clone=function(){return new t(this)},e.unbind=function(){this.onChange=void 0},t.hsvToRgb=function(r){var i=r.h/60,s=r.s/100,o=r.v/100,l=Wl(i),c=i-l,f=o*(1-s),h=o*(1-c*s),p=o*(1-(1-c)*s),g=l%6,v=[o,h,f,f,p,o][g],I=[p,o,o,h,f,f][g],T=[f,f,p,o,o,h][g];return{r:Hn(v*255,0,255),g:Hn(I*255,0,255),b:Hn(T*255,0,255)}},t.rgbToHsv=function(r){var i=r.r/255,s=r.g/255,o=r.b/255,l=Math.max(i,s,o),c=Math.min(i,s,o),f=l-c,h=0,p=l,g=l===0?0:f/l;switch(l){case c:h=0;break;case i:h=(s-o)/f+(s<o?6:0);break;case s:h=(o-i)/f+2;break;case o:h=(i-s)/f+4;break}return{h:h*60%360,s:Hn(g*100,0,100),v:Hn(p*100,0,100)}},t.hsvToHsl=function(r){var i=r.s/100,s=r.v/100,o=(2-i)*s,l=o<=1?o:2-o,c=l<1e-9?0:i*s/l;return{h:r.h,s:Hn(c*100,0,100),l:Hn(o*50,0,100)}},t.hslToHsv=function(r){var i=r.l*2,s=r.s*(i<=100?i:200-i)/100,o=i+s<1e-9?0:2*s/(i+s);return{h:r.h,s:Hn(o*100,0,100),v:Hn((i+s)/2,0,100)}},t.kelvinToRgb=function(r){var i=r/100,s,o,l;return i<66?(s=255,o=-155.25485562709179-.44596950469579133*(o=i-2)+104.49216199393888*jf(o),l=i<20?0:-254.76935184120902+.8274096064007395*(l=i-10)+115.67994401066147*jf(l)):(s=351.97690566805693+.114206453784165*(s=i-55)-40.25366309332127*jf(s),o=325.4494125711974+.07943456536662342*(o=i-50)-28.0852963507957*jf(o),l=255),{r:Hn(Wl(s),0,255),g:Hn(Wl(o),0,255),b:Hn(Wl(l),0,255)}},t.rgbToKelvin=function(r){for(var i=r.r,s=r.b,o=.4,l=qG,c=YG,f;c-l>o;){f=(c+l)*.5;var h=t.kelvinToRgb(f);h.b/h.r>=s/i?c=f:l=f}return f},MG(t,[{key:"hsv",get:function(){var r=this.$;return{h:r.h,s:r.s,v:r.v}},set:function(r){var i=this.$;if(r=hn({},i,r),this.onChange){var s={h:!1,v:!1,s:!1,a:!1};for(var o in i)s[o]=r[o]!=i[o];this.$=r,(s.h||s.s||s.v||s.a)&&this.onChange(this,s)}else this.$=r}},{key:"hsva",get:function(){return hn({},this.$)},set:function(r){this.hsv=r}},{key:"hue",get:function(){return this.$.h},set:function(r){this.hsv={h:r}}},{key:"saturation",get:function(){return this.$.s},set:function(r){this.hsv={s:r}}},{key:"value",get:function(){return this.$.v},set:function(r){this.hsv={v:r}}},{key:"alpha",get:function(){return this.$.a},set:function(r){this.hsv=hn({},this.hsv,{a:r})}},{key:"kelvin",get:function(){return t.rgbToKelvin(this.rgb)},set:function(r){this.rgb=t.kelvinToRgb(r)}},{key:"red",get:function(){var r=this.rgb;return r.r},set:function(r){this.rgb=hn({},this.rgb,{r})}},{key:"green",get:function(){var r=this.rgb;return r.g},set:function(r){this.rgb=hn({},this.rgb,{g:r})}},{key:"blue",get:function(){var r=this.rgb;return r.b},set:function(r){this.rgb=hn({},this.rgb,{b:r})}},{key:"rgb",get:function(){var r=t.hsvToRgb(this.$),i=r.r,s=r.g,o=r.b;return{r:jo(i),g:jo(s),b:jo(o)}},set:function(r){this.hsv=hn({},t.rgbToHsv(r),{a:r.a===void 0?1:r.a})}},{key:"rgba",get:function(){return hn({},this.rgb,{a:this.alpha})},set:function(r){this.rgb=r}},{key:"hsl",get:function(){var r=t.hsvToHsl(this.$),i=r.h,s=r.s,o=r.l;return{h:jo(i),s:jo(s),l:jo(o)}},set:function(r){this.hsv=hn({},t.hslToHsv(r),{a:r.a===void 0?1:r.a})}},{key:"hsla",get:function(){return hn({},this.hsl,{a:this.alpha})},set:function(r){this.hsl=r}},{key:"rgbString",get:function(){var r=this.rgb;return"rgb("+r.r+", "+r.g+", "+r.b+")"},set:function(r){var i,s,o,l,c=1;if((i=$G.exec(r))?(s=fn(i[1],255),o=fn(i[2],255),l=fn(i[3],255)):(i=jG.exec(r))&&(s=fn(i[1],255),o=fn(i[2],255),l=fn(i[3],255),c=fn(i[4],1)),i)this.rgb={r:s,g:o,b:l,a:c};else throw new Error("Invalid rgb string")}},{key:"rgbaString",get:function(){var r=this.rgba;return"rgba("+r.r+", "+r.g+", "+r.b+", "+r.a+")"},set:function(r){this.rgbString=r}},{key:"hexString",get:function(){var r=this.rgb;return"#"+Us(r.r)+Us(r.g)+Us(r.b)},set:function(r){var i,s,o,l,c=255;if((i=zG.exec(r))?(s=dn(i[1])*17,o=dn(i[2])*17,l=dn(i[3])*17):(i=GG.exec(r))?(s=dn(i[1])*17,o=dn(i[2])*17,l=dn(i[3])*17,c=dn(i[4])*17):(i=HG.exec(r))?(s=dn(i[1]),o=dn(i[2]),l=dn(i[3])):(i=KG.exec(r))&&(s=dn(i[1]),o=dn(i[2]),l=dn(i[3]),c=dn(i[4])),i)this.rgb={r:s,g:o,b:l,a:c/255};else throw new Error("Invalid hex string")}},{key:"hex8String",get:function(){var r=this.rgba;return"#"+Us(r.r)+Us(r.g)+Us(r.b)+Us(Wl(r.a*255))},set:function(r){this.hexString=r}},{key:"hslString",get:function(){var r=this.hsl;return"hsl("+r.h+", "+r.s+"%, "+r.l+"%)"},set:function(r){var i,s,o,l,c=1;if((i=VG.exec(r))?(s=fn(i[1],360),o=fn(i[2],100),l=fn(i[3],100)):(i=WG.exec(r))&&(s=fn(i[1],360),o=fn(i[2],100),l=fn(i[3],100),c=fn(i[4],1)),i)this.hsl={h:s,s:o,l,a:c};else throw new Error("Invalid hsl string")}},{key:"hslaString",get:function(){var r=this.hsla;return"hsla("+r.h+", "+r.s+"%, "+r.l+"%, "+r.a+")"},set:function(r){this.hslString=r}}]),t}(),QG={sliderShape:"bar",sliderType:"value",minTemperature:2200,maxTemperature:11e3};function Qy(t){var e,n=t.width,r=t.sliderSize,i=t.borderWidth,s=t.handleRadius,o=t.padding,l=t.sliderShape,c=t.layoutDirection==="horizontal";return r=(e=r)!=null?e:o*2+s*2,l==="circle"?{handleStart:t.padding+t.handleRadius,handleRange:n-o*2-s*2,width:n,height:n,cx:n/2,cy:n/2,radius:n/2-i/2}:{handleStart:r/2,handleRange:n-r,radius:r/2,x:0,y:0,width:c?r:n,height:c?n:r}}function JG(t,e){var n=e.hsva,r=e.rgb;switch(t.sliderType){case"red":return r.r/2.55;case"green":return r.g/2.55;case"blue":return r.b/2.55;case"alpha":return n.a*100;case"kelvin":var i=t.minTemperature,s=t.maxTemperature,o=s-i,l=(e.kelvin-i)/o*100;return Math.max(0,Math.min(l,100));case"hue":return n.h/=3.6;case"saturation":return n.s;case"value":default:return n.v}}function XG(t,e,n){var r=Qy(t),i=r.handleRange,s=r.handleStart,o;t.layoutDirection==="horizontal"?o=-1*n+i+s:o=e-s,o=Math.max(Math.min(o,i),0);var l=Math.round(100/i*o);switch(t.sliderType){case"kelvin":var c=t.minTemperature,f=t.maxTemperature,h=f-c;return c+h*(l/100);case"alpha":return l/100;case"hue":return l*3.6;case"red":case"blue":case"green":return l*2.55;default:return l}}function ZG(t,e){var n=Qy(t),r=n.width,i=n.height,s=n.handleRange,o=n.handleStart,l=t.layoutDirection==="horizontal",c=JG(t,e),f=l?r/2:i/2,h=o+c/100*s;return l&&(h=-1*h+s+o*2),{x:l?f:h,y:l?h:f}}function eH(t,e){var n=e.hsv,r=e.rgb;switch(t.sliderType){case"red":return[[0,"rgb("+0+","+r.g+","+r.b+")"],[100,"rgb("+255+","+r.g+","+r.b+")"]];case"green":return[[0,"rgb("+r.r+","+0+","+r.b+")"],[100,"rgb("+r.r+","+255+","+r.b+")"]];case"blue":return[[0,"rgb("+r.r+","+r.g+","+0+")"],[100,"rgb("+r.r+","+r.g+","+255+")"]];case"alpha":return[[0,"rgba("+r.r+","+r.g+","+r.b+",0)"],[100,"rgb("+r.r+","+r.g+","+r.b+")"]];case"kelvin":for(var i=[],s=t.minTemperature,o=t.maxTemperature,l=8,c=o-s,f=s,h=0;f<o;f+=c/l,h+=1){var p=la.kelvinToRgb(f),g=p.r,v=p.g,I=p.b;i.push([100/l*h,"rgb("+g+","+v+","+I+")"])}return i;case"hue":return[[0,"#f00"],[16.666,"#ff0"],[33.333,"#0f0"],[50,"#0ff"],[66.666,"#00f"],[83.333,"#f0f"],[100,"#f00"]];case"saturation":var T=la.hsvToHsl({h:n.h,s:0,v:n.v}),R=la.hsvToHsl({h:n.h,s:100,v:n.v});return[[0,"hsl("+T.h+","+T.s+"%,"+T.l+"%)"],[100,"hsl("+R.h+","+R.s+"%,"+R.l+"%)"]];case"value":default:var w=la.hsvToHsl({h:n.h,s:n.s,v:100});return[[0,"#000"],[100,"hsl("+w.h+","+w.s+"%,"+w.l+"%)"]]}}var $x=Math.PI*2,tH=function(e,n){return(e%n+n)%n},jx=function(e,n){return Math.sqrt(e*e+n*n)};function Vx(t){return t.width/2-t.padding-t.handleRadius-t.borderWidth}function nH(t,e,n){var r=cp(t),i=r.cx,s=r.cy,o=t.width/2;return jx(i-e,s-n)<o}function cp(t){var e=t.width/2;return{width:t.width,radius:e-t.borderWidth,cx:e,cy:e}}function Wx(t,e,n){var r=t.wheelAngle,i=t.wheelDirection;return n&&i==="clockwise"?e=r+e:i==="clockwise"?e=360-r+e:n&&i==="anticlockwise"?e=r+180-e:i==="anticlockwise"&&(e=r-e),tH(e,360)}function rH(t,e){var n=e.hsv,r=cp(t),i=r.cx,s=r.cy,o=Vx(t),l=(180+Wx(t,n.h,!0))*($x/360),c=n.s/100*o,f=t.wheelDirection==="clockwise"?-1:1;return{x:i+c*Math.cos(l)*f,y:s+c*Math.sin(l)*f}}function Jb(t,e,n){var r=cp(t),i=r.cx,s=r.cy,o=Vx(t);e=i-e,n=s-n;var l=Wx(t,Math.atan2(-n,-e)*(360/$x)),c=Math.min(jx(e,n),o);return{h:Math.round(l),s:Math.round(100/o*c)}}function Jy(t){var e=t.width,n=t.boxHeight,r=t.padding,i=t.handleRadius;return{width:e,height:n??e,radius:r+i}}function Xb(t,e,n){var r=Jy(t),i=r.width,s=r.height,o=r.radius,l=o,c=i-o*2,f=s-o*2,h=(e-l)/c*100,p=(n-l)/f*100;return{s:Math.max(0,Math.min(h,100)),v:Math.max(0,Math.min(100-p,100))}}function iH(t,e){var n=Jy(t),r=n.width,i=n.height,s=n.radius,o=e.hsv,l=s,c=r-s*2,f=i-s*2;return{x:l+o.s/100*c,y:l+(f-o.v/100*f)}}function sH(t,e){var n=e.hue;return[[[0,"#fff"],[100,"hsl("+n+",100%,50%)"]],[[0,"rgba(0,0,0,0)"],[100,"#000"]]]}var Vm;function oH(t){Vm||(Vm=document.getElementsByTagName("base"));var e=window.navigator.userAgent,n=/^((?!chrome|android).)*safari/i.test(e),r=/iPhone|iPod|iPad/i.test(e),i=window.location;return(n||r)&&Vm.length>0?i.protocol+"//"+i.host+i.pathname+i.search+t:t}function zx(t,e,n,r){for(var i=0;i<r.length;i++){var s=r[i].x-e,o=r[i].y-n,l=Math.sqrt(s*s+o*o);if(l<t.handleRadius)return i}return null}function Xy(t){return{boxSizing:"border-box",border:t.borderWidth+"px solid "+t.borderColor}}function M0(t,e,n){return t+"-gradient("+e+", "+n.map(function(r){var i=r[0],s=r[1];return s+" "+i+"%"}).join(",")+")"}function en(t){return typeof t=="string"?t:t+"px"}var aH={width:300,height:300,color:"#fff",colors:[],padding:6,layoutDirection:"vertical",borderColor:"#fff",borderWidth:0,handleRadius:8,activeHandleRadius:null,handleSvg:null,handleProps:{x:0,y:0},wheelLightness:!0,wheelAngle:0,wheelDirection:"anticlockwise",sliderSize:null,sliderMargin:12,boxHeight:null},Zb=["mousemove","touchmove","mouseup","touchend"],fp=function(t){function e(n){t.call(this,n),this.uid=(Math.random()+1).toString(36).substring(5)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.render=function(r){var i=this.handleEvent.bind(this),s={onMouseDown:i,ontouchstart:i},o=r.layoutDirection==="horizontal",l=r.margin===null?r.sliderMargin:r.margin,c={overflow:"visible",display:o?"inline-block":"block"};return r.index>0&&(c[o?"marginLeft":"marginTop"]=l),We(lp,null,r.children(this.uid,s,c))},e.prototype.handleEvent=function(r){var i=this,s=this.props.onInput,o=this.base.getBoundingClientRect();r.preventDefault();var l=r.touches?r.changedTouches[0]:r,c=l.clientX-o.left,f=l.clientY-o.top;switch(r.type){case"mousedown":case"touchstart":var h=s(c,f,0);h!==!1&&Zb.forEach(function(p){document.addEventListener(p,i,{passive:!1})});break;case"mousemove":case"touchmove":s(c,f,1);break;case"mouseup":case"touchend":s(c,f,2),Zb.forEach(function(p){document.removeEventListener(p,i,{passive:!1})});break}},e}(Ca);function po(t){var e=t.r,n=t.url,r=e,i=e;return We("svg",{className:"IroHandle IroHandle--"+t.index+" "+(t.isActive?"IroHandle--isActive":""),style:{"-webkit-tap-highlight-color":"rgba(0, 0, 0, 0);",transform:"translate("+en(t.x)+", "+en(t.y)+")",willChange:"transform",top:en(-e),left:en(-e),width:en(e*2),height:en(e*2),position:"absolute",overflow:"visible"}},n&&We("use",Object.assign({xlinkHref:oH(n)},t.props)),!n&&We("circle",{cx:r,cy:i,r:e,fill:"none","stroke-width":2,stroke:"#000"}),!n&&We("circle",{cx:r,cy:i,r:e-2,fill:t.fill,"stroke-width":2,stroke:"#fff"}))}po.defaultProps={fill:"none",x:0,y:0,r:8,url:null,props:{x:0,y:0}};function yh(t){var e=t.activeIndex,n=e!==void 0&&e<t.colors.length?t.colors[e]:t.color,r=Qy(t),i=r.width,s=r.height,o=r.radius,l=ZG(t,n),c=eH(t,n);function f(h,p,g){var v=XG(t,h,p);t.parent.inputActive=!0,n[t.sliderType]=v,t.onInput(g,t.id)}return We(fp,Object.assign({},t,{onInput:f}),function(h,p,g){return We("div",Object.assign({},p,{className:"IroSlider",style:Object.assign({},{position:"relative",width:en(i),height:en(s),borderRadius:en(o),background:"conic-gradient(#ccc 25%, #fff 0 50%, #ccc 0 75%, #fff 0)",backgroundSize:"8px 8px"},g)}),We("div",{className:"IroSliderGradient",style:Object.assign({},{position:"absolute",top:0,left:0,width:"100%",height:"100%",borderRadius:en(o),background:M0("linear",t.layoutDirection==="horizontal"?"to top":"to right",c)},Xy(t))}),We(po,{isActive:!0,index:n.index,r:t.handleRadius,url:t.handleSvg,props:t.handleProps,x:l.x,y:l.y}))})}yh.defaultProps=Object.assign({},QG);function lH(t){var e=Jy(t),n=e.width,r=e.height,i=e.radius,s=t.colors,o=t.parent,l=t.activeIndex,c=l!==void 0&&l<t.colors.length?t.colors[l]:t.color,f=sH(t,c),h=s.map(function(g){return iH(t,g)});function p(g,v,I){if(I===0){var T=zx(t,g,v,h);T!==null?o.setActiveColor(T):(o.inputActive=!0,c.hsv=Xb(t,g,v),t.onInput(I,t.id))}else I===1&&(o.inputActive=!0,c.hsv=Xb(t,g,v));t.onInput(I,t.id)}return We(fp,Object.assign({},t,{onInput:p}),function(g,v,I){return We("div",Object.assign({},v,{className:"IroBox",style:Object.assign({},{width:en(n),height:en(r),position:"relative"},I)}),We("div",{className:"IroBox",style:Object.assign({},{width:"100%",height:"100%",borderRadius:en(i)},Xy(t),{background:M0("linear","to bottom",f[1])+","+M0("linear","to right",f[0])})}),s.filter(function(T){return T!==c}).map(function(T){return We(po,{isActive:!1,index:T.index,fill:T.hslString,r:t.handleRadius,url:t.handleSvg,props:t.handleProps,x:h[T.index].x,y:h[T.index].y})}),We(po,{isActive:!0,index:c.index,fill:c.hslString,r:t.activeHandleRadius||t.handleRadius,url:t.handleSvg,props:t.handleProps,x:h[c.index].x,y:h[c.index].y}))})}var uH="conic-gradient(red, yellow, lime, aqua, blue, magenta, red)",cH="conic-gradient(red, magenta, blue, aqua, lime, yellow, red)";function Gx(t){var e=cp(t),n=e.width,r=t.colors;t.borderWidth;var i=t.parent,s=t.color,o=s.hsv,l=r.map(function(h){return rH(t,h)}),c={position:"absolute",top:0,left:0,width:"100%",height:"100%",borderRadius:"50%",boxSizing:"border-box"};function f(h,p,g){if(g===0){if(!nH(t,h,p))return!1;var v=zx(t,h,p,l);v!==null?i.setActiveColor(v):(i.inputActive=!0,s.hsv=Jb(t,h,p),t.onInput(g,t.id))}else g===1&&(i.inputActive=!0,s.hsv=Jb(t,h,p));t.onInput(g,t.id)}return We(fp,Object.assign({},t,{onInput:f}),function(h,p,g){return We("div",Object.assign({},p,{className:"IroWheel",style:Object.assign({},{width:en(n),height:en(n),position:"relative"},g)}),We("div",{className:"IroWheelHue",style:Object.assign({},c,{transform:"rotateZ("+(t.wheelAngle+90)+"deg)",background:t.wheelDirection==="clockwise"?uH:cH})}),We("div",{className:"IroWheelSaturation",style:Object.assign({},c,{background:"radial-gradient(circle closest-side, #fff, transparent)"})}),t.wheelLightness&&We("div",{className:"IroWheelLightness",style:Object.assign({},c,{background:"#000",opacity:1-o.v/100})}),We("div",{className:"IroWheelBorder",style:Object.assign({},c,Xy(t))}),r.filter(function(v){return v!==s}).map(function(v){return We(po,{isActive:!1,index:v.index,fill:v.hslString,r:t.handleRadius,url:t.handleSvg,props:t.handleProps,x:l[v.index].x,y:l[v.index].y})}),We(po,{isActive:!0,index:s.index,fill:s.hslString,r:t.activeHandleRadius||t.handleRadius,url:t.handleSvg,props:t.handleProps,x:l[s.index].x,y:l[s.index].y}))})}function fH(t){var e=function(n,r){var i,s=document.createElement("div");FG(We(t,Object.assign({},{ref:function(l){return i=l}},r)),s);function o(){var l=n instanceof Element?n:document.querySelector(n);l.appendChild(i.base),i.onMount(l)}return document.readyState!=="loading"?o():document.addEventListener("DOMContentLoaded",o),i};return e.prototype=t.prototype,Object.assign(e,t),e.__component=t,e}var Hx=function(t){function e(n){var r=this;t.call(this,n),this.colors=[],this.inputActive=!1,this.events={},this.activeEvents={},this.deferredEvents={},this.id=n.id;var i=n.colors.length>0?n.colors:[n.color];i.forEach(function(s){return r.addColor(s)}),this.setActiveColor(0),this.state=Object.assign({},n,{color:this.color,colors:this.colors,layout:n.layout})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.addColor=function(r,i){i===void 0&&(i=this.colors.length);var s=new la(r,this.onColorChange.bind(this));this.colors.splice(i,0,s),this.colors.forEach(function(o,l){return o.index=l}),this.state&&this.setState({colors:this.colors}),this.deferredEmit("color:init",s)},e.prototype.removeColor=function(r){var i=this.colors.splice(r,1)[0];i.unbind(),this.colors.forEach(function(s,o){return s.index=o}),this.state&&this.setState({colors:this.colors}),i.index===this.color.index&&this.setActiveColor(0),this.emit("color:remove",i)},e.prototype.setActiveColor=function(r){this.color=this.colors[r],this.state&&this.setState({color:this.color}),this.emit("color:setActive",this.color)},e.prototype.setColors=function(r,i){var s=this;i===void 0&&(i=0),this.colors.forEach(function(o){return o.unbind()}),this.colors=[],r.forEach(function(o){return s.addColor(o)}),this.setActiveColor(i),this.emit("color:setAll",this.colors)},e.prototype.on=function(r,i){var s=this,o=this.events;(Array.isArray(r)?r:[r]).forEach(function(l){(o[l]||(o[l]=[])).push(i),s.deferredEvents[l]&&(s.deferredEvents[l].forEach(function(c){i.apply(null,c)}),s.deferredEvents[l]=[])})},e.prototype.off=function(r,i){var s=this;(Array.isArray(r)?r:[r]).forEach(function(o){var l=s.events[o];l&&l.splice(l.indexOf(i),1)})},e.prototype.emit=function(r){for(var i=this,s=[],o=arguments.length-1;o-- >0;)s[o]=arguments[o+1];var l=this.activeEvents,c=l.hasOwnProperty(r)?l[r]:!1;if(!c){l[r]=!0;var f=this.events[r]||[];f.forEach(function(h){return h.apply(i,s)}),l[r]=!1}},e.prototype.deferredEmit=function(r){for(var i,s=[],o=arguments.length-1;o-- >0;)s[o]=arguments[o+1];var l=this.deferredEvents;(i=this).emit.apply(i,[r].concat(s)),(l[r]||(l[r]=[])).push(s)},e.prototype.setOptions=function(r){this.setState(r)},e.prototype.resize=function(r){this.setOptions({width:r})},e.prototype.reset=function(){this.colors.forEach(function(r){return r.reset()}),this.setState({colors:this.colors})},e.prototype.onMount=function(r){this.el=r,this.deferredEmit("mount",this)},e.prototype.onColorChange=function(r,i){this.setState({color:this.color}),this.inputActive&&(this.inputActive=!1,this.emit("input:change",r,i)),this.emit("color:change",r,i)},e.prototype.emitInputEvent=function(r,i){r===0?this.emit("input:start",this.color,i):r===1?this.emit("input:move",this.color,i):r===2&&this.emit("input:end",this.color,i)},e.prototype.render=function(r,i){var s=this,o=i.layout;if(!Array.isArray(o)){switch(o){default:o=[{component:Gx},{component:yh}]}i.transparency&&o.push({component:yh,options:{sliderType:"alpha"}})}return We("div",{class:"IroColorPicker",id:i.id,style:{display:i.display}},o.map(function(l,c){var f=l.component,h=l.options;return We(f,Object.assign({},i,h,{ref:void 0,onInput:s.emitInputEvent.bind(s),parent:s,index:c}))}))},e}(Ca);Hx.defaultProps=Object.assign({},aH,{colors:[],display:"block",id:null,layout:"default",margin:null});var dH=fH(Hx),U0;(function(t){t.version="5.5.2",t.Color=la,t.ColorPicker=dH,function(e){e.h=We,e.ComponentBase=fp,e.Handle=po,e.Slider=yh,e.Wheel=Gx,e.Box=lH}(t.ui||(t.ui={}))})(U0||(U0={}));var ua=U0;function hH({type:t,onChange:e,color:n}){const r=Vt.useRef(null);return k.useEffect(()=>{let i;if(t==="kelvin"&&new ua.ColorPicker(r.current,{borderWidth:2,width:260,layout:[{component:ua.ui.Slider,options:{borderColor:"black",sliderType:"kelvin",sliderShape:"circle",layoutDirection:"horizontal"}}]}),t==="wheel"){let s=new ua.ColorPicker(r.current,{borderWidth:2,width:260,layout:[{component:ua.ui.Wheel,options:{borderColor:"transparent"}}]});s.on("color:change",o=>{e&&e(o.hexString)}),i=Va.on("color",o=>{s.setColors([o])})}return()=>{r.current&&(r.current.innerHTML="",i&&i())}},[]),k.useEffect(()=>{(n==="#ffffff"||dz(n)!=="#ffffff")&&Va.emit("color",n)},[n]),L.jsx("div",{className:"flex justify-center",ref:r})}function pH({type:t,onChange:e,color:n}){const r=Vt.useRef(null);return k.useEffect(()=>{let i;if(t==="kelvin"){let s=new ua.ColorPicker(r.current,{borderWidth:2,layout:[{component:ua.ui.Slider,options:{borderColor:"black",sliderType:"kelvin",sliderShape:"circle",layoutDirection:"horizontal"}}]});s.on("color:change",o=>{const l=Oa(o.kelvin||0,2200,11e3,-100,100);console.log("cct value",o.kelvin,l),e&&e(l)}),i=Va.on("cct",o=>{const l=Oa(o||0,-100,100,2200,11e3);s.color.kelvin=l})}return()=>{r.current&&(r.current.innerHTML="",i&&i())}},[]),k.useEffect(()=>{Va.emit("cct",n)},[n]),L.jsx("div",{className:"flex justify-center",ref:r})}function Sn(){return Sn=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Sn.apply(this,arguments)}function gH(t,[e,n]){return Math.min(n,Math.max(e,t))}function ca(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t?.(i),n===!1||!i.defaultPrevented)return e?.(i)}}function mH(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function Kx(...t){return e=>t.forEach(n=>mH(n,e))}function Ss(...t){return k.useCallback(Kx(...t),t)}function qx(t,e=[]){let n=[];function r(s,o){const l=k.createContext(o),c=n.length;n=[...n,o];function f(p){const{scope:g,children:v,...I}=p,T=g?.[t][c]||l,R=k.useMemo(()=>I,Object.values(I));return k.createElement(T.Provider,{value:R},v)}function h(p,g){const v=g?.[t][c]||l,I=k.useContext(v);if(I)return I;if(o!==void 0)return o;throw new Error(`\`${p}\` must be used within \`${s}\``)}return f.displayName=s+"Provider",[f,h]}const i=()=>{const s=n.map(o=>k.createContext(o));return function(l){const c=l?.[t]||s;return k.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return i.scopeName=t,[r,vH(i,...e)]}function vH(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((l,{useScope:c,scopeName:f})=>{const p=c(s)[`__scope${f}`];return{...l,...p}},{});return k.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function Yx(t){const e=k.useRef(t);return k.useEffect(()=>{e.current=t}),k.useMemo(()=>(...n)=>{var r;return(r=e.current)===null||r===void 0?void 0:r.call(e,...n)},[])}function _H({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,i]=yH({defaultProp:e,onChange:n}),s=t!==void 0,o=s?t:r,l=Yx(n),c=k.useCallback(f=>{if(s){const p=typeof f=="function"?f(t):f;p!==t&&l(p)}else i(f)},[s,t,i,l]);return[o,c]}function yH({defaultProp:t,onChange:e}){const n=k.useState(t),[r]=n,i=k.useRef(r),s=Yx(e);return k.useEffect(()=>{i.current!==r&&(s(r),i.current=r)},[r,i,s]),n}const wH=k.createContext(void 0);function EH(t){const e=k.useContext(wH);return t||e||"ltr"}function SH(t){const e=k.useRef({value:t,previous:t});return k.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}const CH=Boolean(globalThis?.document)?k.useLayoutEffect:()=>{};function bH(t){const[e,n]=k.useState(void 0);return CH(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let o,l;if("borderBoxSize"in s){const c=s.borderBoxSize,f=Array.isArray(c)?c[0]:c;o=f.inlineSize,l=f.blockSize}else o=t.offsetWidth,l=t.offsetHeight;n({width:o,height:l})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}const wh=k.forwardRef((t,e)=>{const{children:n,...r}=t,i=k.Children.toArray(n),s=i.find(TH);if(s){const o=s.props.children,l=i.map(c=>c===s?k.Children.count(o)>1?k.Children.only(null):k.isValidElement(o)?o.props.children:null:c);return k.createElement(B0,Sn({},r,{ref:e}),k.isValidElement(o)?k.cloneElement(o,void 0,l):null)}return k.createElement(B0,Sn({},r,{ref:e}),n)});wh.displayName="Slot";const B0=k.forwardRef((t,e)=>{const{children:n,...r}=t;return k.isValidElement(n)?k.cloneElement(n,{...RH(r,n.props),ref:Kx(e,n.ref)}):k.Children.count(n)>1?k.Children.only(null):null});B0.displayName="SlotClone";const IH=({children:t})=>k.createElement(k.Fragment,null,t);function TH(t){return k.isValidElement(t)&&t.type===IH}function RH(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...l)=>{s(...l),i(...l)}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}const AH=["a","button","div","h2","h3","img","label","li","nav","ol","p","span","svg","ul"],dp=AH.reduce((t,e)=>{const n=k.forwardRef((r,i)=>{const{asChild:s,...o}=r,l=s?wh:e;return k.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),k.createElement(l,Sn({},o,{ref:i}))});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function kH(t){const e=t+"CollectionProvider",[n,r]=qx(e),[i,s]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=v=>{const{scope:I,children:T}=v,R=Vt.useRef(null),w=Vt.useRef(new Map).current;return Vt.createElement(i,{scope:I,itemMap:w,collectionRef:R},T)},l=t+"CollectionSlot",c=Vt.forwardRef((v,I)=>{const{scope:T,children:R}=v,w=s(l,T),E=Ss(I,w.collectionRef);return Vt.createElement(wh,{ref:E},R)}),f=t+"CollectionItemSlot",h="data-radix-collection-item",p=Vt.forwardRef((v,I)=>{const{scope:T,children:R,...w}=v,E=Vt.useRef(null),b=Ss(I,E),O=s(f,T);return Vt.useEffect(()=>(O.itemMap.set(E,{ref:E,...w}),()=>void O.itemMap.delete(E))),Vt.createElement(wh,{[h]:"",ref:b},R)});function g(v){const I=s(t+"CollectionConsumer",v);return Vt.useCallback(()=>{const R=I.collectionRef.current;if(!R)return[];const w=Array.from(R.querySelectorAll(`[${h}]`));return Array.from(I.itemMap.values()).sort((O,B)=>w.indexOf(O.ref.current)-w.indexOf(B.ref.current))},[I.collectionRef,I.itemMap])}return[{Provider:o,Slot:c,ItemSlot:p},g,r]}const Qx=["PageUp","PageDown"],Jx=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Xx={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},Cc="Slider",[$0,xH,OH]=kH(Cc),[Zx,RK]=qx(Cc,[OH]),[NH,hp]=Zx(Cc),PH=k.forwardRef((t,e)=>{const{name:n,min:r=0,max:i=100,step:s=1,orientation:o="horizontal",disabled:l=!1,minStepsBetweenThumbs:c=0,defaultValue:f=[r],value:h,onValueChange:p=()=>{},onValueCommit:g=()=>{},inverted:v=!1,...I}=t,[T,R]=k.useState(null),w=Ss(e,Z=>R(Z)),E=k.useRef(new Set),b=k.useRef(0),O=o==="horizontal",B=T?Boolean(T.closest("form")):!0,q=O?DH:LH,[V=[],J]=_H({prop:h,defaultProp:f,onChange:Z=>{var fe;(fe=[...E.current][b.current])===null||fe===void 0||fe.focus(),p(Z)}}),D=k.useRef(V);function F(Z){const fe=zH(V,Z);le(Z,fe)}function Y(Z){le(Z,b.current)}function X(){const Z=D.current[b.current];V[b.current]!==Z&&g(V)}function le(Z,fe,{commit:ke}={commit:!1}){const ce=qH(s),z=YH(Math.round((Z-r)/s)*s+r,ce),ee=gH(z,[r,i]);J((se=[])=>{const oe=VH(se,ee,fe);if(KH(oe,c*s)){b.current=oe.indexOf(ee);const De=String(oe)!==String(se);return De&&ke&&g(oe),De?oe:se}else return se})}return k.createElement(NH,{scope:t.__scopeSlider,disabled:l,min:r,max:i,valueIndexToChangeRef:b,thumbs:E.current,values:V,orientation:o},k.createElement($0.Provider,{scope:t.__scopeSlider},k.createElement($0.Slot,{scope:t.__scopeSlider},k.createElement(q,Sn({"aria-disabled":l,"data-disabled":l?"":void 0},I,{ref:w,onPointerDown:ca(I.onPointerDown,()=>{l||(D.current=V)}),min:r,max:i,inverted:v,onSlideStart:l?void 0:F,onSlideMove:l?void 0:Y,onSlideEnd:l?void 0:X,onHomeKeyDown:()=>!l&&le(r,0,{commit:!0}),onEndKeyDown:()=>!l&&le(i,V.length-1,{commit:!0}),onStepKeyDown:({event:Z,direction:fe})=>{if(!l){const z=Qx.includes(Z.key)||Z.shiftKey&&Jx.includes(Z.key)?10:1,ee=b.current,se=V[ee],oe=s*z*fe;le(se+oe,ee,{commit:!0})}}})))),B&&V.map((Z,fe)=>k.createElement(jH,{key:fe,name:n?n+(V.length>1?"[]":""):void 0,value:Z})))}),[eO,tO]=Zx(Cc,{startEdge:"left",endEdge:"right",size:"width",direction:1}),DH=k.forwardRef((t,e)=>{const{min:n,max:r,dir:i,inverted:s,onSlideStart:o,onSlideMove:l,onSlideEnd:c,onStepKeyDown:f,...h}=t,[p,g]=k.useState(null),v=Ss(e,b=>g(b)),I=k.useRef(),T=EH(i),R=T==="ltr",w=R&&!s||!R&&s;function E(b){const O=I.current||p.getBoundingClientRect(),B=[0,O.width],V=Zy(B,w?[n,r]:[r,n]);return I.current=O,V(b-O.left)}return k.createElement(eO,{scope:t.__scopeSlider,startEdge:w?"left":"right",endEdge:w?"right":"left",direction:w?1:-1,size:"width"},k.createElement(nO,Sn({dir:T,"data-orientation":"horizontal"},h,{ref:v,style:{...h.style,["--radix-slider-thumb-transform"]:"translateX(-50%)"},onSlideStart:b=>{const O=E(b.clientX);o?.(O)},onSlideMove:b=>{const O=E(b.clientX);l?.(O)},onSlideEnd:()=>{I.current=void 0,c?.()},onStepKeyDown:b=>{const B=Xx[w?"from-left":"from-right"].includes(b.key);f?.({event:b,direction:B?-1:1})}})))}),LH=k.forwardRef((t,e)=>{const{min:n,max:r,inverted:i,onSlideStart:s,onSlideMove:o,onSlideEnd:l,onStepKeyDown:c,...f}=t,h=k.useRef(null),p=Ss(e,h),g=k.useRef(),v=!i;function I(T){const R=g.current||h.current.getBoundingClientRect(),w=[0,R.height],b=Zy(w,v?[r,n]:[n,r]);return g.current=R,b(T-R.top)}return k.createElement(eO,{scope:t.__scopeSlider,startEdge:v?"bottom":"top",endEdge:v?"top":"bottom",size:"height",direction:v?1:-1},k.createElement(nO,Sn({"data-orientation":"vertical"},f,{ref:p,style:{...f.style,["--radix-slider-thumb-transform"]:"translateY(50%)"},onSlideStart:T=>{const R=I(T.clientY);s?.(R)},onSlideMove:T=>{const R=I(T.clientY);o?.(R)},onSlideEnd:()=>{g.current=void 0,l?.()},onStepKeyDown:T=>{const w=Xx[v?"from-bottom":"from-top"].includes(T.key);c?.({event:T,direction:w?-1:1})}})))}),nO=k.forwardRef((t,e)=>{const{__scopeSlider:n,onSlideStart:r,onSlideMove:i,onSlideEnd:s,onHomeKeyDown:o,onEndKeyDown:l,onStepKeyDown:c,...f}=t,h=hp(Cc,n);return k.createElement(dp.span,Sn({},f,{ref:e,onKeyDown:ca(t.onKeyDown,p=>{p.key==="Home"?(o(p),p.preventDefault()):p.key==="End"?(l(p),p.preventDefault()):Qx.concat(Jx).includes(p.key)&&(c(p),p.preventDefault())}),onPointerDown:ca(t.onPointerDown,p=>{const g=p.target;g.setPointerCapture(p.pointerId),p.preventDefault(),h.thumbs.has(g)?g.focus():r(p)}),onPointerMove:ca(t.onPointerMove,p=>{p.target.hasPointerCapture(p.pointerId)&&i(p)}),onPointerUp:ca(t.onPointerUp,p=>{const g=p.target;g.hasPointerCapture(p.pointerId)&&(g.releasePointerCapture(p.pointerId),s(p))})}))}),FH="SliderTrack",MH=k.forwardRef((t,e)=>{const{__scopeSlider:n,...r}=t,i=hp(FH,n);return k.createElement(dp.span,Sn({"data-disabled":i.disabled?"":void 0,"data-orientation":i.orientation},r,{ref:e}))}),eI="SliderRange",UH=k.forwardRef((t,e)=>{const{__scopeSlider:n,...r}=t,i=hp(eI,n),s=tO(eI,n),o=k.useRef(null),l=Ss(e,o),c=i.values.length,f=i.values.map(g=>rO(g,i.min,i.max)),h=c>1?Math.min(...f):0,p=100-Math.max(...f);return k.createElement(dp.span,Sn({"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0},r,{ref:l,style:{...t.style,[s.startEdge]:h+"%",[s.endEdge]:p+"%"}}))}),tI="SliderThumb",BH=k.forwardRef((t,e)=>{const n=xH(t.__scopeSlider),[r,i]=k.useState(null),s=Ss(e,l=>i(l)),o=k.useMemo(()=>r?n().findIndex(l=>l.ref.current===r):-1,[n,r]);return k.createElement($H,Sn({},t,{ref:s,index:o}))}),$H=k.forwardRef((t,e)=>{const{__scopeSlider:n,index:r,...i}=t,s=hp(tI,n),o=tO(tI,n),[l,c]=k.useState(null),f=Ss(e,R=>c(R)),h=bH(l),p=s.values[r],g=p===void 0?0:rO(p,s.min,s.max),v=WH(r,s.values.length),I=h?.[o.size],T=I?GH(I,g,o.direction):0;return k.useEffect(()=>{if(l)return s.thumbs.add(l),()=>{s.thumbs.delete(l)}},[l,s.thumbs]),k.createElement("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[o.startEdge]:`calc(${g}% + ${T}px)`}},k.createElement($0.ItemSlot,{scope:t.__scopeSlider},k.createElement(dp.span,Sn({role:"slider","aria-label":t["aria-label"]||v,"aria-valuemin":s.min,"aria-valuenow":p,"aria-valuemax":s.max,"aria-orientation":s.orientation,"data-orientation":s.orientation,"data-disabled":s.disabled?"":void 0,tabIndex:s.disabled?void 0:0},i,{ref:f,style:p===void 0?{display:"none"}:t.style,onFocus:ca(t.onFocus,()=>{s.valueIndexToChangeRef.current=r})}))))}),jH=t=>{const{value:e,...n}=t,r=k.useRef(null),i=SH(e);return k.useEffect(()=>{const s=r.current,o=window.HTMLInputElement.prototype,c=Object.getOwnPropertyDescriptor(o,"value").set;if(i!==e&&c){const f=new Event("input",{bubbles:!0});c.call(s,e),s.dispatchEvent(f)}},[i,e]),k.createElement("input",Sn({style:{display:"none"}},n,{ref:r,defaultValue:e}))};function VH(t=[],e,n){const r=[...t];return r[n]=e,r.sort((i,s)=>i-s)}function rO(t,e,n){return 100/(n-e)*(t-e)}function WH(t,e){return e>2?`Value ${t+1} of ${e}`:e===2?["Minimum","Maximum"][t]:void 0}function zH(t,e){if(t.length===1)return 0;const n=t.map(i=>Math.abs(i-e)),r=Math.min(...n);return n.indexOf(r)}function GH(t,e,n){const r=t/2,s=Zy([0,50],[0,r]);return(r-s(e)*n)*n}function HH(t){return t.slice(0,-1).map((e,n)=>t[n+1]-e)}function KH(t,e){if(e>0){const n=HH(t);return Math.min(...n)>=e}return!0}function Zy(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function qH(t){return(String(t).split(".")[1]||"").length}function YH(t,e){const n=Math.pow(10,e);return Math.round(t*n)/n}const QH=PH,JH=MH,XH=UH,ZH=BH;function eK({children:t,...e}){return L.jsx(QH,{...e,className:mr("relative flex touch-none select-none items-center overflow-hidden rounded-full",e.className),children:t})}function tK({children:t,...e}){return L.jsx(JH,{className:"relative h-6 grow cursor-pointer rounded-full bg-white-12",...e,children:t})}function nK({children:t,...e}){return L.jsx(XH,{className:"absolute h-full bg-white-100",...e,children:t})}function rK({children:t,...e}){return L.jsx(ZH,{className:"cursor-pointer transition focus:outline-none",...e,children:L.jsx("div",{className:"mr-4 block h-4 w-1 rounded-full bg-black opacity-30",children:t})})}function iK(t){return L.jsx("form",{children:L.jsxs(eK,{...t,children:[L.jsx(tK,{children:L.jsx(nK,{})}),L.jsx(rK,{})]})})}function tc({label:t,labelText:e,deviceId:n,startIcon:r,hideLabel:i=!1,isGreyedOut:s=!1,setIsGreyedOut:o,onChange:l,min:c}){const{value:f,emitEvent:h,meta:p}=Es(t,n);return L.jsx(L.Fragment,{children:L.jsx(sK,{min:c,label:t,labelText:e,deviceId:n,startIcon:r,hideLabel:i,isGreyedOut:s,setIsGreyedOut:o,value:f,onChange:(g,v)=>{h(g,v),l&&l(g,v)}})})}function sK({label:t,labelText:e,startIcon:n,hideLabel:r=!1,isGreyedOut:i=!1,setIsGreyedOut:s,min:o,value:l,onChange:c}){const[f,h]=k.useState(!(l&&l>10));return L.jsxs(L.Fragment,{children:[!r&&L.jsx("label",{className:"text-xs uppercase text-white-48",children:e||t}),L.jsxs("div",{className:mr("relative flex items-center",!r&&"mt-2"),children:[L.jsx("div",{className:"pointer-events-none absolute left-2 z-20 w-4 select-none",children:Vt.cloneElement(n,{style:{color:f?"#ffffff":"#262A2A"}})}),L.jsx("div",{className:"grow",children:L.jsx(iK,{value:[l||0],className:i?"opacity-50":"",min:o||0,max:100,step:1,onValueChange:p=>{const g=p[0];c(g,{}),g<10&&!f&&h(!0),g>10&&f&&h(!1),i&&s&&s(!1)},"aria-label":t})})]})]})}let j0=[{id:"d_an1",type:"custom",event:"d_an1",desc:"No Animation",background:'url("animace/Finished - no animation.svg")',tags:["Animace"],editable:!0},{id:"d_an2",type:"custom",event:"d_an2",desc:"Confetti",background:'url("animace/Finished - confetti.png")',tags:["Animace"],editable:!0},{id:"d_an3",type:"custom",event:"d_an3",desc:"PWS Rainbow",background:'url("animace/Finished - rainbow.png")',tags:["Animace"],editable:!1}];j0=j0.map(t=>(t.expandable=!1,t));let V0=[{id:"b_an1",type:"custom",event:"b_an1",desc:"Progress Bar",background:'url("animace/Printing - progress from center.svg")',tags:["Animace"],editable:!0},{id:"b_an2",type:"custom",event:"b_an2",desc:"Caterpillars",background:'url("animace/Printing - catterpillars.svg")',tags:["Animace"],editable:!0},{id:"b_an3",type:"custom",event:"b_an3",desc:"Breathing",background:'url("animace/Printing - breathing.svg")',tags:["Animace"],editable:!0}];V0=V0.map(t=>(t.expandable=!0,t));let W0=[{id:"s_an1",type:"custom",event:"s_an1",desc:"Solid Color",background:'url("animace/Standby - solid.svg")',tags:["Animace"],editable:!1},{id:"s_an2",type:"custom",event:"s_an2",desc:"Casual",background:'url("animace/Standby - casual.svg")',tags:["Animace"],editable:!1},{id:"s_an3",type:"custom",event:"s_an3",desc:"Fireplace",background:'url("animace/Standby - fireplace.svg")',tags:["Animace"],editable:!1}];W0=W0.map(t=>(t.expandable=!1,t));function iO({color:t}){return L.jsx("div",{className:"pointer-events-none absolute inset-0 h-screen w-screen select-none  overflow-hidden",children:L.jsx("div",{className:"absolute top-1/2 left-1/2 -z-10 -translate-y-1/2 -translate-x-1/2",children:L.jsxs("svg",{width:"1126",height:"1635",viewBox:"0 0 1126 1635",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[L.jsx("g",{opacity:"0.32",filter:"url(#filter0_f_320_5374)",children:L.jsx("ellipse",{cx:"562.842",cy:"817.122",rx:"222.142",ry:"518.195",transform:"rotate(-14.3755 562.842 817.122)",fill:t})}),L.jsx("defs",{children:L.jsxs("filter",{id:"filter0_f_320_5374",x:"0.0898438",y:"0.0881348",width:"1125.5",height:"1634.07",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB",children:[L.jsx("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),L.jsx("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),L.jsx("feGaussianBlur",{stdDeviation:"156",result:"effect1_foregroundBlur_320_5374"})]})})]})})})}let oK=0;function nI(t,e){const n=`atom${++oK}`,r={toString:()=>n};return typeof t=="function"?r.read=t:(r.init=t,r.read=i=>i(r),r.write=(i,s,o)=>s(r,typeof o=="function"?o(i(r)):o)),e&&(r.write=e),r}const Wm=t=>"init"in t,zm=t=>!!t.write,Eh=new WeakMap,aK=(t,e)=>{Eh.set(t,e),t.catch(()=>{}).finally(()=>Eh.delete(t))},rI=(t,e)=>{const n=Eh.get(t);n&&(Eh.delete(t),n(e))},iI=(t,e)=>{t.status="fulfilled",t.value=e},sI=(t,e)=>{t.status="rejected",t.reason=e},Vf=(t,e)=>"v"in t&&"v"in e&&Object.is(t.v,e.v),oI=(t,e)=>"e"in t&&"e"in e&&Object.is(t.e,e.e),Gm=t=>"v"in t&&t.v instanceof Promise,Wf=t=>{if("e"in t)throw t.e;return t.v},lK=()=>{var t,e;const n=new WeakMap,r=new WeakMap,i=new Map;let s,o;((t={VITE_APPNAME:"NARA DEV",BASE_URL:"./",MODE:"production",DEV:!1,PROD:!0})==null?void 0:t.MODE)!=="production"&&(s=new Set,o=new Set);const l=D=>n.get(D),c=(D,F)=>{var Y;((Y={VITE_APPNAME:"NARA DEV",BASE_URL:"./",MODE:"production",DEV:!1,PROD:!0})==null?void 0:Y.MODE)!=="production"&&Object.freeze(F);const X=n.get(D);if(n.set(D,F),i.has(D)||i.set(D,X),X&&Gm(X)){const le="v"in F?F.v instanceof Promise?F.v:Promise.resolve(F.v):Promise.reject(F.e);rI(X.v,le)}},f=(D,F,Y)=>{const X=new Map;let le=!1;Y.forEach(Z=>{var fe;const ke=Z===D?F:l(Z);ke?(X.set(Z,ke),F.d.get(Z)!==ke&&(le=!0)):((fe={VITE_APPNAME:"NARA DEV",BASE_URL:"./",MODE:"production",DEV:!1,PROD:!0})==null?void 0:fe.MODE)!=="production"&&console.warn("[Bug] atom state not found")}),(le||F.d.size!==X.size)&&(F.d=X)},h=(D,F,Y)=>{const X=l(D),le={d:X?.d||new Map,v:F};return Y&&f(D,le,Y),X&&Vf(X,le)&&X.d===le.d?X:(c(D,le),le)},p=(D,F,Y)=>{const X=l(D),le={d:X?.d||new Map,e:F};return Y&&f(D,le,Y),X&&oI(X,le)&&X.d===le.d?X:(c(D,le),le)},g=D=>{const F=l(D);if(F&&(F.d.forEach((ce,z)=>{z!==D&&!r.has(z)&&g(z)}),Array.from(F.d).every(([ce,z])=>ce===D||l(ce)===z)))return F;const Y=new Set;let X=!0;const le=ce=>{if(Y.add(ce),ce===D){const ee=l(ce);if(ee)return Wf(ee);if(Wm(ce))return ce.init;throw new Error("no atom init")}const z=g(ce);return Wf(z)};let Z,fe;const ke={get signal(){return Z||(Z=new AbortController),Z.signal},get setSelf(){var ce;return((ce={VITE_APPNAME:"NARA DEV",BASE_URL:"./",MODE:"production",DEV:!1,PROD:!0})==null?void 0:ce.MODE)!=="production"&&!zm(D)&&console.warn("setSelf function cannot be used with read-only atom"),!fe&&zm(D)&&(fe=(...z)=>{var ee;if(((ee={VITE_APPNAME:"NARA DEV",BASE_URL:"./",MODE:"production",DEV:!1,PROD:!0})==null?void 0:ee.MODE)!=="production"&&X&&console.warn("setSelf function cannot be called in sync"),!X)return b(D,...z)}),fe}};try{const ce=D.read(le,ke);if(ce instanceof Promise){let z;const ee=new Promise((se,oe)=>{let De=!1;ce.then(Ot=>{De||(iI(ee,Ot),se(Ot))},Ot=>{De||(sI(ee,Ot),oe(Ot))}).finally(()=>{De||(De=!0,h(D,ee,Y))}),z=Ot=>{De||(De=!0,Ot.then(mt=>iI(ee,mt),mt=>sI(ee,mt)),se(Ot))}});return ee.status="pending",aK(ee,se=>{se&&z(se),Z?.abort()}),h(D,ee,Y)}return h(D,ce,Y)}catch(ce){return p(D,ce,Y)}finally{X=!1}},v=D=>Wf(g(D)),I=D=>{let F=r.get(D);return F||(F=O(D)),F},T=(D,F)=>!F.l.size&&(!F.t.size||F.t.size===1&&F.t.has(D)),R=D=>{const F=r.get(D);F&&T(D,F)&&B(D)},w=D=>{const F=r.get(D);F?.t.forEach(Y=>{if(Y!==D){const X=l(Y),le=g(Y);(!X||!Vf(X,le))&&w(Y)}})},E=(D,...F)=>{let Y=!0;const X=fe=>Wf(g(fe)),le=(fe,...ke)=>{let ce;if(fe===D){if(!Wm(fe))throw new Error("atom not writable");const z=l(fe),ee=h(fe,ke[0]);(!z||!Vf(z,ee))&&w(fe)}else ce=E(fe,...ke);return Y||V(),ce},Z=D.write(X,le,...F);return Y=!1,Z},b=(D,...F)=>{const Y=E(D,...F);return V(),Y},O=(D,F)=>{var Y;const X={t:new Set(F&&[F]),l:new Set};if(r.set(D,X),((Y={VITE_APPNAME:"NARA DEV",BASE_URL:"./",MODE:"production",DEV:!1,PROD:!0})==null?void 0:Y.MODE)!=="production"&&o.add(D),g(D).d.forEach((le,Z)=>{const fe=r.get(Z);fe?fe.t.add(D):Z!==D&&O(Z,D)}),g(D),zm(D)&&D.onMount){const le=D.onMount((...Z)=>b(D,...Z));le&&(X.u=le)}return X},B=D=>{var F,Y,X;const le=(F=r.get(D))==null?void 0:F.u;le&&le(),r.delete(D),((Y={VITE_APPNAME:"NARA DEV",BASE_URL:"./",MODE:"production",DEV:!1,PROD:!0})==null?void 0:Y.MODE)!=="production"&&o.delete(D);const Z=l(D);Z?(Gm(Z)&&rI(Z.v),Z.d.forEach((fe,ke)=>{if(ke!==D){const ce=r.get(ke);ce&&(ce.t.delete(D),T(ke,ce)&&B(ke))}})):((X={VITE_APPNAME:"NARA DEV",BASE_URL:"./",MODE:"production",DEV:!1,PROD:!0})==null?void 0:X.MODE)!=="production"&&console.warn("[Bug] could not find atom state to unmount",D)},q=(D,F,Y)=>{const X=new Set(F.d.keys());Y?.forEach((le,Z)=>{if(X.has(Z)){X.delete(Z);return}const fe=r.get(Z);fe&&(fe.t.delete(D),T(Z,fe)&&B(Z))}),X.forEach(le=>{const Z=r.get(le);Z?Z.t.add(D):r.has(D)&&O(le,D)})},V=()=>{for(var D;i.size;){const F=Array.from(i);i.clear(),F.forEach(([Y,X])=>{var le;const Z=l(Y);if(Z){Z.d!==X?.d&&q(Y,Z,X?.d);const fe=r.get(Y);fe&&!(X&&!Gm(X)&&(Vf(X,Z)||oI(X,Z)))&&fe.l.forEach(ke=>ke())}else((le={VITE_APPNAME:"NARA DEV",BASE_URL:"./",MODE:"production",DEV:!1,PROD:!0})==null?void 0:le.MODE)!=="production"&&console.warn("[Bug] no atom state to flush")})}((D={VITE_APPNAME:"NARA DEV",BASE_URL:"./",MODE:"production",DEV:!1,PROD:!0})==null?void 0:D.MODE)!=="production"&&s.forEach(F=>F())},J=(D,F)=>{const Y=I(D);V();const X=Y.l;return X.add(F),()=>{X.delete(F),R(D)}};return((e={VITE_APPNAME:"NARA DEV",BASE_URL:"./",MODE:"production",DEV:!1,PROD:!0})==null?void 0:e.MODE)!=="production"?{get:v,set:b,sub:J,dev_subscribe_state:D=>(s.add(D),()=>{s.delete(D)}),dev_get_mounted_atoms:()=>o.values(),dev_get_atom_state:D=>n.get(D),dev_get_mounted:D=>r.get(D),dev_restore_atoms:D=>{for(const[F,Y]of D)Wm(F)&&(h(F,Y),w(F));V()}}:{get:v,set:b,sub:J}};let Hm;const uK=()=>(Hm||(Hm=lK()),Hm),cK=k.createContext(void 0),sO=t=>{const e=k.useContext(cK);return t?.store||e||uK()},fK=t=>t instanceof Promise,dK=Vt.use||(t=>{if(t.status==="pending")throw t;if(t.status==="fulfilled")return t.value;throw t.status==="rejected"?t.reason:(t.status="pending",t.then(e=>{t.status="fulfilled",t.value=e},e=>{t.status="rejected",t.reason=e}),t)});function hK(t,e){const n=sO(e),[[r,i,s],o]=k.useReducer(f=>{const h=n.get(t);return Object.is(f[0],h)&&f[1]===n&&f[2]===t?f:[h,n,t]},void 0,()=>[n.get(t),n,t]);let l=r;(i!==n||s!==t)&&(o(),l=n.get(t));const c=e?.delay;return k.useEffect(()=>{const f=n.sub(t,()=>{if(typeof c=="number"){setTimeout(o,c);return}o()});return o(),f},[n,t,c]),k.useDebugValue(l),fK(l)?dK(l):l}function pK(t,e){const n=sO(e);return k.useCallback((...i)=>{var s;if(((s={VITE_APPNAME:"NARA DEV",BASE_URL:"./",MODE:"production",DEV:!1,PROD:!0})==null?void 0:s.MODE)!=="production"&&!("write"in t))throw new Error("not writable atom");return n.set(t,...i)},[n,t])}function gK(t,e){return[hK(t,e),pK(t,e)]}const mK=(t,e)=>{const r=nI((()=>{if(typeof window<"u"){const s=localStorage.getItem(t);return s!==null?JSON.parse(s):e}return e})());return nI(s=>s(r),(s,o,l)=>{const c=typeof l=="function"?l(s(r)):l;o(r,c),localStorage.setItem(t,JSON.stringify(c))})},oO=t=>{const n=(t||100)/100;return Math.round(n*255).toString(16).padStart(2,"0")};function vK(){const{device_id:t}={device_id:255},e={id:255,name:"PWS400K",controllers:[],controlMethods:["rgb"]};if(!e)return L.jsx("p",{children:"No device found..."});const{name:n}=e,{controlMethods:r}=e;return L.jsxs("div",{className:" xl:fixed xl:top-1/2 xl:left-1/2 xl:max-h-[1100px] xl:w-full xl:max-w-md xl:-translate-x-1/2 xl:-translate-y-1/2 xl:overflow-hidden xl:rounded xl:border xl:border-white-12",children:[L.jsx(SK,{device:e,name:n,device_id:t}),L.jsxs("div",{className:"m-auto max-w-[393px] p-6",children:[r.includes("all")&&L.jsx(aI,{device_id:t}),r.includes("dimmable")&&L.jsx(aI,{device_id:t}),r.includes("cct")&&L.jsx(_K,{device_id:t}),r.includes("rgb")&&L.jsx(yK,{device_id:t})]}),r.includes("rgb")&&L.jsx(aG,{})]})}function aI({device_id:t}){return Es("toggl",t),L.jsxs(L.Fragment,{children:[L.jsx(tc,{label:"top",labelText:"Top",min:3,startIcon:L.jsx(ec,{className:"w-4"}),deviceId:Number(t)}),L.jsx("br",{}),L.jsx(tc,{label:"bot",labelText:"Bottom",min:3,startIcon:L.jsx(ec,{className:"w-4"}),deviceId:Number(t)}),L.jsx("br",{})]})}function _K({device_id:t}){Es("toggl",t);const{emitEvent:e,value:n}=Es("cct",Number(t));return L.jsxs(L.Fragment,{children:[L.jsx(pH,{color:n,onChange:e,type:"kelvin"}),L.jsx(tc,{label:"brigh",min:3,labelText:"Brightness",startIcon:L.jsx(ec,{className:"w-4"}),deviceId:Number(t)})]})}function yK({device_id:t}){const{pathname:e}=Ka(),r=e==="/animations";Es("toggl",t);const{emitEvent:i,value:s}=hz("color",Number(t)),{value:o}=Es("brigh",Number(t)),[l,c]=k.useState(s),f=(h,p)=>{const g=oO(p||100),v=h+g;c(v)};return k.useEffect(()=>{f(s,o)},[o,s]),r?L.jsx(EK,{device_id:t}):L.jsxs(L.Fragment,{children:[L.jsx(hH,{color:s,type:"wheel",onChange:i}),L.jsxs("div",{className:"mt-2",children:[L.jsx("label",{className:"text-xs uppercase text-white-48",children:"Hex code"}),L.jsx("input",{type:"text",className:"mt-2 w-full rounded-full bg-white-12 p-2 px-4 text-center text-sm uppercase text-white-60 focus:bg-white-24 focus:outline-none",value:s,onChange:h=>{i(h.target.value)}})]}),L.jsxs("div",{children:[L.jsx("label",{className:"text-xs uppercase text-white-48",children:"Presets"}),L.jsxs("div",{className:"mt-2 grid grid-cols-6 gap-3",children:[L.jsx("div",{className:"h-8 cursor-pointer rounded bg-[red] transition active:opacity-60",onClick:()=>i("#ff0000")}),L.jsx("div",{className:"h-8 cursor-pointer rounded bg-[green] transition active:opacity-60",onClick:()=>i("#00ff00")}),L.jsx("div",{className:"h-8 cursor-pointer rounded bg-[#3161ff] transition active:opacity-60",onClick:()=>i("#0000ff")}),L.jsx("div",{className:"h-8 cursor-pointer rounded bg-[#de3cff] transition active:opacity-60",onClick:()=>i("#de3cff")}),L.jsx("div",{className:"h-8 cursor-pointer rounded bg-[yellow] transition active:opacity-60",onClick:()=>i("#ffff00")}),L.jsx("div",{className:"h-8 cursor-pointer rounded bg-[orange] transition active:opacity-60",onClick:()=>i("#ffa500")})]})]}),L.jsx("div",{className:"my-5",children:L.jsx(tc,{label:"brigh",labelText:"Brightness",min:3,startIcon:L.jsx(ec,{}),deviceId:Number(t)})}),L.jsx(iO,{color:l})]})}const wK=mK("animation_event",{standby:"s_an2",printing:"b_an3",done:"d_an3"});function EK({device_id:t}){const{value:e}=Es("brigh",Number(t)),[n,r]=gK(wK),i="#e98e34",[s,o]=k.useState(i);function l(h){return h.match(/\burl\("([^"]+)"\)/)[1]}async function c(h){const p=new kG,v=h.background.split('"')[1];try{const T=`${(await p.getColorAsync(v)).hex}${oO(e)}`;o(T)}catch(I){console.log("Error getting color",I)}}function f(h,p,g){switch(h.type==="custom"?aa({label:h.event,value:100,device_id:255,type:"percentage"}):h.type==="gradient"&&(aa({label:"e_gr2",value:100,device_id:255,type:"percentage"}),aa({label:"grad1",value:h.start,device_id:255,type:"color"}),aa({label:"grad2",value:h.end,device_id:255,type:"color"})),c(h),g){case"standby":r({...n,standby:h.event});break;case"printing":r({...n,printing:h.event});break;case"done":r({...n,done:h.event});break}}return L.jsxs(L.Fragment,{children:[L.jsx("div",{className:"text-xs text-white-48 h-[70px] w-[350px]",children:"Customize your LED animations based on the printer's activity status."}),L.jsx("label",{className:"text-xs uppercase text-white-48",children:"PRINTER STANDBY"}),L.jsx("div",{className:"mt-2 w-[calc(100%+25px)] overflow-hidden overflow-x-scroll",children:L.jsx("div",{className:"grid h-[140px] w-[450px] grid-cols-3 gap-2 pb-2",children:W0.map((h,p)=>{const g=n.standby===h.event;return L.jsxs("span",{children:[L.jsxs("div",{onClick:()=>f(h,p,"standby"),className:mr("relative flex h-[90px] cursor-pointer overflow-hidden  rounded-xl transition hover:opacity-100",g?"opacity-100":"opacity-60"),children:[L.jsx("div",{className:mr("absolute inset-0 z-20 scale-125 rounded-xl border-[3px] border-white-100 bg-gradient-to-b from-[rgba(0,0,0,0)] to-[rgba(0,0,0,0.4)] transition ",g&&"scale-100")}),L.jsx("img",{src:l(h.background),alt:"",className:"absolute inset-0 z-10 h-full object-cover "})]},p),L.jsx("div",{className:"z-50 self-end p-1 text-sm font-semibold",children:h.desc})]})})})}),L.jsx("label",{className:"text-xs uppercase text-white-48",children:"PRINTING IN PROGRESS"}),L.jsx("div",{className:"mt-2 w-[calc(100%+25px)] overflow-hidden overflow-x-scroll",children:L.jsx("div",{className:"grid h-[140px] w-[450px] grid-cols-3 gap-2 pb-2",children:V0.map((h,p)=>{const g=n.printing===h.event;return L.jsxs("span",{children:[L.jsxs("div",{onClick:()=>f(h,p,"printing"),className:mr("relative flex h-[90px] cursor-pointer overflow-hidden  rounded-xl transition hover:opacity-100",g?"opacity-100":"opacity-60"),children:[L.jsx("div",{className:mr("absolute inset-0 z-20 scale-125 rounded-xl border-[3px] border-white-100 bg-gradient-to-b from-[rgba(0,0,0,0)] to-[rgba(0,0,0,0.4)] transition ",g&&"scale-100")}),L.jsx("img",{src:l(h.background),alt:"",className:"absolute inset-0 z-10 h-full object-cover "})]},p),L.jsx("div",{className:"z-50 self-end p-1 text-sm font-semibold",children:h.desc})]})})})}),L.jsx("label",{className:"text-xs uppercase text-white-48",children:"PRINT FINISHED"}),L.jsx("div",{className:"mt-2 w-[calc(100%+25px)] overflow-hidden overflow-x-scroll",children:L.jsx("div",{className:"grid h-[140px] w-[450px] grid-cols-3 gap-2 pb-2",children:j0.map((h,p)=>{const g=n.done===h.event;return L.jsxs("span",{children:[L.jsxs("div",{onClick:()=>f(h,p,"done"),className:mr("relative flex h-[90px] cursor-pointer overflow-hidden  rounded-xl transition hover:opacity-100",g?"opacity-100":"opacity-60"),children:[L.jsx("div",{className:mr("absolute inset-0 z-20 scale-125 rounded-xl border-[3px] border-white-100 bg-gradient-to-b from-[rgba(0,0,0,0)] to-[rgba(0,0,0,0.4)] transition ",g&&"scale-100")}),L.jsx("img",{src:l(h.background),alt:"",className:"absolute inset-0 z-10 h-full object-cover "})]},p),L.jsx("div",{className:"z-50 self-end p-1 text-sm font-semibold",children:h.desc})]})})})}),L.jsx("div",{className:"mt-10",children:L.jsx(tc,{label:"brigh",labelText:"Brightness",min:3,startIcon:L.jsx(ec,{className:"w-4"}),deviceId:Number(t)})}),L.jsx(iO,{color:s})]})}function SK({name:t,device:e,device_id:n}){return L.jsx("div",{className:"bg-darkglass overflow-hidden border-b border-white-12",children:L.jsxs("div",{className:"m-auto flex max-w-[393px] justify-between p-6  py-4",children:[L.jsx("div",{className:"flex items-center gap-3",children:L.jsxs("div",{children:[L.jsx("p",{className:"mb-1  text-lg font-semibold leading-none",children:t}),L.jsx("p",{className:"text-xs uppercase text-white-60",children:e.controlMethods.join(", ")})]})}),L.jsx(jz,{label:"toggl",isOffline:!1,deviceId:Number(n),isBig:!0})]})})}function CK(){return L.jsx(_U,{children:L.jsx(XR,{children:L.jsx(IB,{children:L.jsx(hU,{children:L.jsx(TR,{path:"/*",element:L.jsx(vK,{})})})})})})}window.location.hash="";function bK(){return L.jsx("div",{className:"App",children:L.jsx(XR,{children:L.jsx(CK,{})})})}qm.createRoot(document.getElementById("root")).render(L.jsx(Vt.StrictMode,{children:L.jsx(bK,{})}));
